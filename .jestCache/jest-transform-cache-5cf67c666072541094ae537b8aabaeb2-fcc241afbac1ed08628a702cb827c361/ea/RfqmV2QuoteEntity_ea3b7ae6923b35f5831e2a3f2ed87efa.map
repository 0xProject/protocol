{"file":"/Users/davidwalsh/code-local/0x-rfq-api/src/entities/RfqmV2QuoteEntity.ts","mappings":";;;;;;;;;;;;AAAA,qCAA+D;AAa/D,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;IAuC1B,4DAA4D;IAC5D,YAAY,OAAmC,EAAgC;;QAC3E,wCAAwC;QACxC,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;SACnC;QAED,IAAI,CAAC,gBAAgB,GAAG,MAAA,IAAI,CAAC,gBAAgB,mCAAI,IAAI,CAAC;QACtD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC5B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,MAAA,IAAI,CAAC,YAAY,mCAAI,IAAI,CAAC;QAC9C,IAAI,CAAC,QAAQ,GAAG,MAAA,IAAI,CAAC,QAAQ,mCAAI,KAAK,CAAC;QACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,IAAI,CAAC,kBAAkB,GAAG,MAAA,IAAI,CAAC,kBAAkB,mCAAI,IAAI,CAAC;IAC9D,CAAC;CACJ,CAAA;AAtDG;IADC,IAAA,uBAAa,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;;oDAC9B;AAIzB;IAFC,IAAA,eAAK,GAAE;IACP,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,aAAa,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,OAAO,EAAE,CAAC;8BACzD,IAAI;oDAAC;AAGxB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;;kDACvB;AAGvB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uDAChC;AAGnC;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;;mDACvB;AAGxB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;8CACjB;AAGtB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;gDACZ;AAK7B;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;;mDACtB;AAGzB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2DAChC;AAQvC;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,sBAAsB,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6DACZ;AArCrD,iBAAiB;IAD7B,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC;;GACtB,iBAAiB,CAwD7B;AAxDY,8CAAiB","names":[],"sources":["/Users/davidwalsh/code-local/0x-rfq-api/src/entities/RfqmV2QuoteEntity.ts"],"sourcesContent":["import { Column, Entity, Index, PrimaryColumn } from 'typeorm';\n\nimport { StoredFee } from '../core/types';\n\nimport { StoredOtcOrder } from './types';\n\nexport type RfqmV2QuoteConstructorOpts = Pick<\n    RfqmV2QuoteEntity,\n    'chainId' | 'fee' | 'makerUri' | 'orderHash' | 'order'\n> &\n    Partial<RfqmV2QuoteEntity>;\n\n@Entity({ name: 'rfqm_v2_quotes' })\nexport class RfqmV2QuoteEntity {\n    @PrimaryColumn({ name: 'order_hash', type: 'varchar' })\n    public orderHash: string;\n\n    @Index()\n    @Column({ name: 'created_at', type: 'timestamptz', default: () => 'now()' })\n    public createdAt!: Date;\n\n    @Column({ name: 'chain_id', type: 'integer' })\n    public chainId: number;\n\n    @Column({ name: 'integrator_id', type: 'varchar', nullable: true })\n    public integratorId: string | null;\n\n    @Column({ name: 'maker_uri', type: 'varchar' })\n    public makerUri: string;\n\n    @Column({ name: 'fee', type: 'jsonb' })\n    public fee: StoredFee;\n\n    @Column({ name: 'order', type: 'jsonb' })\n    public order: StoredOtcOrder;\n\n    // Whether the maker wrapped native token will be unwrapped to the native token\n    // when passed to the taker\n    @Column({ name: 'is_unwrap', type: 'boolean' })\n    public isUnwrap: boolean;\n\n    @Column({ name: 'affiliate_address', type: 'varchar', nullable: true })\n    public affiliateAddress: string | null;\n\n    // When requesting a quote, taker specifies one amount (maker or taker amount)\n    // and the MM populates the other field.\n    // This field preserves that information.\n    // This field is accepted to be null, only for backward compatibility,\n    // in normal operation \"taker_specified_side\" is always known.\n    @Column({ name: 'taker_specified_side', type: 'varchar', nullable: true })\n    public takerSpecifiedSide: 'makerToken' | 'takerToken' | null;\n\n    // tslint:disable-next-line no-object-literal-type-assertion\n    constructor(opts: RfqmV2QuoteConstructorOpts = {} as RfqmV2QuoteConstructorOpts) {\n        // allow createdAt overrides for testing\n        if (opts.createdAt) {\n            this.createdAt = opts.createdAt;\n        }\n\n        this.affiliateAddress = opts.affiliateAddress ?? null;\n        this.chainId = opts.chainId;\n        this.fee = opts.fee;\n        this.integratorId = opts.integratorId ?? null;\n        this.isUnwrap = opts.isUnwrap ?? false;\n        this.makerUri = opts.makerUri;\n        this.order = opts.order;\n        this.orderHash = opts.orderHash;\n        this.takerSpecifiedSide = opts.takerSpecifiedSide ?? null;\n    }\n}\n"],"version":3}