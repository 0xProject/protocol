{"file":"/Users/davidwalsh/code-local/0x-rfq-api/src/utils/rfqm_gas_estimate_utils.ts","mappings":";;;AAAA,iDAAyF;AAEzF,0FAA0F;AAC1F,+FAA+F;AAC/F,wCAAwC;AACxC,MAAM,iBAAiB,GAA2B;IAC9C,YAAY,CAAC,4CAA4C,EAAE,GAAG;IAC9D,YAAY,CAAC,4CAA4C,EAAE,KAAK;IAChE,YAAY,CAAC,4CAA4C,EAAE,KAAK;IAChE,YAAY,CAAC,4CAA4C,EAAE,KAAK;IAChE,YAAY,CAAC,4CAA4C,EAAE,KAAK;IAChE,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,KAAK;IAChE,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,IAAI;IAC/D,YAAY,CAAC,4CAA4C,EAAE,IAAI;CAClE,CAAC;AAEF,0FAA0F;AAC1F,6DAA6D;AAC7D,kEAAkE;AAClE,MAAM,cAAc,GAAW,GAAG,CAAC;AAEnC;;GAEG;AACH,SAAgB,oBAAoB,CAChC,UAAkB,EAClB,UAAkB,EAClB,SAAwB,EACxB,QAAiB;IAEjB,MAAM,iBAAiB,GAAW,iBAAiB,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC;IACnF,MAAM,iBAAiB,GAAW,iBAAiB,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC;IACnF,MAAM,aAAa,GAAW,QAAQ,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5D,MAAM,OAAO,GAAG,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC,0CAA8B,CAAC,CAAC,CAAC,gCAAoB,CAAC;IAE5F,OAAO,OAAO,GAAG,iBAAiB,GAAG,iBAAiB,GAAG,aAAa,CAAC;AAC3E,CAAC;AAZD,oDAYC","names":[],"sources":["/Users/davidwalsh/code-local/0x-rfq-api/src/utils/rfqm_gas_estimate_utils.ts"],"sourcesContent":["import { RFQM_TX_GAS_ESTIMATE, RFQM_TX_OTC_ORDER_GAS_ESTIMATE } from '../core/constants';\r\n\r\n// ERC-20 tokens implement their own `transfer` and `transferFrom` functions, resulting in\r\n// different gas amounts used. These premia allow us to better estimate the gas each token uses\r\n// NOTE: Addresses must be in lower case\r\nconst TOKEN_GAS_PREMIUM: Record<string, number> = {\r\n    /* 1INCH  */ '0x111111111117dc0aa78b770fa6a738034120c302': 6e3,\r\n    /* AAVE   */ '0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9': 160e3,\r\n    /* BADGER */ '0x3472a5a71965499acd81997a54bba8d852c6e53d': 100e3,\r\n    /* DOUGH  */ '0xad32a8e6220741182940c5abf610bde99e737b2d': 100e3,\r\n    /* DYDX   */ '0x92d6c1e31e14520e676a687f0a93788b716beff5': 140e3,\r\n    /* ENS    */ '0xc18360217d8f7ab5e7c516566761ea12ce7f9d72': 40e3,\r\n    /* HOPR   */ '0xf5581dfefd8fb0e4aec526be659cfab1f8c781da': 70e3,\r\n    /* LDO    */ '0x5a98fcbea516cf06857215779fd812ca3bef1b32': 100e3,\r\n    /* LINK   */ '0x514910771af9ca656af840dff83e8264ecf986ca': 15e3,\r\n    /* OCEAN  */ '0x967da4048cd07ab37855c090aaf366e4ce1b9f48': 15e3,\r\n    /* SHIB   */ '0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce': 15e3,\r\n    /* SNX    */ '0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f': 70e3,\r\n    /* UMA    */ '0x04fa0d235c4abf4bcf4787af4cf447de572ef828': 75e3,\r\n    /* UNI    */ '0x1f9840a85d5af5bf1d1762f925bdaddc4201f984': 10e3,\r\n    /* USDC   */ '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48': 25e3,\r\n    /* USDT   */ '0xdac17f958d2ee523a2206206994597c13d831ec7': 20e3,\r\n    /* YFI    */ '0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e': 10e3,\r\n};\r\n\r\n// If the buy token is native, an unwrap operation is needed which cost us additional gas.\r\n// $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me\r\n// eslint-disable-next-line @typescript-eslint/no-inferrable-types\r\nconst UNWRAP_PREMIUM: number = 6e3;\r\n\r\n/**\r\n * Prepares the gas estimate for an RFQM trade\r\n */\r\nexport function calculateGasEstimate(\r\n    makerToken: string,\r\n    takerToken: string,\r\n    orderType: 'rfq' | 'otc',\r\n    isUnwrap: boolean,\r\n): number {\r\n    const makerTokenPremium: number = TOKEN_GAS_PREMIUM[makerToken.toLowerCase()] || 0;\r\n    const takerTokenPremium: number = TOKEN_GAS_PREMIUM[takerToken.toLowerCase()] || 0;\r\n    const unwrapPremium: number = isUnwrap ? UNWRAP_PREMIUM : 0;\r\n    const baseGas = orderType === 'otc' ? RFQM_TX_OTC_ORDER_GAS_ESTIMATE : RFQM_TX_GAS_ESTIMATE;\r\n\r\n    return baseGas + makerTokenPremium + takerTokenPremium + unwrapPremium;\r\n}\r\n"],"version":3}