8504d1eb585fe988af8b8114575dcce4
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const protocol_utils_1 = require("@0x/protocol-utils");
const utils_1 = require("@0x/utils");
const chai_1 = require("chai");
const uuid = require("uuid");
const constants_1 = require("../src/core/constants");
const fee_utils_1 = require("../src/core/fee_utils");
const types_1 = require("../src/entities/types");
const types_2 = require("../src/core/types");
const rfqm_db_utils_1 = require("../src/utils/rfqm_db_utils");
const constants_2 = require("./constants");
const deployment_1 = require("./test_utils/deployment");
const initDbDataSourceAsync_1 = require("./test_utils/initDbDataSourceAsync");
let dbUtils;
const createdAt = new Date();
// it's expired if it's over 9000
const expiry = new utils_1.BigNumber(9000);
const chainId = 1;
const makerUri = 'https://marketmaking.over9000.io';
const fee = {
    token: '0xatoken',
    amount: new utils_1.BigNumber(5),
    type: 'fixed',
};
const otcOrderNonce = new utils_1.BigNumber(1637085289);
const otcOrder = new protocol_utils_1.OtcOrder({
    txOrigin: '0x0000000000000000000000000000000000000000',
    taker: '0x1111111111111111111111111111111111111111',
    maker: '0x2222222222222222222222222222222222222222',
    makerToken: '0x3333333333333333333333333333333333333333',
    takerToken: '0x4444444444444444444444444444444444444444',
    expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(expiry, constants_1.ZERO, otcOrderNonce),
    chainId,
    verifyingContract: '0x0000000000000000000000000000000000000000',
});
const otcOrderHash = otcOrder.getHash();
const takerSignature = {
    v: 27,
    r: '0xd00d00',
    s: '0xcaca',
    signatureType: 1,
};
const approval = {
    kind: types_2.GaslessApprovalTypes.ExecuteMetaTransaction,
    eip712: {
        types: {
            EIP712Domain: [
                { name: 'name', type: 'string' },
                { name: 'version', type: 'string' },
                { name: 'verifyingContract', type: 'address' },
                { name: 'salt', type: 'bytes32' },
            ],
            ...constants_1.EXECUTE_META_TRANSACTION_EIP_712_TYPES,
        },
        primaryType: 'MetaTransaction',
        domain: {
            name: 'Balancer (PoS)',
            version: '1',
            verifyingContract: '0x9a71012b13ca4d3d0cdc72a177df3ef03b0e76a3',
            salt: '0x0000000000000000000000000000000000000000000000000000000000000089',
        },
        message: {
            nonce: 1,
            from: '0x1111111111111111111111111111111111111111',
            functionSignature: '0x095ea7b3000000000000000000000000def1c0ded9bec7f1a1670819833240f027b25effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff',
        },
    },
};
// tx properties
const transactionHash = '0x5678';
const from = '0xanRfqmWorker';
const to = '0xexchangeProxyAddress';
const gasPrice = new utils_1.BigNumber('100');
const gasUsed = null;
const blockMined = null;
const nonce = 0;
// meta-transaction
const inputToken = '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48';
const outputToken = '0xdAC17F958D2ee523a2206206994597C13D831ec7';
const inputTokenAmount = new utils_1.BigNumber(100);
const minOutputTokenAmount = new utils_1.BigNumber(99);
function creatMockMetaTransaction(opts = {}) {
    return new protocol_utils_1.MetaTransaction({
        ...constants_2.MOCK_META_TRANSACTION,
        ...opts,
    });
}
// tslint:disable-next-line: custom-no-magic-numbers
jest.setTimeout(constants_1.ONE_MINUTE_MS * 3);
let teardownDependencies;
let dataSource;
describe('RFQM Database', () => {
    beforeAll(async () => {
        teardownDependencies = await (0, deployment_1.setupDependenciesAsync)(['postgres']);
        dataSource = await (0, initDbDataSourceAsync_1.initDbDataSourceAsync)();
        dbUtils = new rfqm_db_utils_1.RfqmDbUtils(dataSource);
    });
    afterAll(async () => {
        if (!teardownDependencies()) {
            throw new Error('Failed to tear down dependencies');
        }
    });
    afterEach(async () => {
        await dataSource.query('TRUNCATE TABLE rfqm_quotes CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_jobs CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_transaction_submissions CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_v2_quotes CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_v2_jobs CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_v2_transaction_submissions CASCADE;');
        await dataSource.query('TRUNCATE TABLE meta_transaction_submissions CASCADE;');
        await dataSource.query('TRUNCATE TABLE meta_transaction_jobs CASCADE;');
    });
    describe('v2 tables', () => {
        it('should be able to write to and read from the rfqm_v2_quote table', async () => {
            await dbUtils.writeV2QuoteAsync({
                chainId,
                makerUri,
                isUnwrap: false,
                order: (0, rfqm_db_utils_1.otcOrderToStoredOtcOrder)(otcOrder),
                orderHash: otcOrderHash,
                fee: (0, fee_utils_1.feeToStoredFee)(fee),
                takerSpecifiedSide: 'takerToken',
            });
            const storedQuote = await dbUtils.findV2QuoteByOrderHashAsync(otcOrderHash);
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/no-non-null-asserted-optional-chain
            (0, chai_1.expect)(otcOrder).to.deep.eq((0, rfqm_db_utils_1.storedOtcOrderToOtcOrder)(storedQuote === null || storedQuote === void 0 ? void 0 : storedQuote.order));
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/no-non-null-asserted-optional-chain
            (0, chai_1.expect)(fee).to.deep.eq((0, fee_utils_1.storedFeeToFee)(storedQuote === null || storedQuote === void 0 ? void 0 : storedQuote.fee));
            (0, chai_1.expect)(storedQuote === null || storedQuote === void 0 ? void 0 : storedQuote.takerSpecifiedSide).to.equal('takerToken');
        });
        it('should be able to write, update, and read the rfqm_v2_job table', async () => {
            // Write
            await dbUtils.writeV2JobAsync({
                approval,
                chainId,
                status: types_1.RfqmJobStatus.PendingProcessing,
                expiry: otcOrder.expiry,
                makerUri,
                isUnwrap: false,
                order: (0, rfqm_db_utils_1.otcOrderToStoredOtcOrder)(otcOrder),
                takerSignature,
                orderHash: otcOrderHash,
                fee: (0, fee_utils_1.feeToStoredFee)(fee),
                takerSpecifiedSide: 'makerToken',
            });
            // First Read
            const storedJob = await dbUtils.findV2JobByOrderHashAsync(otcOrderHash);
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/no-non-null-asserted-optional-chain
            (0, chai_1.expect)((0, rfqm_db_utils_1.storedOtcOrderToOtcOrder)(storedJob === null || storedJob === void 0 ? void 0 : storedJob.order)).to.deep.eq(otcOrder);
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/no-non-null-asserted-optional-chain
            (0, chai_1.expect)((0, fee_utils_1.storedFeeToFee)(storedJob === null || storedJob === void 0 ? void 0 : storedJob.fee)).to.deep.eq(fee);
            (0, chai_1.expect)(storedJob === null || storedJob === void 0 ? void 0 : storedJob.status).to.equal(types_1.RfqmJobStatus.PendingProcessing);
            (0, chai_1.expect)(storedJob === null || storedJob === void 0 ? void 0 : storedJob.takerSignature).to.deep.eq(takerSignature);
            (0, chai_1.expect)(storedJob === null || storedJob === void 0 ? void 0 : storedJob.approval).to.deep.eq(approval);
            // Update
            await dbUtils.updateV2JobAsync(otcOrderHash, true, { status: types_1.RfqmJobStatus.SucceededConfirmed });
            // Second Read
            const updatedJob = await dbUtils.findV2JobByOrderHashAsync(otcOrderHash);
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/no-non-null-asserted-optional-chain
            (0, chai_1.expect)((0, rfqm_db_utils_1.storedOtcOrderToOtcOrder)(updatedJob === null || updatedJob === void 0 ? void 0 : updatedJob.order)).to.deep.eq(otcOrder);
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/no-non-null-asserted-optional-chain
            (0, chai_1.expect)((0, fee_utils_1.storedFeeToFee)(updatedJob === null || updatedJob === void 0 ? void 0 : updatedJob.fee)).to.deep.eq(fee);
            (0, chai_1.expect)(updatedJob === null || updatedJob === void 0 ? void 0 : updatedJob.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
            (0, chai_1.expect)(updatedJob === null || updatedJob === void 0 ? void 0 : updatedJob.takerSpecifiedSide).to.equal('makerToken');
        });
        it('should be able to find by status across the rfqm_v2_job table', async () => {
            // Write job with failed status
            await dbUtils.writeV2JobAsync({
                chainId,
                status: types_1.RfqmJobStatus.FailedEthCallFailed,
                expiry: otcOrder.expiry,
                makerUri,
                isUnwrap: false,
                order: (0, rfqm_db_utils_1.otcOrderToStoredOtcOrder)(otcOrder),
                orderHash: otcOrderHash,
                fee: (0, fee_utils_1.feeToStoredFee)(fee),
                takerSpecifiedSide: 'makerToken',
            });
            // Get jobs with that status
            const storedJobs = await dbUtils.findV2JobsWithStatusesAsync([types_1.RfqmJobStatus.FailedEthCallFailed]);
            (0, chai_1.expect)(storedJobs.length).to.equal(1);
            // Confirm correctness
            const storedJob = storedJobs[0];
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/no-non-null-asserted-optional-chain
            (0, chai_1.expect)((0, rfqm_db_utils_1.storedOtcOrderToOtcOrder)(storedJob === null || storedJob === void 0 ? void 0 : storedJob.order)).to.deep.eq(otcOrder);
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/no-non-null-asserted-optional-chain
            (0, chai_1.expect)((0, fee_utils_1.storedFeeToFee)(storedJob === null || storedJob === void 0 ? void 0 : storedJob.fee)).to.deep.eq(fee);
            (0, chai_1.expect)(storedJob === null || storedJob === void 0 ? void 0 : storedJob.status).to.equal(types_1.RfqmJobStatus.FailedEthCallFailed);
        });
        it('should be able to write to and read from the last_look_rejection_cooldowns table', async () => {
            const makerId = 'makerId1';
            const nowMs = Date.now();
            const startTime = new Date(nowMs);
            const endTime = new Date(nowMs + constants_1.ONE_MINUTE_MS);
            await dbUtils.writeV2LastLookRejectionCooldownAsync(makerId, chainId, otcOrder.makerToken, otcOrder.takerToken, startTime, endTime, otcOrderHash);
            const storedCooldown = await dbUtils.findV2LastLookRejectionCooldownAsync(makerId, chainId, otcOrder.makerToken, otcOrder.takerToken, startTime);
            (0, chai_1.expect)(storedCooldown === null || storedCooldown === void 0 ? void 0 : storedCooldown.endTime).to.deep.eq(endTime);
            (0, chai_1.expect)(storedCooldown === null || storedCooldown === void 0 ? void 0 : storedCooldown.orderHash).to.deep.eq(otcOrderHash);
        });
        it('should be able to write, update, and read the rfqm_v2_transaction_submission table', async () => {
            // Write
            const rfqmTransactionSubmissionEntityOpts = {
                transactionHash,
                orderHash: otcOrderHash,
                createdAt,
                from,
                to,
                gasPrice,
                gasUsed,
                blockMined,
                nonce,
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
                type: types_1.RfqmTransactionSubmissionType.Trade,
            };
            await dbUtils.writeV2TransactionSubmissionAsync(rfqmTransactionSubmissionEntityOpts);
            // First Read
            const transactionSubmissions = await dbUtils.findV2TransactionSubmissionsByOrderHashAsync(otcOrderHash);
            (0, chai_1.expect)(transactionSubmissions.length).to.equal(1);
            const transactionSubmission = transactionSubmissions[0];
            (0, chai_1.expect)(transactionSubmission.transactionHash).to.equal(transactionHash);
            (0, chai_1.expect)(transactionSubmission.status).to.equal(types_1.RfqmTransactionSubmissionStatus.Submitted);
            // Update
            await dbUtils.updateV2TransactionSubmissionsAsync([
                {
                    ...transactionSubmission,
                    status: types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed,
                },
            ]);
            // Second Read
            const updatedTransactionSubmissions = await dbUtils.findV2TransactionSubmissionsByOrderHashAsync(otcOrderHash);
            (0, chai_1.expect)(updatedTransactionSubmissions.length).to.equal(1);
            const updatedTransactionSubmission = updatedTransactionSubmissions[0];
            (0, chai_1.expect)(updatedTransactionSubmission.transactionHash).to.equal(transactionHash);
            (0, chai_1.expect)(updatedTransactionSubmission.status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
        });
        it('should not run into duplicate key issues if attempting to write to the same hash', async () => {
            // Write
            const rfqmTransactionSubmissionEntityOpts = {
                transactionHash,
                orderHash: otcOrderHash,
                createdAt,
                from,
                to,
                gasPrice,
                gasUsed,
                blockMined,
                nonce,
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
                type: types_1.RfqmTransactionSubmissionType.Trade,
            };
            await dbUtils.writeV2TransactionSubmissionAsync(rfqmTransactionSubmissionEntityOpts);
            // Write again - should not error
            await dbUtils.writeV2TransactionSubmissionAsync(rfqmTransactionSubmissionEntityOpts);
            // Read
            const transactionSubmissions = await dbUtils.findV2TransactionSubmissionsByOrderHashAsync(otcOrderHash);
            (0, chai_1.expect)(transactionSubmissions.length).to.equal(1);
            const transactionSubmission = transactionSubmissions[0];
            (0, chai_1.expect)(transactionSubmission.transactionHash).to.equal(transactionHash);
            (0, chai_1.expect)(transactionSubmission.status).to.equal(types_1.RfqmTransactionSubmissionStatus.Submitted);
        });
    });
    describe('meta transaction tables', () => {
        it('should be able to write to, update, and read from the `meta_transaction_jobs` table', async () => {
            const metaTransaction = creatMockMetaTransaction();
            const metaTransactionHash = metaTransaction.getHash();
            // Write
            const savedJob = await dbUtils.writeMetaTransactionJobAsync({
                approval,
                chainId: 1,
                expiry: new utils_1.BigNumber(2),
                fee: constants_2.MOCK_FEE,
                inputToken,
                inputTokenAmount,
                integratorId: 'integrator',
                metaTransaction,
                metaTransactionHash,
                minOutputTokenAmount,
                outputToken,
                takerAddress: '0xaddress',
                takerSignature,
            });
            (0, chai_1.expect)(savedJob.id).to.not.equal(null);
            // Read
            const job = await dbUtils.findMetaTransactionJobByMetaTransactionHashAsync(metaTransactionHash);
            if (!job) {
                throw new Error('job should exist');
            }
            (0, chai_1.expect)(job.metaTransaction).to.eql(metaTransaction);
            (0, chai_1.expect)(job.fee).to.eql(constants_2.MOCK_FEE);
            (0, chai_1.expect)(job.status).to.eql(types_1.RfqmJobStatus.PendingEnqueued);
            (0, chai_1.expect)(job.approval).to.eql(approval);
            (0, chai_1.expect)(job.workerAddress).to.eql(null);
            // Update
            job.chainId = 1;
            await dbUtils.updateRfqmJobAsync(job);
            // Read
            const updatedJob = await dbUtils.findMetaTransactionJobByIdAsync(job.id);
            if (!updatedJob) {
                throw new Error('job should exist');
            }
            (0, chai_1.expect)(updatedJob.metaTransaction).to.eql(metaTransaction);
            (0, chai_1.expect)(updatedJob.fee).to.eql(constants_2.MOCK_FEE);
            (0, chai_1.expect)(updatedJob.status).to.eql(types_1.RfqmJobStatus.PendingEnqueued);
            (0, chai_1.expect)(updatedJob.approval).to.eql(approval);
            (0, chai_1.expect)(updatedJob.workerAddress).to.eql(null);
            (0, chai_1.expect)(updatedJob.chainId).to.eql(1);
        });
        it('should be able to find by status across the `meta_transaction_jobs` table', async () => {
            const metaTransaction = creatMockMetaTransaction();
            const metaTransactionHash = metaTransaction.getHash();
            // Write
            const savedJob = await dbUtils.writeMetaTransactionJobAsync({
                approval,
                chainId: 1,
                expiry: new utils_1.BigNumber(2),
                fee: constants_2.MOCK_FEE,
                inputToken,
                inputTokenAmount,
                integratorId: 'integrator',
                metaTransaction,
                metaTransactionHash,
                minOutputTokenAmount,
                outputToken,
                takerAddress: '0xaddress',
                takerSignature,
                status: types_1.RfqmJobStatus.FailedExpired,
            });
            (0, chai_1.expect)(savedJob.id).to.not.equal(null);
            // Read
            const jobs = await dbUtils.findMetaTransactionJobsWithStatusesAsync([types_1.RfqmJobStatus.FailedExpired]);
            (0, chai_1.expect)(jobs.length).to.equal(1);
            (0, chai_1.expect)(jobs[0].metaTransaction).to.eql(metaTransaction);
            (0, chai_1.expect)(jobs[0].fee).to.eql(constants_2.MOCK_FEE);
            (0, chai_1.expect)(jobs[0].status).to.eql(types_1.RfqmJobStatus.FailedExpired);
            (0, chai_1.expect)(jobs[0].approval).to.eql(approval);
            (0, chai_1.expect)(jobs[0].workerAddress).to.eql(null);
        });
        it('should be able to find unsolved meta transaction jobs in the `meta_transaction_jobs` table', async () => {
            const mockMetaTransaction1 = creatMockMetaTransaction();
            const savedJob = await dbUtils.writeMetaTransactionJobAsync({
                approval,
                chainId: 1,
                expiry: new utils_1.BigNumber(2),
                fee: constants_2.MOCK_FEE,
                id: '1',
                integratorId: 'integrator',
                inputToken,
                inputTokenAmount,
                metaTransaction: mockMetaTransaction1,
                metaTransactionHash: mockMetaTransaction1.getHash(),
                minOutputTokenAmount,
                outputToken,
                takerAddress: '0xaddress',
                takerSignature,
                status: types_1.RfqmJobStatus.PendingEnqueued,
            });
            (0, chai_1.expect)(savedJob.id).to.not.equal(null);
            const mockMetaTransaction2 = creatMockMetaTransaction({ signer: '0xabcdef2' });
            await dbUtils.writeMetaTransactionJobAsync({
                approval,
                chainId: 2,
                expiry: new utils_1.BigNumber(2),
                fee: constants_2.MOCK_FEE,
                inputToken,
                inputTokenAmount,
                integratorId: 'integrator',
                metaTransaction: mockMetaTransaction2,
                metaTransactionHash: mockMetaTransaction2.getHash(),
                minOutputTokenAmount,
                outputToken,
                takerAddress: '0xaddress',
                takerSignature,
                status: types_1.RfqmJobStatus.PendingProcessing,
                workerAddress: '0xworkerAddress',
            });
            const mockMetaTransaction3 = creatMockMetaTransaction({ signer: '0xabcdef3' });
            await dbUtils.writeMetaTransactionJobAsync({
                approval,
                chainId: 3,
                expiry: new utils_1.BigNumber(2),
                fee: constants_2.MOCK_FEE,
                inputToken,
                inputTokenAmount,
                integratorId: 'integrator',
                metaTransaction: mockMetaTransaction3,
                metaTransactionHash: mockMetaTransaction3.getHash(),
                minOutputTokenAmount,
                outputToken,
                takerAddress: '0xaddress',
                takerSignature,
                status: types_1.RfqmJobStatus.FailedExpired,
            });
            const jobs = await dbUtils.findUnresolvedMetaTransactionJobsAsync('0xworkerAddress', 2);
            (0, chai_1.expect)(jobs.length).to.equal(1);
            (0, chai_1.expect)(jobs[0].status).to.eql(types_1.RfqmJobStatus.PendingProcessing);
        });
        it('should be able to write, update, and read the `meta_transaction_submissions` table', async () => {
            const metaTransactionJobId = uuid.v4();
            // Write
            const metaTransactionSubmissionEntityOpts = {
                from,
                metaTransactionJobId,
                nonce,
                to,
                transactionHash,
                type: types_1.RfqmTransactionSubmissionType.Trade,
                status: types_1.RfqmTransactionSubmissionStatus.SucceededUnconfirmed,
            };
            const savedSubmission = await dbUtils.writeMetaTransactionSubmissionAsync(metaTransactionSubmissionEntityOpts);
            (0, chai_1.expect)(savedSubmission.id).not.equal(null);
            // First Read
            let transactionSubmissions = await dbUtils.findMetaTransactionSubmissionsByTransactionHashAsync(transactionHash, types_1.RfqmTransactionSubmissionType.Trade);
            (0, chai_1.expect)(transactionSubmissions.length).to.equal(1);
            let transactionSubmission = transactionSubmissions[0];
            (0, chai_1.expect)(transactionSubmission.transactionHash).to.equal(transactionHash);
            (0, chai_1.expect)(transactionSubmission.status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededUnconfirmed);
            // Update
            await dbUtils.updateRfqmTransactionSubmissionsAsync([
                {
                    ...transactionSubmission,
                    status: types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed,
                },
            ]);
            // Second Read
            const updatedTransactionSubmissionOrNull = await dbUtils.findMetaTransactionSubmissionByIdAsync(transactionSubmission.id);
            if (!updatedTransactionSubmissionOrNull) {
                chai_1.expect.fail('result should not be null');
            }
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            (0, chai_1.expect)(updatedTransactionSubmissionOrNull.transactionHash).to.equal(transactionHash);
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            (0, chai_1.expect)(updatedTransactionSubmissionOrNull.status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
            // Third read
            transactionSubmissions = await dbUtils.findMetaTransactionSubmissionsByJobIdAsync(metaTransactionJobId);
            (0, chai_1.expect)(transactionSubmissions.length).to.equal(1);
            transactionSubmission = transactionSubmissions[0];
            (0, chai_1.expect)(transactionSubmission.transactionHash).to.equal(transactionHash);
            (0, chai_1.expect)(transactionSubmission.status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3Rlc3QvcmZxbV9kYl90ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsdURBQWlHO0FBQ2pHLHFDQUFzQztBQUN0QywrQkFBOEI7QUFFOUIsNkJBQTZCO0FBRTdCLHFEQUFvRztBQUNwRyxxREFBdUU7QUFHdkUsaURBQXNIO0FBQ3RILDZDQUE4RjtBQUM5Riw4REFBNkc7QUFFN0csMkNBQThEO0FBQzlELHdEQUFxRztBQUNyRyw4RUFBMkU7QUFFM0UsSUFBSSxPQUFvQixDQUFDO0FBRXpCLE1BQU0sU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7QUFDN0IsaUNBQWlDO0FBQ2pDLE1BQU0sTUFBTSxHQUFHLElBQUksaUJBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuQyxNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUM7QUFDbEIsTUFBTSxRQUFRLEdBQUcsa0NBQWtDLENBQUM7QUFDcEQsTUFBTSxHQUFHLEdBQVE7SUFDYixLQUFLLEVBQUUsVUFBVTtJQUNqQixNQUFNLEVBQUUsSUFBSSxpQkFBUyxDQUFDLENBQUMsQ0FBQztJQUN4QixJQUFJLEVBQUUsT0FBTztDQUNoQixDQUFDO0FBRUYsTUFBTSxhQUFhLEdBQUcsSUFBSSxpQkFBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2hELE1BQU0sUUFBUSxHQUFHLElBQUkseUJBQVEsQ0FBQztJQUMxQixRQUFRLEVBQUUsNENBQTRDO0lBQ3RELEtBQUssRUFBRSw0Q0FBNEM7SUFDbkQsS0FBSyxFQUFFLDRDQUE0QztJQUNuRCxVQUFVLEVBQUUsNENBQTRDO0lBQ3hELFVBQVUsRUFBRSw0Q0FBNEM7SUFDeEQsY0FBYyxFQUFFLHlCQUFRLENBQUMsb0JBQW9CLENBQUMsTUFBTSxFQUFFLGdCQUFJLEVBQUUsYUFBYSxDQUFDO0lBQzFFLE9BQU87SUFDUCxpQkFBaUIsRUFBRSw0Q0FBNEM7Q0FDbEUsQ0FBQyxDQUFDO0FBRUgsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFD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YWxzaC9jb2RlLWxvY2FsLzB4LXJmcS1hcGkvdGVzdC9yZnFtX2RiX3Rlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWV0YVRyYW5zYWN0aW9uLCBNZXRhVHJhbnNhY3Rpb25GaWVsZHMsIE90Y09yZGVyLCBTaWduYXR1cmUgfSBmcm9tICdAMHgvcHJvdG9jb2wtdXRpbHMnO1xuaW1wb3J0IHsgQmlnTnVtYmVyIH0gZnJvbSAnQDB4L3V0aWxzJztcbmltcG9ydCB7IGV4cGVjdCB9IGZyb20gJ2NoYWknO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJ3R5cGVvcm0nO1xuaW1wb3J0ICogYXMgdXVpZCBmcm9tICd1dWlkJztcblxuaW1wb3J0IHsgRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0VJUF83MTJfVFlQRVMsIE9ORV9NSU5VVEVfTVMsIFpFUk8gfSBmcm9tICcuLi9zcmMvY29yZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgZmVlVG9TdG9yZWRGZWUsIHN0b3JlZEZlZVRvRmVlIH0gZnJvbSAnLi4vc3JjL2NvcmUvZmVlX3V0aWxzJztcbmltcG9ydCB7IE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlDb25zdHJ1Y3Rvck9wdHMgfSBmcm9tICcuLi9zcmMvZW50aXRpZXMvTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eSc7XG5pbXBvcnQgeyBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlDb25zdHJ1Y3Rvck9wdHMgfSBmcm9tICcuLi9zcmMvZW50aXRpZXMvUmZxbVYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5JztcbmltcG9ydCB7IFJmcW1Kb2JTdGF0dXMsIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMsIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlIH0gZnJvbSAnLi4vc3JjL2VudGl0aWVzL3R5cGVzJztcbmltcG9ydCB7IEV4ZWN1dGVNZXRhVHJhbnNhY3Rpb25BcHByb3ZhbCwgRmVlLCBHYXNsZXNzQXBwcm92YWxUeXBlcyB9IGZyb20gJy4uL3NyYy9jb3JlL3R5cGVzJztcbmltcG9ydCB7IG90Y09yZGVyVG9TdG9yZWRPdGNPcmRlciwgUmZxbURiVXRpbHMsIHN0b3JlZE90Y09yZGVyVG9PdGNPcmRlciB9IGZyb20gJy4uL3NyYy91dGlscy9yZnFtX2RiX3V0aWxzJztcblxuaW1wb3J0IHsgTU9DS19GRUUsIE1PQ0tfTUVUQV9UUkFOU0FDVElPTiB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IHNldHVwRGVwZW5kZW5jaWVzQXN5bmMsIFRlYXJkb3duRGVwZW5kZW5jaWVzRnVuY3Rpb25IYW5kbGUgfSBmcm9tICcuL3Rlc3RfdXRpbHMvZGVwbG95bWVudCc7XG5pbXBvcnQgeyBpbml0RGJEYXRhU291cmNlQXN5bmMgfSBmcm9tICcuL3Rlc3RfdXRpbHMvaW5pdERiRGF0YVNvdXJjZUFzeW5jJztcblxubGV0IGRiVXRpbHM6IFJmcW1EYlV0aWxzO1xuXG5jb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuLy8gaXQncyBleHBpcmVkIGlmIGl0J3Mgb3ZlciA5MDAwXG5jb25zdCBleHBpcnkgPSBuZXcgQmlnTnVtYmVyKDkwMDApO1xuY29uc3QgY2hhaW5JZCA9IDE7XG5jb25zdCBtYWtlclVyaSA9ICdodHRwczovL21hcmtldG1ha2luZy5vdmVyOTAwMC5pbyc7XG5jb25zdCBmZWU6IEZlZSA9IHtcbiAgICB0b2tlbjogJzB4YXRva2VuJyxcbiAgICBhbW91bnQ6IG5ldyBCaWdOdW1iZXIoNSksXG4gICAgdHlwZTogJ2ZpeGVkJyxcbn07XG5cbmNvbnN0IG90Y09yZGVyTm9uY2UgPSBuZXcgQmlnTnVtYmVyKDE2MzcwODUyODkpO1xuY29uc3Qgb3RjT3JkZXIgPSBuZXcgT3RjT3JkZXIoe1xuICAgIHR4T3JpZ2luOiAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICB0YWtlcjogJzB4MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMScsXG4gICAgbWFrZXI6ICcweDIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjInLFxuICAgIG1ha2VyVG9rZW46ICcweDMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMnLFxuICAgIHRha2VyVG9rZW46ICcweDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQnLFxuICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShleHBpcnksIFpFUk8sIG90Y09yZGVyTm9uY2UpLFxuICAgIGNoYWluSWQsXG4gICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxufSk7XG5cbmNvbnN0IG90Y09yZGVySGFzaCA9IG90Y09yZGVyLmdldEhhc2goKTtcblxuY29uc3QgdGFrZXJTaWduYXR1cmU6IFNpZ25hdHVyZSA9IHtcbiAgICB2OiAyNyxcbiAgICByOiAnMHhkMDBkMDAnLFxuICAgIHM6ICcweGNhY2EnLFxuICAgIHNpZ25hdHVyZVR5cGU6IDEsXG59O1xuXG5jb25zdCBhcHByb3ZhbDogRXhlY3V0ZU1ldGFUcmFuc2FjdGlvbkFwcHJvdmFsID0ge1xuICAgIGtpbmQ6IEdhc2xlc3NBcHByb3ZhbFR5cGVzLkV4ZWN1dGVNZXRhVHJhbnNhY3Rpb24sXG4gICAgZWlwNzEyOiB7XG4gICAgICAgIHR5cGVzOiB7XG4gICAgICAgICAgICBFSVA3MTJEb21haW46IFtcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICduYW1lJywgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICd2ZXJzaW9uJywgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICd2ZXJpZnlpbmdDb250cmFjdCcsIHR5cGU6ICdhZGRyZXNzJyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ3NhbHQnLCB0eXBlOiAnYnl0ZXMzMicgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAuLi5FWEVDVVRFX01FVEFfVFJBTlNBQ1RJT05fRUlQXzcxMl9UWVBFUyxcbiAgICAgICAgfSxcbiAgICAgICAgcHJpbWFyeVR5cGU6ICdNZXRhVHJhbnNhY3Rpb24nLFxuICAgICAgICBkb21haW46IHtcbiAgICAgICAgICAgIG5hbWU6ICdCYWxhbmNlciAoUG9TKScsXG4gICAgICAgICAgICB2ZXJzaW9uOiAnMScsXG4gICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJzB4OWE3MTAxMmIxM2NhNGQzZDBjZGM3MmExNzdkZjNlZjAzYjBlNzZhMycsXG4gICAgICAgICAgICBzYWx0OiAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDg5JyxcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgbm9uY2U6IDEsXG4gICAgICAgICAgICBmcm9tOiAnMHgxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uU2lnbmF0dXJlOlxuICAgICAgICAgICAgICAgICcweDA5NWVhN2IzMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZGVmMWMwZGVkOWJlYzdmMWExNjcwODE5ODMzMjQwZjAyN2IyNWVmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYnLFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuXG4vLyB0eCBwcm9wZXJ0aWVzXG5jb25zdCB0cmFuc2FjdGlvbkhhc2ggPSAnMHg1Njc4JztcbmNvbnN0IGZyb20gPSAnMHhhblJmcW1Xb3JrZXInO1xuY29uc3QgdG8gPSAnMHhleGNoYW5nZVByb3h5QWRkcmVzcyc7XG5jb25zdCBnYXNQcmljZSA9IG5ldyBCaWdOdW1iZXIoJzEwMCcpO1xuY29uc3QgZ2FzVXNlZCA9IG51bGw7XG5jb25zdCBibG9ja01pbmVkID0gbnVsbDtcbmNvbnN0IG5vbmNlID0gMDtcblxuLy8gbWV0YS10cmFuc2FjdGlvblxuY29uc3QgaW5wdXRUb2tlbiA9ICcweGEwYjg2OTkxYzYyMThiMzZjMWQxOWQ0YTJlOWViMGNlMzYwNmViNDgnO1xuY29uc3Qgb3V0cHV0VG9rZW4gPSAnMHhkQUMxN0Y5NThEMmVlNTIzYTIyMDYyMDY5OTQ1OTdDMTNEODMxZWM3JztcbmNvbnN0IGlucHV0VG9rZW5BbW91bnQgPSBuZXcgQmlnTnVtYmVyKDEwMCk7XG5jb25zdCBtaW5PdXRwdXRUb2tlbkFtb3VudCA9IG5ldyBCaWdOdW1iZXIoOTkpO1xuXG5mdW5jdGlvbiBjcmVhdE1vY2tNZXRhVHJhbnNhY3Rpb24ob3B0czogUGFydGlhbDxNZXRhVHJhbnNhY3Rpb25GaWVsZHM+ID0ge30pOiBNZXRhVHJhbnNhY3Rpb24ge1xuICAgIHJldHVybiBuZXcgTWV0YVRyYW5zYWN0aW9uKHtcbiAgICAgICAgLi4uTU9DS19NRVRBX1RSQU5TQUNUSU9OLFxuICAgICAgICAuLi5vcHRzLFxuICAgIH0pO1xufVxuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IGN1c3RvbS1uby1tYWdpYy1udW1iZXJzXG5qZXN0LnNldFRpbWVvdXQoT05FX01JTlVURV9NUyAqIDMpO1xubGV0IHRlYXJkb3duRGVwZW5kZW5jaWVzOiBUZWFyZG93bkRlcGVuZGVuY2llc0Z1bmN0aW9uSGFuZGxlO1xubGV0IGRhdGFTb3VyY2U6IERhdGFTb3VyY2U7XG5cbmRlc2NyaWJlKCdSRlFNIERhdGFiYXNlJywgKCkgPT4ge1xuICAgIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRlYXJkb3duRGVwZW5kZW5jaWVzID0gYXdhaXQgc2V0dXBEZXBlbmRlbmNpZXNBc3luYyhbJ3Bvc3RncmVzJ10pO1xuICAgICAgICBkYXRhU291cmNlID0gYXdhaXQgaW5pdERiRGF0YVNvdXJjZUFzeW5jKCk7XG4gICAgICAgIGRiVXRpbHMgPSBuZXcgUmZxbURiVXRpbHMoZGF0YVNvdXJjZSk7XG4gICAgfSk7XG5cbiAgICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdGVhcmRvd25EZXBlbmRlbmNpZXMoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdGVhciBkb3duIGRlcGVuZGVuY2llcycpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBkYXRhU291cmNlLnF1ZXJ5KCdUUlVOQ0FURSBUQUJMRSByZnFtX3F1b3RlcyBDQVNDQURFOycpO1xuICAgICAgICBhd2FpdCBkYXRhU291cmNlLnF1ZXJ5KCdUUlVOQ0FURSBUQUJMRSByZnFtX2pvYnMgQ0FTQ0FERTsnKTtcbiAgICAgICAgYXdhaXQgZGF0YVNvdXJjZS5xdWVyeSgnVFJVTkNBVEUgVEFCTEUgcmZxbV90cmFuc2FjdGlvbl9zdWJtaXNzaW9ucyBDQVNDQURFOycpO1xuICAgICAgICBhd2FpdCBkYXRhU291cmNlLnF1ZXJ5KCdUUlVOQ0FURSBUQUJMRSByZnFtX3YyX3F1b3RlcyBDQVNDQURFOycpO1xuICAgICAgICBhd2FpdCBkYXRhU291cmNlLnF1ZXJ5KCdUUlVOQ0FURSBUQUJMRSByZnFtX3YyX2pvYnMgQ0FTQ0FERTsnKTtcbiAgICAgICAgYXdhaXQgZGF0YVNvdXJjZS5xdWVyeSgnVFJVTkNBVEUgVEFCTEUgcmZxbV92Ml90cmFuc2FjdGlvbl9zdWJtaXNzaW9ucyBDQVNDQURFOycpO1xuICAgICAgICBhd2FpdCBkYXRhU291cmNlLnF1ZXJ5KCdUUlVOQ0FURSBUQUJMRSBtZXRhX3RyYW5zYWN0aW9uX3N1Ym1pc3Npb25zIENBU0NBREU7Jyk7XG4gICAgICAgIGF3YWl0IGRhdGFTb3VyY2UucXVlcnkoJ1RSVU5DQVRFIFRBQkxFIG1ldGFfdHJhbnNhY3Rpb25fam9icyBDQVNDQURFOycpO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKCd2MiB0YWJsZXMnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB3cml0ZSB0byBhbmQgcmVhZCBmcm9tIHRoZSByZnFtX3YyX3F1b3RlIHRhYmxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy53cml0ZVYyUXVvdGVBc3luYyh7XG4gICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBtYWtlclVyaSxcbiAgICAgICAgICAgICAgICBpc1Vud3JhcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb3JkZXI6IG90Y09yZGVyVG9TdG9yZWRPdGNPcmRlcihvdGNPcmRlciksXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoOiBvdGNPcmRlckhhc2gsXG4gICAgICAgICAgICAgICAgZmVlOiBmZWVUb1N0b3JlZEZlZShmZWUpLFxuICAgICAgICAgICAgICAgIHRha2VyU3BlY2lmaWVkU2lkZTogJ3Rha2VyVG9rZW4nLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZFF1b3RlID0gYXdhaXQgZGJVdGlscy5maW5kVjJRdW90ZUJ5T3JkZXJIYXNoQXN5bmMob3RjT3JkZXJIYXNoKTtcbiAgICAgICAgICAgIC8vICRlc2xpbnQtZml4LW1lIGh0dHBzOi8vZ2l0aHViLmNvbS9yaGlub2RhdmlkL2VzbGludC1maXgtbWVcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uLEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRlZC1vcHRpb25hbC1jaGFpblxuICAgICAgICAgICAgZXhwZWN0KG90Y09yZGVyKS50by5kZWVwLmVxKHN0b3JlZE90Y09yZGVyVG9PdGNPcmRlcihzdG9yZWRRdW90ZT8ub3JkZXIhKSk7XG4gICAgICAgICAgICAvLyAkZXNsaW50LWZpeC1tZSBodHRwczovL2dpdGh1Yi5jb20vcmhpbm9kYXZpZC9lc2xpbnQtZml4LW1lXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbixAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0ZWQtb3B0aW9uYWwtY2hhaW5cbiAgICAgICAgICAgIGV4cGVjdChmZWUpLnRvLmRlZXAuZXEoc3RvcmVkRmVlVG9GZWUoc3RvcmVkUXVvdGU/LmZlZSEpKTtcblxuICAgICAgICAgICAgZXhwZWN0KHN0b3JlZFF1b3RlPy50YWtlclNwZWNpZmllZFNpZGUpLnRvLmVxdWFsKCd0YWtlclRva2VuJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB3cml0ZSwgdXBkYXRlLCBhbmQgcmVhZCB0aGUgcmZxbV92Ml9qb2IgdGFibGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBXcml0ZVxuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy53cml0ZVYySm9iQXN5bmMoe1xuICAgICAgICAgICAgICAgIGFwcHJvdmFsLFxuICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdQcm9jZXNzaW5nLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogb3RjT3JkZXIuZXhwaXJ5LFxuICAgICAgICAgICAgICAgIG1ha2VyVXJpLFxuICAgICAgICAgICAgICAgIGlzVW53cmFwOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvcmRlcjogb3RjT3JkZXJUb1N0b3JlZE90Y09yZGVyKG90Y09yZGVyKSxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6IG90Y09yZGVySGFzaCxcbiAgICAgICAgICAgICAgICBmZWU6IGZlZVRvU3RvcmVkRmVlKGZlZSksXG4gICAgICAgICAgICAgICAgdGFrZXJTcGVjaWZpZWRTaWRlOiAnbWFrZXJUb2tlbicsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRmlyc3QgUmVhZFxuICAgICAgICAgICAgY29uc3Qgc3RvcmVkSm9iID0gYXdhaXQgZGJVdGlscy5maW5kVjJKb2JCeU9yZGVySGFzaEFzeW5jKG90Y09yZGVySGFzaCk7XG4gICAgICAgICAgICAvLyAkZXNsaW50LWZpeC1tZSBodHRwczovL2dpdGh1Yi5jb20vcmhpbm9kYXZpZC9lc2xpbnQtZml4LW1lXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbixAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0ZWQtb3B0aW9uYWwtY2hhaW5cbiAgICAgICAgICAgIGV4cGVjdChzdG9yZWRPdGNPcmRlclRvT3RjT3JkZXIoc3RvcmVkSm9iPy5vcmRlciEpKS50by5kZWVwLmVxKG90Y09yZGVyKTtcbiAgICAgICAgICAgIC8vICRlc2xpbnQtZml4LW1lIGh0dHBzOi8vZ2l0aHViLmNvbS9yaGlub2RhdmlkL2VzbGludC1maXgtbWVcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uLEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRlZC1vcHRpb25hbC1jaGFpblxuICAgICAgICAgICAgZXhwZWN0KHN0b3JlZEZlZVRvRmVlKHN0b3JlZEpvYj8uZmVlISkpLnRvLmRlZXAuZXEoZmVlKTtcbiAgICAgICAgICAgIGV4cGVjdChzdG9yZWRKb2I/LnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5QZW5kaW5nUHJvY2Vzc2luZyk7XG4gICAgICAgICAgICBleHBlY3Qoc3RvcmVkSm9iPy50YWtlclNpZ25hdHVyZSkudG8uZGVlcC5lcSh0YWtlclNpZ25hdHVyZSk7XG4gICAgICAgICAgICBleHBlY3Qoc3RvcmVkSm9iPy5hcHByb3ZhbCkudG8uZGVlcC5lcShhcHByb3ZhbCk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZVxuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy51cGRhdGVWMkpvYkFzeW5jKG90Y09yZGVySGFzaCwgdHJ1ZSwgeyBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuU3VjY2VlZGVkQ29uZmlybWVkIH0pO1xuXG4gICAgICAgICAgICAvLyBTZWNvbmQgUmVhZFxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEpvYiA9IGF3YWl0IGRiVXRpbHMuZmluZFYySm9iQnlPcmRlckhhc2hBc3luYyhvdGNPcmRlckhhc2gpO1xuICAgICAgICAgICAgLy8gJGVzbGludC1maXgtbWUgaHR0cHM6Ly9naXRodWIuY29tL3JoaW5vZGF2aWQvZXNsaW50LWZpeC1tZVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24sQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGVkLW9wdGlvbmFsLWNoYWluXG4gICAgICAgICAgICBleHBlY3Qoc3RvcmVkT3RjT3JkZXJUb090Y09yZGVyKHVwZGF0ZWRKb2I/Lm9yZGVyISkpLnRvLmRlZXAuZXEob3RjT3JkZXIpO1xuICAgICAgICAgICAgLy8gJGVzbGludC1maXgtbWUgaHR0cHM6Ly9naXRodWIuY29tL3JoaW5vZGF2aWQvZXNsaW50LWZpeC1tZVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24sQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGVkLW9wdGlvbmFsLWNoYWluXG4gICAgICAgICAgICBleHBlY3Qoc3RvcmVkRmVlVG9GZWUodXBkYXRlZEpvYj8uZmVlISkpLnRvLmRlZXAuZXEoZmVlKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVkSm9iPy5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuU3VjY2VlZGVkQ29uZmlybWVkKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVkSm9iPy50YWtlclNwZWNpZmllZFNpZGUpLnRvLmVxdWFsKCdtYWtlclRva2VuJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBmaW5kIGJ5IHN0YXR1cyBhY3Jvc3MgdGhlIHJmcW1fdjJfam9iIHRhYmxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gV3JpdGUgam9iIHdpdGggZmFpbGVkIHN0YXR1c1xuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy53cml0ZVYySm9iQXN5bmMoe1xuICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLkZhaWxlZEV0aENhbGxGYWlsZWQsXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBvdGNPcmRlci5leHBpcnksXG4gICAgICAgICAgICAgICAgbWFrZXJVcmksXG4gICAgICAgICAgICAgICAgaXNVbndyYXA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9yZGVyOiBvdGNPcmRlclRvU3RvcmVkT3RjT3JkZXIob3RjT3JkZXIpLFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogb3RjT3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgIGZlZTogZmVlVG9TdG9yZWRGZWUoZmVlKSxcbiAgICAgICAgICAgICAgICB0YWtlclNwZWNpZmllZFNpZGU6ICdtYWtlclRva2VuJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBHZXQgam9icyB3aXRoIHRoYXQgc3RhdHVzXG4gICAgICAgICAgICBjb25zdCBzdG9yZWRKb2JzID0gYXdhaXQgZGJVdGlscy5maW5kVjJKb2JzV2l0aFN0YXR1c2VzQXN5bmMoW1JmcW1Kb2JTdGF0dXMuRmFpbGVkRXRoQ2FsbEZhaWxlZF0pO1xuICAgICAgICAgICAgZXhwZWN0KHN0b3JlZEpvYnMubGVuZ3RoKS50by5lcXVhbCgxKTtcblxuICAgICAgICAgICAgLy8gQ29uZmlybSBjb3JyZWN0bmVzc1xuICAgICAgICAgICAgY29uc3Qgc3RvcmVkSm9iID0gc3RvcmVkSm9ic1swXTtcbiAgICAgICAgICAgIC8vICRlc2xpbnQtZml4LW1lIGh0dHBzOi8vZ2l0aHViLmNvbS9yaGlub2RhdmlkL2VzbGludC1maXgtbWVcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uLEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRlZC1vcHRpb25hbC1jaGFpblxuICAgICAgICAgICAgZXhwZWN0KHN0b3JlZE90Y09yZGVyVG9PdGNPcmRlcihzdG9yZWRKb2I/Lm9yZGVyISkpLnRvLmRlZXAuZXEob3RjT3JkZXIpO1xuICAgICAgICAgICAgLy8gJGVzbGludC1maXgtbWUgaHR0cHM6Ly9naXRodWIuY29tL3JoaW5vZGF2aWQvZXNsaW50LWZpeC1tZVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24sQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGVkLW9wdGlvbmFsLWNoYWluXG4gICAgICAgICAgICBleHBlY3Qoc3RvcmVkRmVlVG9GZWUoc3RvcmVkSm9iPy5mZWUhKSkudG8uZGVlcC5lcShmZWUpO1xuICAgICAgICAgICAgZXhwZWN0KHN0b3JlZEpvYj8uc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLkZhaWxlZEV0aENhbGxGYWlsZWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gd3JpdGUgdG8gYW5kIHJlYWQgZnJvbSB0aGUgbGFzdF9sb29rX3JlamVjdGlvbl9jb29sZG93bnMgdGFibGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYWtlcklkID0gJ21ha2VySWQxJztcbiAgICAgICAgICAgIGNvbnN0IG5vd01zID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKG5vd01zKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZShub3dNcyArIE9ORV9NSU5VVEVfTVMpO1xuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy53cml0ZVYyTGFzdExvb2tSZWplY3Rpb25Db29sZG93bkFzeW5jKFxuICAgICAgICAgICAgICAgIG1ha2VySWQsXG4gICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBvdGNPcmRlci5tYWtlclRva2VuLFxuICAgICAgICAgICAgICAgIG90Y09yZGVyLnRha2VyVG9rZW4sXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIGVuZFRpbWUsXG4gICAgICAgICAgICAgICAgb3RjT3JkZXJIYXNoLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3Qgc3RvcmVkQ29vbGRvd24gPSBhd2FpdCBkYlV0aWxzLmZpbmRWMkxhc3RMb29rUmVqZWN0aW9uQ29vbGRvd25Bc3luYyhcbiAgICAgICAgICAgICAgICBtYWtlcklkLFxuICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgb3RjT3JkZXIubWFrZXJUb2tlbixcbiAgICAgICAgICAgICAgICBvdGNPcmRlci50YWtlclRva2VuLFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoc3RvcmVkQ29vbGRvd24/LmVuZFRpbWUpLnRvLmRlZXAuZXEoZW5kVGltZSk7XG4gICAgICAgICAgICBleHBlY3Qoc3RvcmVkQ29vbGRvd24/Lm9yZGVySGFzaCkudG8uZGVlcC5lcShvdGNPcmRlckhhc2gpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gd3JpdGUsIHVwZGF0ZSwgYW5kIHJlYWQgdGhlIHJmcW1fdjJfdHJhbnNhY3Rpb25fc3VibWlzc2lvbiB0YWJsZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIFdyaXRlXG4gICAgICAgICAgICBjb25zdCByZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5T3B0czogUmZxbVYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5Q29uc3RydWN0b3JPcHRzID0ge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaCxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6IG90Y09yZGVySGFzaCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQsXG4gICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICBnYXNQcmljZSxcbiAgICAgICAgICAgICAgICBnYXNVc2VkLFxuICAgICAgICAgICAgICAgIGJsb2NrTWluZWQsXG4gICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhd2FpdCBkYlV0aWxzLndyaXRlVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25Bc3luYyhyZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5T3B0cyk7XG5cbiAgICAgICAgICAgIC8vIEZpcnN0IFJlYWRcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uU3VibWlzc2lvbnMgPSBhd2FpdCBkYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKG90Y09yZGVySGFzaCk7XG4gICAgICAgICAgICBleHBlY3QodHJhbnNhY3Rpb25TdWJtaXNzaW9ucy5sZW5ndGgpLnRvLmVxdWFsKDEpO1xuXG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvblN1Ym1pc3Npb24gPSB0cmFuc2FjdGlvblN1Ym1pc3Npb25zWzBdO1xuICAgICAgICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uU3VibWlzc2lvbi50cmFuc2FjdGlvbkhhc2gpLnRvLmVxdWFsKHRyYW5zYWN0aW9uSGFzaCk7XG4gICAgICAgICAgICBleHBlY3QodHJhbnNhY3Rpb25TdWJtaXNzaW9uLnN0YXR1cykudG8uZXF1YWwoUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWJtaXR0ZWQpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGVcbiAgICAgICAgICAgIGF3YWl0IGRiVXRpbHMudXBkYXRlVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQXN5bmMoW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4udHJhbnNhY3Rpb25TdWJtaXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VjY2VlZGVkQ29uZmlybWVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgLy8gU2Vjb25kIFJlYWRcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRUcmFuc2FjdGlvblN1Ym1pc3Npb25zID0gYXdhaXQgZGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYyhcbiAgICAgICAgICAgICAgICBvdGNPcmRlckhhc2gsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZWRUcmFuc2FjdGlvblN1Ym1pc3Npb25zLmxlbmd0aCkudG8uZXF1YWwoMSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRUcmFuc2FjdGlvblN1Ym1pc3Npb24gPSB1cGRhdGVkVHJhbnNhY3Rpb25TdWJtaXNzaW9uc1swXTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVkVHJhbnNhY3Rpb25TdWJtaXNzaW9uLnRyYW5zYWN0aW9uSGFzaCkudG8uZXF1YWwodHJhbnNhY3Rpb25IYXNoKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVkVHJhbnNhY3Rpb25TdWJtaXNzaW9uLnN0YXR1cykudG8uZXF1YWwoUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIG5vdCBydW4gaW50byBkdXBsaWNhdGUga2V5IGlzc3VlcyBpZiBhdHRlbXB0aW5nIHRvIHdyaXRlIHRvIHRoZSBzYW1lIGhhc2gnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBXcml0ZVxuICAgICAgICAgICAgY29uc3QgcmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eU9wdHM6IFJmcW1WMlRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eUNvbnN0cnVjdG9yT3B0cyA9IHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2gsXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoOiBvdGNPcmRlckhhc2gsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0LFxuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgZ2FzUHJpY2UsXG4gICAgICAgICAgICAgICAgZ2FzVXNlZCxcbiAgICAgICAgICAgICAgICBibG9ja01pbmVkLFxuICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWJtaXR0ZWQsXG4gICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy53cml0ZVYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uQXN5bmMocmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eU9wdHMpO1xuXG4gICAgICAgICAgICAvLyBXcml0ZSBhZ2FpbiAtIHNob3VsZCBub3QgZXJyb3JcbiAgICAgICAgICAgIGF3YWl0IGRiVXRpbHMud3JpdGVWMlRyYW5zYWN0aW9uU3VibWlzc2lvbkFzeW5jKHJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlPcHRzKTtcblxuICAgICAgICAgICAgLy8gUmVhZFxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25TdWJtaXNzaW9ucyA9IGF3YWl0IGRiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMob3RjT3JkZXJIYXNoKTtcbiAgICAgICAgICAgIGV4cGVjdCh0cmFuc2FjdGlvblN1Ym1pc3Npb25zLmxlbmd0aCkudG8uZXF1YWwoMSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uU3VibWlzc2lvbiA9IHRyYW5zYWN0aW9uU3VibWlzc2lvbnNbMF07XG4gICAgICAgICAgICBleHBlY3QodHJhbnNhY3Rpb25TdWJtaXNzaW9uLnRyYW5zYWN0aW9uSGFzaCkudG8uZXF1YWwodHJhbnNhY3Rpb25IYXNoKTtcbiAgICAgICAgICAgIGV4cGVjdCh0cmFuc2FjdGlvblN1Ym1pc3Npb24uc3RhdHVzKS50by5lcXVhbChSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Ym1pdHRlZCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ21ldGEgdHJhbnNhY3Rpb24gdGFibGVzJywgKCkgPT4ge1xuICAgICAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gd3JpdGUgdG8sIHVwZGF0ZSwgYW5kIHJlYWQgZnJvbSB0aGUgYG1ldGFfdHJhbnNhY3Rpb25fam9ic2AgdGFibGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZXRhVHJhbnNhY3Rpb24gPSBjcmVhdE1vY2tNZXRhVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFUcmFuc2FjdGlvbkhhc2ggPSBtZXRhVHJhbnNhY3Rpb24uZ2V0SGFzaCgpO1xuICAgICAgICAgICAgLy8gV3JpdGVcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkSm9iID0gYXdhaXQgZGJVdGlscy53cml0ZU1ldGFUcmFuc2FjdGlvbkpvYkFzeW5jKHtcbiAgICAgICAgICAgICAgICBhcHByb3ZhbCxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcigyKSxcbiAgICAgICAgICAgICAgICBmZWU6IE1PQ0tfRkVFLFxuICAgICAgICAgICAgICAgIGlucHV0VG9rZW4sXG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICdpbnRlZ3JhdG9yJyxcbiAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb24sXG4gICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaCxcbiAgICAgICAgICAgICAgICBtaW5PdXRwdXRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbixcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweGFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBlY3Qoc2F2ZWRKb2IuaWQpLnRvLm5vdC5lcXVhbChudWxsKTtcblxuICAgICAgICAgICAgLy8gUmVhZFxuICAgICAgICAgICAgY29uc3Qgam9iID0gYXdhaXQgZGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uSm9iQnlNZXRhVHJhbnNhY3Rpb25IYXNoQXN5bmMobWV0YVRyYW5zYWN0aW9uSGFzaCk7XG4gICAgICAgICAgICBpZiAoIWpvYikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignam9iIHNob3VsZCBleGlzdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwZWN0KGpvYi5tZXRhVHJhbnNhY3Rpb24pLnRvLmVxbChtZXRhVHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgZXhwZWN0KGpvYi5mZWUpLnRvLmVxbChNT0NLX0ZFRSk7XG4gICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZXFsKFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkKTtcbiAgICAgICAgICAgIGV4cGVjdChqb2IuYXBwcm92YWwpLnRvLmVxbChhcHByb3ZhbCk7XG4gICAgICAgICAgICBleHBlY3Qoam9iLndvcmtlckFkZHJlc3MpLnRvLmVxbChudWxsKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlXG4gICAgICAgICAgICBqb2IuY2hhaW5JZCA9IDE7XG4gICAgICAgICAgICBhd2FpdCBkYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhqb2IpO1xuXG4gICAgICAgICAgICAvLyBSZWFkXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkSm9iID0gYXdhaXQgZGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uSm9iQnlJZEFzeW5jKGpvYi5pZCk7XG4gICAgICAgICAgICBpZiAoIXVwZGF0ZWRKb2IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pvYiBzaG91bGQgZXhpc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVkSm9iLm1ldGFUcmFuc2FjdGlvbikudG8uZXFsKG1ldGFUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlZEpvYi5mZWUpLnRvLmVxbChNT0NLX0ZFRSk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlZEpvYi5zdGF0dXMpLnRvLmVxbChSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlZEpvYi5hcHByb3ZhbCkudG8uZXFsKGFwcHJvdmFsKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVkSm9iLndvcmtlckFkZHJlc3MpLnRvLmVxbChudWxsKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVkSm9iLmNoYWluSWQpLnRvLmVxbCgxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGZpbmQgYnkgc3RhdHVzIGFjcm9zcyB0aGUgYG1ldGFfdHJhbnNhY3Rpb25fam9ic2AgdGFibGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZXRhVHJhbnNhY3Rpb24gPSBjcmVhdE1vY2tNZXRhVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFUcmFuc2FjdGlvbkhhc2ggPSBtZXRhVHJhbnNhY3Rpb24uZ2V0SGFzaCgpO1xuICAgICAgICAgICAgLy8gV3JpdGVcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkSm9iID0gYXdhaXQgZGJVdGlscy53cml0ZU1ldGFUcmFuc2FjdGlvbkpvYkFzeW5jKHtcbiAgICAgICAgICAgICAgICBhcHByb3ZhbCxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcigyKSxcbiAgICAgICAgICAgICAgICBmZWU6IE1PQ0tfRkVFLFxuICAgICAgICAgICAgICAgIGlucHV0VG9rZW4sXG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICdpbnRlZ3JhdG9yJyxcbiAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb24sXG4gICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaCxcbiAgICAgICAgICAgICAgICBtaW5PdXRwdXRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbixcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweGFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5GYWlsZWRFeHBpcmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBlY3Qoc2F2ZWRKb2IuaWQpLnRvLm5vdC5lcXVhbChudWxsKTtcblxuICAgICAgICAgICAgLy8gUmVhZFxuICAgICAgICAgICAgY29uc3Qgam9icyA9IGF3YWl0IGRiVXRpbHMuZmluZE1ldGFUcmFuc2FjdGlvbkpvYnNXaXRoU3RhdHVzZXNBc3luYyhbUmZxbUpvYlN0YXR1cy5GYWlsZWRFeHBpcmVkXSk7XG4gICAgICAgICAgICBleHBlY3Qoam9icy5sZW5ndGgpLnRvLmVxdWFsKDEpO1xuICAgICAgICAgICAgZXhwZWN0KGpvYnNbMF0ubWV0YVRyYW5zYWN0aW9uKS50by5lcWwobWV0YVRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIGV4cGVjdChqb2JzWzBdLmZlZSkudG8uZXFsKE1PQ0tfRkVFKTtcbiAgICAgICAgICAgIGV4cGVjdChqb2JzWzBdLnN0YXR1cykudG8uZXFsKFJmcW1Kb2JTdGF0dXMuRmFpbGVkRXhwaXJlZCk7XG4gICAgICAgICAgICBleHBlY3Qoam9ic1swXS5hcHByb3ZhbCkudG8uZXFsKGFwcHJvdmFsKTtcbiAgICAgICAgICAgIGV4cGVjdChqb2JzWzBdLndvcmtlckFkZHJlc3MpLnRvLmVxbChudWxsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGZpbmQgdW5zb2x2ZWQgbWV0YSB0cmFuc2FjdGlvbiBqb2JzIGluIHRoZSBgbWV0YV90cmFuc2FjdGlvbl9qb2JzYCB0YWJsZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tNZXRhVHJhbnNhY3Rpb24xID0gY3JlYXRNb2NrTWV0YVRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBzYXZlZEpvYiA9IGF3YWl0IGRiVXRpbHMud3JpdGVNZXRhVHJhbnNhY3Rpb25Kb2JBc3luYyh7XG4gICAgICAgICAgICAgICAgYXBwcm92YWwsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoMiksXG4gICAgICAgICAgICAgICAgZmVlOiBNT0NLX0ZFRSxcbiAgICAgICAgICAgICAgICBpZDogJzEnLFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJ2ludGVncmF0b3InLFxuICAgICAgICAgICAgICAgIGlucHV0VG9rZW4sXG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IG1vY2tNZXRhVHJhbnNhY3Rpb24xLFxuICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbkhhc2g6IG1vY2tNZXRhVHJhbnNhY3Rpb24xLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICBtaW5PdXRwdXRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbixcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweGFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4cGVjdChzYXZlZEpvYi5pZCkudG8ubm90LmVxdWFsKG51bGwpO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrTWV0YVRyYW5zYWN0aW9uMiA9IGNyZWF0TW9ja01ldGFUcmFuc2FjdGlvbih7IHNpZ25lcjogJzB4YWJjZGVmMicgfSk7XG4gICAgICAgICAgICBhd2FpdCBkYlV0aWxzLndyaXRlTWV0YVRyYW5zYWN0aW9uSm9iQXN5bmMoe1xuICAgICAgICAgICAgICAgIGFwcHJvdmFsLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDIsXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKDIpLFxuICAgICAgICAgICAgICAgIGZlZTogTU9DS19GRUUsXG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbixcbiAgICAgICAgICAgICAgICBpbnB1dFRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJ2ludGVncmF0b3InLFxuICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbjogbW9ja01ldGFUcmFuc2FjdGlvbjIsXG4gICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogbW9ja01ldGFUcmFuc2FjdGlvbjIuZ2V0SGFzaCgpLFxuICAgICAgICAgICAgICAgIG1pbk91dHB1dFRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgIG91dHB1dFRva2VuLFxuICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzczogJzB4YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdQcm9jZXNzaW5nLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlckFkZHJlc3MnLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tNZXRhVHJhbnNhY3Rpb24zID0gY3JlYXRNb2NrTWV0YVRyYW5zYWN0aW9uKHsgc2lnbmVyOiAnMHhhYmNkZWYzJyB9KTtcbiAgICAgICAgICAgIGF3YWl0IGRiVXRpbHMud3JpdGVNZXRhVHJhbnNhY3Rpb25Kb2JBc3luYyh7XG4gICAgICAgICAgICAgICAgYXBwcm92YWwsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMyxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoMiksXG4gICAgICAgICAgICAgICAgZmVlOiBNT0NLX0ZFRSxcbiAgICAgICAgICAgICAgICBpbnB1dFRva2VuLFxuICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnaW50ZWdyYXRvcicsXG4gICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uOiBtb2NrTWV0YVRyYW5zYWN0aW9uMyxcbiAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25IYXNoOiBtb2NrTWV0YVRyYW5zYWN0aW9uMy5nZXRIYXNoKCksXG4gICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgb3V0cHV0VG9rZW4sXG4gICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzOiAnMHhhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuRmFpbGVkRXhwaXJlZCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBqb2JzID0gYXdhaXQgZGJVdGlscy5maW5kVW5yZXNvbHZlZE1ldGFUcmFuc2FjdGlvbkpvYnNBc3luYygnMHh3b3JrZXJBZGRyZXNzJywgMik7XG4gICAgICAgICAgICBleHBlY3Qoam9icy5sZW5ndGgpLnRvLmVxdWFsKDEpO1xuICAgICAgICAgICAgZXhwZWN0KGpvYnNbMF0uc3RhdHVzKS50by5lcWwoUmZxbUpvYlN0YXR1cy5QZW5kaW5nUHJvY2Vzc2luZyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB3cml0ZSwgdXBkYXRlLCBhbmQgcmVhZCB0aGUgYG1ldGFfdHJhbnNhY3Rpb25fc3VibWlzc2lvbnNgIHRhYmxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWV0YVRyYW5zYWN0aW9uSm9iSWQgPSB1dWlkLnY0KCk7XG4gICAgICAgICAgICAvLyBXcml0ZVxuICAgICAgICAgICAgY29uc3QgbWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eU9wdHM6IE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlDb25zdHJ1Y3Rvck9wdHMgPSB7XG4gICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25Kb2JJZCxcbiAgICAgICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2gsXG4gICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Y2NlZWRlZFVuY29uZmlybWVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkU3VibWlzc2lvbiA9IGF3YWl0IGRiVXRpbHMud3JpdGVNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uQXN5bmMoXG4gICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eU9wdHMsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0KHNhdmVkU3VibWlzc2lvbi5pZCkubm90LmVxdWFsKG51bGwpO1xuXG4gICAgICAgICAgICAvLyBGaXJzdCBSZWFkXG4gICAgICAgICAgICBsZXQgdHJhbnNhY3Rpb25TdWJtaXNzaW9ucyA9IGF3YWl0IGRiVXRpbHMuZmluZE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlUcmFuc2FjdGlvbkhhc2hBc3luYyhcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2gsXG4gICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uU3VibWlzc2lvbnMubGVuZ3RoKS50by5lcXVhbCgxKTtcblxuICAgICAgICAgICAgbGV0IHRyYW5zYWN0aW9uU3VibWlzc2lvbiA9IHRyYW5zYWN0aW9uU3VibWlzc2lvbnNbMF07XG4gICAgICAgICAgICBleHBlY3QodHJhbnNhY3Rpb25TdWJtaXNzaW9uLnRyYW5zYWN0aW9uSGFzaCkudG8uZXF1YWwodHJhbnNhY3Rpb25IYXNoKTtcbiAgICAgICAgICAgIGV4cGVjdCh0cmFuc2FjdGlvblN1Ym1pc3Npb24uc3RhdHVzKS50by5lcXVhbChSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Y2NlZWRlZFVuY29uZmlybWVkKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlXG4gICAgICAgICAgICBhd2FpdCBkYlV0aWxzLnVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQXN5bmMoW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4udHJhbnNhY3Rpb25TdWJtaXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VjY2VlZGVkQ29uZmlybWVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgLy8gU2Vjb25kIFJlYWRcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRUcmFuc2FjdGlvblN1Ym1pc3Npb25Pck51bGwgPSBhd2FpdCBkYlV0aWxzLmZpbmRNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uQnlJZEFzeW5jKFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uU3VibWlzc2lvbi5pZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIXVwZGF0ZWRUcmFuc2FjdGlvblN1Ym1pc3Npb25Pck51bGwpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgncmVzdWx0IHNob3VsZCBub3QgYmUgbnVsbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gJGVzbGludC1maXgtbWUgaHR0cHM6Ly9naXRodWIuY29tL3JoaW5vZGF2aWQvZXNsaW50LWZpeC1tZVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVkVHJhbnNhY3Rpb25TdWJtaXNzaW9uT3JOdWxsIS50cmFuc2FjdGlvbkhhc2gpLnRvLmVxdWFsKHRyYW5zYWN0aW9uSGFzaCk7XG4gICAgICAgICAgICAvLyAkZXNsaW50LWZpeC1tZSBodHRwczovL2dpdGh1Yi5jb20vcmhpbm9kYXZpZC9lc2xpbnQtZml4LW1lXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZWRUcmFuc2FjdGlvblN1Ym1pc3Npb25Pck51bGwhLnN0YXR1cykudG8uZXF1YWwoXG4gICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBUaGlyZCByZWFkXG4gICAgICAgICAgICB0cmFuc2FjdGlvblN1Ym1pc3Npb25zID0gYXdhaXQgZGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeUpvYklkQXN5bmMobWV0YVRyYW5zYWN0aW9uSm9iSWQpO1xuICAgICAgICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uU3VibWlzc2lvbnMubGVuZ3RoKS50by5lcXVhbCgxKTtcblxuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdWJtaXNzaW9uID0gdHJhbnNhY3Rpb25TdWJtaXNzaW9uc1swXTtcbiAgICAgICAgICAgIGV4cGVjdCh0cmFuc2FjdGlvblN1Ym1pc3Npb24udHJhbnNhY3Rpb25IYXNoKS50by5lcXVhbCh0cmFuc2FjdGlvbkhhc2gpO1xuICAgICAgICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uU3VibWlzc2lvbi5zdGF0dXMpLnRvLmVxdWFsKFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VjY2VlZGVkQ29uZmlybWVkKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbi8vIHRzbGludDpkaXNhYmxlLWxpbmU6bWF4LWZpbGUtbGluZS1jb3VudFxuIl0sInZlcnNpb24iOjN9