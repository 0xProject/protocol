{"file":"/Users/davidwalsh/code-local/0x-rfq-api/src/entities/PersistentSignedOrderEntity.ts","mappings":"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","names":[],"sources":["/Users/davidwalsh/code-local/0x-rfq-api/src/entities/PersistentSignedOrderEntity.ts"],"sourcesContent":["import { Column, Entity, Index, PrimaryColumn } from 'typeorm';\n\nimport { OrderEventEndState } from '../core/types';\n\n// Adds a field `orderState` to SignedOrderEntity\n// Persists after cancellation, expiration, etc\n// We save these to support account history for Matcha front-end\n@Entity({ name: 'persistent_signed_orders' })\n@Index(['makerAssetData', 'takerAssetData'], { unique: false })\nexport class PersistentSignedOrderEntity {\n    @PrimaryColumn({ name: 'hash', type: 'varchar' })\n    public hash?: string;\n\n    @Column({ name: 'sender_address', type: 'varchar' })\n    public senderAddress?: string;\n\n    @Index()\n    @Column({ name: 'maker_address', type: 'varchar' })\n    public makerAddress?: string;\n\n    @Column({ name: 'taker_address', type: 'varchar' })\n    public takerAddress?: string;\n\n    @Index()\n    @Column({ name: 'maker_asset_data', type: 'varchar' })\n    public makerAssetData?: string;\n\n    @Index()\n    @Column({ name: 'taker_asset_data', type: 'varchar' })\n    public takerAssetData?: string;\n\n    @Column({ name: 'exchange_address', type: 'varchar' })\n    public exchangeAddress?: string;\n\n    @Index()\n    @Column({ name: 'fee_recipient_address', type: 'varchar' })\n    public feeRecipientAddress?: string;\n\n    @Column({ name: 'expiration_time_seconds', type: 'varchar' })\n    public expirationTimeSeconds?: string;\n\n    @Column({ name: 'maker_fee', type: 'varchar' })\n    public makerFee?: string;\n\n    @Column({ name: 'taker_fee', type: 'varchar' })\n    public takerFee?: string;\n\n    @Column({ name: 'maker_asset_amount', type: 'varchar' })\n    public makerAssetAmount?: string;\n\n    @Column({ name: 'taker_asset_amount', type: 'varchar' })\n    public takerAssetAmount?: string;\n\n    @Column({ name: 'salt', type: 'varchar' })\n    public salt?: string;\n\n    @Column({ name: 'signature', type: 'varchar' })\n    public signature?: string;\n\n    @Column({ name: 'remaining_fillable_taker_asset_amount', type: 'varchar' })\n    public remainingFillableTakerAssetAmount?: string;\n\n    @Column({ name: 'maker_fee_asset_data', type: 'varchar' })\n    public makerFeeAssetData?: string;\n\n    @Column({ name: 'taker_fee_asset_data', type: 'varchar' })\n    public takerFeeAssetData?: string;\n\n    @Column({ name: 'state', type: 'enum', enum: OrderEventEndState, default: OrderEventEndState.Added })\n    public orderState?: OrderEventEndState;\n\n    @Column({ name: 'created_at', type: 'timestamptz', default: () => 'now()' })\n    public createdAt?: string;\n    constructor(\n        opts: {\n            hash?: string;\n            senderAddress?: string;\n            makerAddress?: string;\n            takerAddress?: string;\n            makerAssetData?: string;\n            takerAssetData?: string;\n            exchangeAddress?: string;\n            feeRecipientAddress?: string;\n            expirationTimeSeconds?: string;\n            makerFee?: string;\n            takerFee?: string;\n            makerFeeAssetData?: string;\n            takerFeeAssetData?: string;\n            makerAssetAmount?: string;\n            takerAssetAmount?: string;\n            salt?: string;\n            signature?: string;\n            remainingFillableTakerAssetAmount?: string;\n            orderState?: OrderEventEndState;\n        } = {},\n    ) {\n        this.hash = opts.hash;\n        this.senderAddress = opts.senderAddress;\n        this.makerAddress = opts.makerAddress;\n        this.takerAddress = opts.takerAddress;\n        this.makerAssetData = opts.makerAssetData;\n        this.takerAssetData = opts.takerAssetData;\n        this.exchangeAddress = opts.exchangeAddress;\n        this.feeRecipientAddress = opts.feeRecipientAddress;\n        this.expirationTimeSeconds = opts.expirationTimeSeconds;\n        this.makerFee = opts.makerFee;\n        this.takerFee = opts.takerFee;\n        this.makerFeeAssetData = opts.makerFeeAssetData;\n        this.takerFeeAssetData = opts.takerFeeAssetData;\n        this.makerAssetAmount = opts.makerAssetAmount;\n        this.takerAssetAmount = opts.takerAssetAmount;\n        this.salt = opts.salt;\n        this.signature = opts.signature;\n        this.remainingFillableTakerAssetAmount = opts.remainingFillableTakerAssetAmount;\n        this.orderState = opts.orderState || OrderEventEndState.Added;\n    }\n}\n"],"version":3}