{"file":"/Users/davidwalsh/code-local/0x-rfq-api/src/entities/PersistentSignedOrderEntity.ts","mappings":"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","names":[],"sources":["/Users/davidwalsh/code-local/0x-rfq-api/src/entities/PersistentSignedOrderEntity.ts"],"sourcesContent":["import { Column, Entity, Index, PrimaryColumn } from 'typeorm';\r\n\r\nimport { OrderEventEndState } from '../core/types';\r\n\r\n// Adds a field `orderState` to SignedOrderEntity\r\n// Persists after cancellation, expiration, etc\r\n// We save these to support account history for Matcha front-end\r\n@Entity({ name: 'persistent_signed_orders' })\r\n@Index(['makerAssetData', 'takerAssetData'], { unique: false })\r\nexport class PersistentSignedOrderEntity {\r\n    @PrimaryColumn({ name: 'hash', type: 'varchar' })\r\n    public hash?: string;\r\n\r\n    @Column({ name: 'sender_address', type: 'varchar' })\r\n    public senderAddress?: string;\r\n\r\n    @Index()\r\n    @Column({ name: 'maker_address', type: 'varchar' })\r\n    public makerAddress?: string;\r\n\r\n    @Column({ name: 'taker_address', type: 'varchar' })\r\n    public takerAddress?: string;\r\n\r\n    @Index()\r\n    @Column({ name: 'maker_asset_data', type: 'varchar' })\r\n    public makerAssetData?: string;\r\n\r\n    @Index()\r\n    @Column({ name: 'taker_asset_data', type: 'varchar' })\r\n    public takerAssetData?: string;\r\n\r\n    @Column({ name: 'exchange_address', type: 'varchar' })\r\n    public exchangeAddress?: string;\r\n\r\n    @Index()\r\n    @Column({ name: 'fee_recipient_address', type: 'varchar' })\r\n    public feeRecipientAddress?: string;\r\n\r\n    @Column({ name: 'expiration_time_seconds', type: 'varchar' })\r\n    public expirationTimeSeconds?: string;\r\n\r\n    @Column({ name: 'maker_fee', type: 'varchar' })\r\n    public makerFee?: string;\r\n\r\n    @Column({ name: 'taker_fee', type: 'varchar' })\r\n    public takerFee?: string;\r\n\r\n    @Column({ name: 'maker_asset_amount', type: 'varchar' })\r\n    public makerAssetAmount?: string;\r\n\r\n    @Column({ name: 'taker_asset_amount', type: 'varchar' })\r\n    public takerAssetAmount?: string;\r\n\r\n    @Column({ name: 'salt', type: 'varchar' })\r\n    public salt?: string;\r\n\r\n    @Column({ name: 'signature', type: 'varchar' })\r\n    public signature?: string;\r\n\r\n    @Column({ name: 'remaining_fillable_taker_asset_amount', type: 'varchar' })\r\n    public remainingFillableTakerAssetAmount?: string;\r\n\r\n    @Column({ name: 'maker_fee_asset_data', type: 'varchar' })\r\n    public makerFeeAssetData?: string;\r\n\r\n    @Column({ name: 'taker_fee_asset_data', type: 'varchar' })\r\n    public takerFeeAssetData?: string;\r\n\r\n    @Column({ name: 'state', type: 'enum', enum: OrderEventEndState, default: OrderEventEndState.Added })\r\n    public orderState?: OrderEventEndState;\r\n\r\n    @Column({ name: 'created_at', type: 'timestamptz', default: () => 'now()' })\r\n    public createdAt?: string;\r\n    constructor(\r\n        opts: {\r\n            hash?: string;\r\n            senderAddress?: string;\r\n            makerAddress?: string;\r\n            takerAddress?: string;\r\n            makerAssetData?: string;\r\n            takerAssetData?: string;\r\n            exchangeAddress?: string;\r\n            feeRecipientAddress?: string;\r\n            expirationTimeSeconds?: string;\r\n            makerFee?: string;\r\n            takerFee?: string;\r\n            makerFeeAssetData?: string;\r\n            takerFeeAssetData?: string;\r\n            makerAssetAmount?: string;\r\n            takerAssetAmount?: string;\r\n            salt?: string;\r\n            signature?: string;\r\n            remainingFillableTakerAssetAmount?: string;\r\n            orderState?: OrderEventEndState;\r\n        } = {},\r\n    ) {\r\n        this.hash = opts.hash;\r\n        this.senderAddress = opts.senderAddress;\r\n        this.makerAddress = opts.makerAddress;\r\n        this.takerAddress = opts.takerAddress;\r\n        this.makerAssetData = opts.makerAssetData;\r\n        this.takerAssetData = opts.takerAssetData;\r\n        this.exchangeAddress = opts.exchangeAddress;\r\n        this.feeRecipientAddress = opts.feeRecipientAddress;\r\n        this.expirationTimeSeconds = opts.expirationTimeSeconds;\r\n        this.makerFee = opts.makerFee;\r\n        this.takerFee = opts.takerFee;\r\n        this.makerFeeAssetData = opts.makerFeeAssetData;\r\n        this.takerFeeAssetData = opts.takerFeeAssetData;\r\n        this.makerAssetAmount = opts.makerAssetAmount;\r\n        this.takerAssetAmount = opts.takerAssetAmount;\r\n        this.salt = opts.salt;\r\n        this.signature = opts.signature;\r\n        this.remainingFillableTakerAssetAmount = opts.remainingFillableTakerAssetAmount;\r\n        this.orderState = opts.orderState || OrderEventEndState.Added;\r\n    }\r\n}\r\n"],"version":3}