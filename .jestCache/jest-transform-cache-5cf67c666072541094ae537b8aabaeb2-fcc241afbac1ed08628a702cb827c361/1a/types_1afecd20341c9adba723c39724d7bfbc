cf0ff4871a62ddaeec6efb320d4c441c
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RfqmOrderTypes = exports.SubmissionContextStatus = exports.RfqmTransactionSubmissionStatus = exports.RfqmTransactionSubmissionType = exports.UnresolvedRfqmJobStatuses = exports.JobFailureReason = exports.RfqmJobStatus = exports.RfqTables = void 0;
var RfqTables;
(function (RfqTables) {
    RfqTables["RfqmV2Quotes"] = "rfqm_v2_quotes";
    RfqTables["RfqmV2Jobs"] = "rfqm_v2_jobs";
    RfqTables["RfqmV2TransactionSubmissions"] = "rfqm_v2_transaction_submissions";
})(RfqTables = exports.RfqTables || (exports.RfqTables = {}));
var RfqmJobStatus;
(function (RfqmJobStatus) {
    // Transaction has been enqueued and will be processed once a worker is available
    RfqmJobStatus["PendingEnqueued"] = "pending_enqueued";
    // Transaction has passed initial validation. Last look will be executed and transaction will be submitted if last look is accepted.
    RfqmJobStatus["PendingProcessing"] = "pending_processing";
    // For v1 orders, the last look has been approved. For v2 orders, the market maker has signed the order.
    RfqmJobStatus["PendingLastLookAccepted"] = "pending_last_look_accepted";
    // Transaction has passed initial verification and has been submitted to the mem pool
    RfqmJobStatus["PendingSubmitted"] = "pending_submitted";
    // Eth Call made before transaction submission was unsuccessful
    RfqmJobStatus["FailedEthCallFailed"] = "failed_eth_call_failed";
    // Transaction has expired prior to eth call or worker is not available to make an eth call
    RfqmJobStatus["FailedExpired"] = "failed_expired";
    // Market Maker declined the last look
    RfqmJobStatus["FailedLastLookDeclined"] = "failed_last_look_declined";
    // [RFQM v2] Balance checks executed before obtaining market maker signature failed
    RfqmJobStatus["FailedPresignValidationFailed"] = "failed_presign_validation_failed";
    // Transaction was reverted more than 3 blocks ago
    RfqmJobStatus["FailedRevertedConfirmed"] = "failed_reverted_confirmed";
    // Transaction was reverted less than 3 blocks ago
    RfqmJobStatus["FailedRevertedUnconfirmed"] = "failed_reverted_unconfirmed";
    // Obtaining the market maker's signature for a v2 order failed.
    // This is NOT a status for the case where the market maker intentionally declined to sign.
    RfqmJobStatus["FailedSignFailed"] = "failed_sign_failed";
    // Submitting the transaction to the network was unsuccessful
    RfqmJobStatus["FailedSubmitFailed"] = "failed_submit_failed";
    // Transaction does not contain call data
    RfqmJobStatus["FailedValidationNoCallData"] = "failed_validation_no_call_data";
    // Transaction does not include a maker URI
    RfqmJobStatus["FailedValidationNoMakerUri"] = "failed_validation_no_maker_uri";
    // Job has been submitted with no taker signuature
    RfqmJobStatus["FailedValidationNoTakerSignature"] = "failed_validation_no_taker_signature";
    // Transaction does not contain an order
    RfqmJobStatus["FailedValidationNoOrder"] = "failed_validation_no_order";
    // Transaction does not contain a fee
    RfqmJobStatus["FailedValidationNoFee"] = "failed_validation_no_fee";
    // Transaction has succeeded with 3 subsequent blocks
    RfqmJobStatus["SucceededConfirmed"] = "succeeded_confirmed";
    // Transaction was successfully mined and filled
    RfqmJobStatus["SucceededUnconfirmed"] = "succeeded_unconfirmed";
})(RfqmJobStatus = exports.RfqmJobStatus || (exports.RfqmJobStatus = {}));
// From https://0xproject.quip.com/ixNbA6mmn1KT/Error-reason-on-RFQm-zerog-status
var JobFailureReason;
(function (JobFailureReason) {
    JobFailureReason["TransactionSimulationFailed"] = "transaction_simulation_failed";
    JobFailureReason["OrderExpired"] = "order_expired";
    JobFailureReason["LastLookDeclined"] = "last_look_declined";
    JobFailureReason["TransactionReverted"] = "transaction_reverted";
    JobFailureReason["MarketMakerSignatureError"] = "market_maker_sigature_error";
    JobFailureReason["InvalidBalance"] = "invalid_balance";
    JobFailureReason["InternalError"] = "internal_error";
})(JobFailureReason = exports.JobFailureReason || (exports.JobFailureReason = {}));
/**
 * Determines whether or not a given `RfqmJobStatus` indicates
 * the associated job has been processed to completion or not.
 *
 * Returns `true` if the status indicates the associated job is
 * resolved and should not be retried; returns `false` if the
 * associated job is in an incomplete state and should be retried.
 */
function isJobResolved(status) {
    switch (status) {
        case RfqmJobStatus.FailedEthCallFailed:
        case RfqmJobStatus.FailedExpired:
        case RfqmJobStatus.FailedLastLookDeclined:
        case RfqmJobStatus.FailedPresignValidationFailed:
        case RfqmJobStatus.FailedRevertedConfirmed:
        case RfqmJobStatus.FailedSignFailed:
        case RfqmJobStatus.FailedSubmitFailed:
        case RfqmJobStatus.FailedValidationNoCallData:
        case RfqmJobStatus.FailedValidationNoFee:
        case RfqmJobStatus.FailedValidationNoMakerUri:
        case RfqmJobStatus.FailedValidationNoOrder:
        case RfqmJobStatus.FailedValidationNoTakerSignature:
        case RfqmJobStatus.SucceededConfirmed:
            return true;
        case RfqmJobStatus.FailedRevertedUnconfirmed:
        case RfqmJobStatus.PendingEnqueued:
        case RfqmJobStatus.PendingLastLookAccepted:
        case RfqmJobStatus.PendingProcessing:
        case RfqmJobStatus.PendingSubmitted:
        case RfqmJobStatus.SucceededUnconfirmed:
            return false;
        default:
            ((_x) => {
                throw new Error('unreachable');
            })(status);
    }
}
/**
 * `RfqmJobStatus` values which should be considered incomplete
 * and should be retried.
 */
exports.UnresolvedRfqmJobStatuses = Object.values(RfqmJobStatus).filter((v) => !isJobResolved(v));
var RfqmTransactionSubmissionType;
(function (RfqmTransactionSubmissionType) {
    RfqmTransactionSubmissionType["Trade"] = "trade";
    RfqmTransactionSubmissionType["Approval"] = "approval";
})(RfqmTransactionSubmissionType = exports.RfqmTransactionSubmissionType || (exports.RfqmTransactionSubmissionType = {}));
var RfqmTransactionSubmissionStatus;
(function (RfqmTransactionSubmissionStatus) {
    RfqmTransactionSubmissionStatus["DroppedAndReplaced"] = "dropped_and_replaced";
    RfqmTransactionSubmissionStatus["Presubmit"] = "presubmit";
    RfqmTransactionSubmissionStatus["RevertedConfirmed"] = "reverted_confirmed";
    RfqmTransactionSubmissionStatus["RevertedUnconfirmed"] = "reverted_unconfirmed";
    RfqmTransactionSubmissionStatus["Submitted"] = "submitted";
    RfqmTransactionSubmissionStatus["SucceededConfirmed"] = "succeeded_confirmed";
    RfqmTransactionSubmissionStatus["SucceededUnconfirmed"] = "succeeded_unconfirmed";
})(RfqmTransactionSubmissionStatus = exports.RfqmTransactionSubmissionStatus || (exports.RfqmTransactionSubmissionStatus = {}));
/**
 * `SubmissionContext` contains multiple submissions with different gas prices. `SubmissionContextStatus`
 * is the collective status of all submissions contained within the submission context. It marks the final result of a
 * submission action which may contain several submission attempts.
 */
var SubmissionContextStatus;
(function (SubmissionContextStatus) {
    SubmissionContextStatus["FailedExpired"] = "failed_expired";
    SubmissionContextStatus["FailedRevertedConfirmed"] = "failed_reverted_confirmed";
    SubmissionContextStatus["FailedRevertedUnconfirmed"] = "failed_reverted_unconfirmed";
    SubmissionContextStatus["PendingSubmitted"] = "pending_submitted";
    SubmissionContextStatus["SucceededConfirmed"] = "succeeded_confirmed";
    SubmissionContextStatus["SucceededUnconfirmed"] = "succeeded_unconfirmed";
})(SubmissionContextStatus = exports.SubmissionContextStatus || (exports.SubmissionContextStatus = {}));
var RfqmOrderTypes;
(function (RfqmOrderTypes) {
    RfqmOrderTypes["V4Rfq"] = "v4Rfq";
    RfqmOrderTypes["Otc"] = "otc";
})(RfqmOrderTypes = exports.RfqmOrderTypes || (exports.RfqmOrderTypes = {}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3NyYy9lbnRpdGllcy90eXBlcy50cyIsIm1hcHBpbmdzIjoiOzs7QUFHQSxJQUFZLFNBSVg7QUFKRCxXQUFZLFNBQVM7SUFDakIsNENBQStCLENBQUE7SUFDL0Isd0NBQTJCLENBQUE7SUFDM0IsNkVBQWdFLENBQUE7QUFDcEUsQ0FBQyxFQUpXLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBSXBCO0FBRUQsSUFBWSxhQTBDWDtBQTFDRCxXQUFZLGFBQWE7SUFDckIsaUZBQWlGO0lBQ2pGLHFEQUFvQyxDQUFBO0lBQ3BDLG9JQUFvSTtJQUNwSSx5REFBd0MsQ0FBQTtJQUN4Qyx3R0FBd0c7SUFDeEcsdUVBQXNELENBQUE7SUFDdEQscUZBQXFGO0lBQ3JGLHVEQUFzQyxDQUFBO0lBRXRDLCtEQUErRDtJQUMvRCwrREFBOEMsQ0FBQTtJQUM5QywyRkFBMkY7SUFDM0YsaURBQWdDLENBQUE7SUFDaEMsc0NBQXNDO0lBQ3RDLHFFQUFvRCxDQUFBO0lBQ3BELG1GQUFtRjtJQUNuRixtRkFBa0UsQ0FBQTtJQUNsRSxrREFBa0Q7SUFDbEQsc0VBQXFELENBQUE7SUFDckQsa0RBQWtEO0lBQ2xELDBFQUF5RCxDQUFBO0lBQ3pELGdFQUFnRTtJQUNoRSwyRkFBMkY7SUFDM0Ysd0RBQXVDLENBQUE7SUFDdkMsNkRBQTZEO0lBQzdELDREQUEyQyxDQUFBO0lBQzNDLHlDQUF5QztJQUN6Qyw4RUFBNkQsQ0FBQTtJQUM3RCwyQ0FBMkM7SUFDM0MsOEVBQTZELENBQUE7SUFDN0Qsa0RBQWtEO0lBQ2xELDBGQUF5RSxDQUFBO0lBQ3pFLHdDQUF3QztJQUN4Qyx1RUFBc0QsQ0FBQTtJQUN0RCxxQ0FBcUM7SUFDckMsbUVBQWtELENBQUE7SUFFbEQscURBQXFEO0lBQ3JELDJEQUEwQyxDQUFBO0lBQzFDLGdEQUFnRDtJQUNoRCwrREFBOEMsQ0FBQTtBQUNsRCxDQUFDLEVBMUNXLGFBQWEsR0FBYixxQkFBYSxLQUFiLHFCQUFhLFFB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aUNBQWUsQ0FBQTtJQUNmLDZCQUFXLENBQUE7QUFDZixDQUFDLEVBSFcsY0FBYyxHQUFkLHNCQUFjLEtBQWQsc0JBQWMsUUFHekIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3NyYy9lbnRpdGllcy90eXBlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPdGNPcmRlckZpZWxkcyB9IGZyb20gJ0AweC9wcm90b2NvbC11dGlscyc7XG5pbXBvcnQgeyBCaWdOdW1iZXIgfSBmcm9tICdAMHgvdXRpbHMnO1xuXG5leHBvcnQgZW51bSBSZnFUYWJsZXMge1xuICAgIFJmcW1WMlF1b3RlcyA9ICdyZnFtX3YyX3F1b3RlcycsXG4gICAgUmZxbVYySm9icyA9ICdyZnFtX3YyX2pvYnMnLFxuICAgIFJmcW1WMlRyYW5zYWN0aW9uU3VibWlzc2lvbnMgPSAncmZxbV92Ml90cmFuc2FjdGlvbl9zdWJtaXNzaW9ucycsXG59XG5cbmV4cG9ydCBlbnVtIFJmcW1Kb2JTdGF0dXMge1xuICAgIC8vIFRyYW5zYWN0aW9uIGhhcyBiZWVuIGVucXVldWVkIGFuZCB3aWxsIGJlIHByb2Nlc3NlZCBvbmNlIGEgd29ya2VyIGlzIGF2YWlsYWJsZVxuICAgIFBlbmRpbmdFbnF1ZXVlZCA9ICdwZW5kaW5nX2VucXVldWVkJyxcbiAgICAvLyBUcmFuc2FjdGlvbiBoYXMgcGFzc2VkIGluaXRpYWwgdmFsaWRhdGlvbi4gTGFzdCBsb29rIHdpbGwgYmUgZXhlY3V0ZWQgYW5kIHRyYW5zYWN0aW9uIHdpbGwgYmUgc3VibWl0dGVkIGlmIGxhc3QgbG9vayBpcyBhY2NlcHRlZC5cbiAgICBQZW5kaW5nUHJvY2Vzc2luZyA9ICdwZW5kaW5nX3Byb2Nlc3NpbmcnLFxuICAgIC8vIEZvciB2MSBvcmRlcnMsIHRoZSBsYXN0IGxvb2sgaGFzIGJlZW4gYXBwcm92ZWQuIEZvciB2MiBvcmRlcnMsIHRoZSBtYXJrZXQgbWFrZXIgaGFzIHNpZ25lZCB0aGUgb3JkZXIuXG4gICAgUGVuZGluZ0xhc3RMb29rQWNjZXB0ZWQgPSAncGVuZGluZ19sYXN0X2xvb2tfYWNjZXB0ZWQnLFxuICAgIC8vIFRyYW5zYWN0aW9uIGhhcyBwYXNzZWQgaW5pdGlhbCB2ZXJpZmljYXRpb24gYW5kIGhhcyBiZWVuIHN1Ym1pdHRlZCB0byB0aGUgbWVtIHBvb2xcbiAgICBQZW5kaW5nU3VibWl0dGVkID0gJ3BlbmRpbmdfc3VibWl0dGVkJyxcblxuICAgIC8vIEV0aCBDYWxsIG1hZGUgYmVmb3JlIHRyYW5zYWN0aW9uIHN1Ym1pc3Npb24gd2FzIHVuc3VjY2Vzc2Z1bFxuICAgIEZhaWxlZEV0aENhbGxGYWlsZWQgPSAnZmFpbGVkX2V0aF9jYWxsX2ZhaWxlZCcsXG4gICAgLy8gVHJhbnNhY3Rpb24gaGFzIGV4cGlyZWQgcHJpb3IgdG8gZXRoIGNhbGwgb3Igd29ya2VyIGlzIG5vdCBhdmFpbGFibGUgdG8gbWFrZSBhbiBldGggY2FsbFxuICAgIEZhaWxlZEV4cGlyZWQgPSAnZmFpbGVkX2V4cGlyZWQnLFxuICAgIC8vIE1hcmtldCBNYWtlciBkZWNsaW5lZCB0aGUgbGFzdCBsb29rXG4gICAgRmFpbGVkTGFzdExvb2tEZWNsaW5lZCA9ICdmYWlsZWRfbGFzdF9sb29rX2RlY2xpbmVkJyxcbiAgICAvLyBbUkZRTSB2Ml0gQmFsYW5jZSBjaGVja3MgZXhlY3V0ZWQgYmVmb3JlIG9idGFpbmluZyBtYXJrZXQgbWFrZXIgc2lnbmF0dXJlIGZhaWxlZFxuICAgIEZhaWxlZFByZXNpZ25WYWxpZGF0aW9uRmFpbGVkID0gJ2ZhaWxlZF9wcmVzaWduX3ZhbGlkYXRpb25fZmFpbGVkJyxcbiAgICAvLyBUcmFuc2FjdGlvbiB3YXMgcmV2ZXJ0ZWQgbW9yZSB0aGFuIDMgYmxvY2tzIGFnb1xuICAgIEZhaWxlZFJldmVydGVkQ29uZmlybWVkID0gJ2ZhaWxlZF9yZXZlcnRlZF9jb25maXJtZWQnLFxuICAgIC8vIFRyYW5zYWN0aW9uIHdhcyByZXZlcnRlZCBsZXNzIHRoYW4gMyBibG9ja3MgYWdvXG4gICAgRmFpbGVkUmV2ZXJ0ZWRVbmNvbmZpcm1lZCA9ICdmYWlsZWRfcmV2ZXJ0ZWRfdW5jb25maXJtZWQnLFxuICAgIC8vIE9idGFpbmluZyB0aGUgbWFya2V0IG1ha2VyJ3Mgc2lnbmF0dXJlIGZvciBhIHYyIG9yZGVyIGZhaWxlZC5cbiAgICAvLyBUaGlzIGlzIE5PVCBhIHN0YXR1cyBmb3IgdGhlIGNhc2Ugd2hlcmUgdGhlIG1hcmtldCBtYWtlciBpbnRlbnRpb25hbGx5IGRlY2xpbmVkIHRvIHNpZ24uXG4gICAgRmFpbGVkU2lnbkZhaWxlZCA9ICdmYWlsZWRfc2lnbl9mYWlsZWQnLFxuICAgIC8vIFN1Ym1pdHRpbmcgdGhlIHRyYW5zYWN0aW9uIHRvIHRoZSBuZXR3b3JrIHdhcyB1bnN1Y2Nlc3NmdWxcbiAgICBGYWlsZWRTdWJtaXRGYWlsZWQgPSAnZmFpbGVkX3N1Ym1pdF9mYWlsZWQnLFxuICAgIC8vIFRyYW5zYWN0aW9uIGRvZXMgbm90IGNvbnRhaW4gY2FsbCBkYXRhXG4gICAgRmFpbGVkVmFsaWRhdGlvbk5vQ2FsbERhdGEgPSAnZmFpbGVkX3ZhbGlkYXRpb25fbm9fY2FsbF9kYXRhJyxcbiAgICAvLyBUcmFuc2FjdGlvbiBkb2VzIG5vdCBpbmNsdWRlIGEgbWFrZXIgVVJJXG4gICAgRmFpbGVkVmFsaWRhdGlvbk5vTWFrZXJVcmkgPSAnZmFpbGVkX3ZhbGlkYXRpb25fbm9fbWFrZXJfdXJpJyxcbiAgICAvLyBKb2IgaGFzIGJlZW4gc3VibWl0dGVkIHdpdGggbm8gdGFrZXIgc2lnbnVhdHVyZVxuICAgIEZhaWxlZFZhbGlkYXRpb25Ob1Rha2VyU2lnbmF0dXJlID0gJ2ZhaWxlZF92YWxpZGF0aW9uX25vX3Rha2VyX3NpZ25hdHVyZScsXG4gICAgLy8gVHJhbnNhY3Rpb24gZG9lcyBub3QgY29udGFpbiBhbiBvcmRlclxuICAgIEZhaWxlZFZhbGlkYXRpb25Ob09yZGVyID0gJ2ZhaWxlZF92YWxpZGF0aW9uX25vX29yZGVyJyxcbiAgICAvLyBUcmFuc2FjdGlvbiBkb2VzIG5vdCBjb250YWluIGEgZmVlXG4gICAgRmFpbGVkVmFsaWRhdGlvbk5vRmVlID0gJ2ZhaWxlZF92YWxpZGF0aW9uX25vX2ZlZScsXG5cbiAgICAvLyBUcmFuc2FjdGlvbiBoYXMgc3VjY2VlZGVkIHdpdGggMyBzdWJzZXF1ZW50IGJsb2Nrc1xuICAgIFN1Y2NlZWRlZENvbmZpcm1lZCA9ICdzdWNjZWVkZWRfY29uZmlybWVkJyxcbiAgICAvLyBUcmFuc2FjdGlvbiB3YXMgc3VjY2Vzc2Z1bGx5IG1pbmVkIGFuZCBmaWxsZWRcbiAgICBTdWNjZWVkZWRVbmNvbmZpcm1lZCA9ICdzdWNjZWVkZWRfdW5jb25maXJtZWQnLFxufVxuXG4vLyBGcm9tIGh0dHBzOi8vMHhwcm9qZWN0LnF1aXAuY29tL2l4TmJBNm1tbjFLVC9FcnJvci1yZWFzb24tb24tUkZRbS16ZXJvZy1zdGF0dXNcbmV4cG9ydCBlbnVtIEpvYkZhaWx1cmVSZWFzb24ge1xuICAgIFRyYW5zYWN0aW9uU2ltdWxhdGlvbkZhaWxlZCA9ICd0cmFuc2FjdGlvbl9zaW11bGF0aW9uX2ZhaWxlZCcsXG4gICAgT3JkZXJFeHBpcmVkID0gJ29yZGVyX2V4cGlyZWQnLFxuICAgIExhc3RMb29rRGVjbGluZWQgPSAnbGFzdF9sb29rX2RlY2xpbmVkJyxcbiAgICBUcmFuc2FjdGlvblJldmVydGVkID0gJ3RyYW5zYWN0aW9uX3JldmVydGVkJyxcbiAgICBNYXJrZXRNYWtlclNpZ25hdHVyZUVycm9yID0gJ21hcmtldF9tYWtlcl9zaWdhdHVyZV9lcnJvcicsXG4gICAgSW52YWxpZEJhbGFuY2UgPSAnaW52YWxpZF9iYWxhbmNlJyxcbiAgICBJbnRlcm5hbEVycm9yID0gJ2ludGVybmFsX2Vycm9yJywgLy8gZmFsbGJhY2sgZXJyb3IgcmVhc29uXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhIGdpdmVuIGBSZnFtSm9iU3RhdHVzYCBpbmRpY2F0ZXNcbiAqIHRoZSBhc3NvY2lhdGVkIGpvYiBoYXMgYmVlbiBwcm9jZXNzZWQgdG8gY29tcGxldGlvbiBvciBub3QuXG4gKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHN0YXR1cyBpbmRpY2F0ZXMgdGhlIGFzc29jaWF0ZWQgam9iIGlzXG4gKiByZXNvbHZlZCBhbmQgc2hvdWxkIG5vdCBiZSByZXRyaWVkOyByZXR1cm5zIGBmYWxzZWAgaWYgdGhlXG4gKiBhc3NvY2lhdGVkIGpvYiBpcyBpbiBhbiBpbmNvbXBsZXRlIHN0YXRlIGFuZCBzaG91bGQgYmUgcmV0cmllZC5cbiAqL1xuZnVuY3Rpb24gaXNKb2JSZXNvbHZlZChzdGF0dXM6IFJmcW1Kb2JTdGF0dXMpOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICBjYXNlIFJmcW1Kb2JTdGF0dXMuRmFpbGVkRXRoQ2FsbEZhaWxlZDpcbiAgICAgICAgY2FzZSBSZnFtSm9iU3RhdHVzLkZhaWxlZEV4cGlyZWQ6XG4gICAgICAgIGNhc2UgUmZxbUpvYlN0YXR1cy5GYWlsZWRMYXN0TG9va0RlY2xpbmVkOlxuICAgICAgICBjYXNlIFJmcW1Kb2JTdGF0dXMuRmFpbGVkUHJlc2lnblZhbGlkYXRpb25GYWlsZWQ6XG4gICAgICAgIGNhc2UgUmZxbUpvYlN0YXR1cy5GYWlsZWRSZXZlcnRlZENvbmZpcm1lZDpcbiAgICAgICAgY2FzZSBSZnFtSm9iU3RhdHVzLkZhaWxlZFNpZ25GYWlsZWQ6XG4gICAgICAgIGNhc2UgUmZxbUpvYlN0YXR1cy5GYWlsZWRTdWJtaXRGYWlsZWQ6XG4gICAgICAgIGNhc2UgUmZxbUpvYlN0YXR1cy5GYWlsZWRWYWxpZGF0aW9uTm9DYWxsRGF0YTpcbiAgICAgICAgY2FzZSBSZnFtSm9iU3RhdHVzLkZhaWxlZFZhbGlkYXRpb25Ob0ZlZTpcbiAgICAgICAgY2FzZSBSZnFtSm9iU3RhdHVzLkZhaWxlZFZhbGlkYXRpb25Ob01ha2VyVXJpOlxuICAgICAgICBjYXNlIFJmcW1Kb2JTdGF0dXMuRmFpbGVkVmFsaWRhdGlvbk5vT3JkZXI6XG4gICAgICAgIGNhc2UgUmZxbUpvYlN0YXR1cy5GYWlsZWRWYWxpZGF0aW9uTm9UYWtlclNpZ25hdHVyZTpcbiAgICAgICAgY2FzZSBSZnFtSm9iU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZDpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFJmcW1Kb2JTdGF0dXMuRmFpbGVkUmV2ZXJ0ZWRVbmNvbmZpcm1lZDpcbiAgICAgICAgY2FzZSBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZDpcbiAgICAgICAgY2FzZSBSZnFtSm9iU3RhdHVzLlBlbmRpbmdMYXN0TG9va0FjY2VwdGVkOlxuICAgICAgICBjYXNlIFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1Byb2Nlc3Npbmc6XG4gICAgICAgIGNhc2UgUmZxbUpvYlN0YXR1cy5QZW5kaW5nU3VibWl0dGVkOlxuICAgICAgICBjYXNlIFJmcW1Kb2JTdGF0dXMuU3VjY2VlZGVkVW5jb25maXJtZWQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAoKF94OiBuZXZlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWFjaGFibGUnKTtcbiAgICAgICAgICAgIH0pKHN0YXR1cyk7XG4gICAgfVxufVxuXG4vKipcbiAqIGBSZnFtSm9iU3RhdHVzYCB2YWx1ZXMgd2hpY2ggc2hvdWxkIGJlIGNvbnNpZGVyZWQgaW5jb21wbGV0ZVxuICogYW5kIHNob3VsZCBiZSByZXRyaWVkLlxuICovXG5leHBvcnQgY29uc3QgVW5yZXNvbHZlZFJmcW1Kb2JTdGF0dXNlcyA9IE9iamVjdC52YWx1ZXMoUmZxbUpvYlN0YXR1cykuZmlsdGVyKCh2KSA9PiAhaXNKb2JSZXNvbHZlZCh2KSk7XG5cbmV4cG9ydCBlbnVtIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlIHtcbiAgICBUcmFkZSA9ICd0cmFkZScsXG4gICAgQXBwcm92YWwgPSAnYXBwcm92YWwnLFxufVxuXG5leHBvcnQgZW51bSBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzIHtcbiAgICBEcm9wcGVkQW5kUmVwbGFjZWQgPSAnZHJvcHBlZF9hbmRfcmVwbGFjZWQnLFxuICAgIFByZXN1Ym1pdCA9ICdwcmVzdWJtaXQnLCAvLyBUcmFuc2FjdGlvbiBjcmVhdGVkIGJ1dCBub3QgeWV0IGJyb2FkY2FzdFxuICAgIFJldmVydGVkQ29uZmlybWVkID0gJ3JldmVydGVkX2NvbmZpcm1lZCcsXG4gICAgUmV2ZXJ0ZWRVbmNvbmZpcm1lZCA9ICdyZXZlcnRlZF91bmNvbmZpcm1lZCcsXG4gICAgU3VibWl0dGVkID0gJ3N1Ym1pdHRlZCcsXG4gICAgU3VjY2VlZGVkQ29uZmlybWVkID0gJ3N1Y2NlZWRlZF9jb25maXJtZWQnLFxuICAgIFN1Y2NlZWRlZFVuY29uZmlybWVkID0gJ3N1Y2NlZWRlZF91bmNvbmZpcm1lZCcsXG59XG5cbi8qKlxuICogYFN1Ym1pc3Npb25Db250ZXh0YCBjb250YWlucyBtdWx0aXBsZSBzdWJtaXNzaW9ucyB3aXRoIGRpZmZlcmVudCBnYXMgcHJpY2VzLiBgU3VibWlzc2lvbkNvbnRleHRTdGF0dXNgXG4gKiBpcyB0aGUgY29sbGVjdGl2ZSBzdGF0dXMgb2YgYWxsIHN1Ym1pc3Npb25zIGNvbnRhaW5lZCB3aXRoaW4gdGhlIHN1Ym1pc3Npb24gY29udGV4dC4gSXQgbWFya3MgdGhlIGZpbmFsIHJlc3VsdCBvZiBhXG4gKiBzdWJtaXNzaW9uIGFjdGlvbiB3aGljaCBtYXkgY29udGFpbiBzZXZlcmFsIHN1Ym1pc3Npb24gYXR0ZW1wdHMuXG4gKi9cbmV4cG9ydCBlbnVtIFN1Ym1pc3Npb25Db250ZXh0U3RhdHVzIHtcbiAgICBGYWlsZWRFeHBpcmVkID0gJ2ZhaWxlZF9leHBpcmVkJyxcbiAgICBGYWlsZWRSZXZlcnRlZENvbmZpcm1lZCA9ICdmYWlsZWRfcmV2ZXJ0ZWRfY29uZmlybWVkJyxcbiAgICBGYWlsZWRSZXZlcnRlZFVuY29uZmlybWVkID0gJ2ZhaWxlZF9yZXZlcnRlZF91bmNvbmZpcm1lZCcsXG4gICAgUGVuZGluZ1N1Ym1pdHRlZCA9ICdwZW5kaW5nX3N1Ym1pdHRlZCcsXG4gICAgU3VjY2VlZGVkQ29uZmlybWVkID0gJ3N1Y2NlZWRlZF9jb25maXJtZWQnLFxuICAgIFN1Y2NlZWRlZFVuY29uZmlybWVkID0gJ3N1Y2NlZWRlZF91bmNvbmZpcm1lZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNhY3Rpb25FbnRpdHlPcHRzIHtcbiAgICByZWZIYXNoOiBzdHJpbmc7XG4gICAgYXBpS2V5Pzogc3RyaW5nO1xuICAgIHR4SGFzaD86IHN0cmluZztcbiAgICB0YWtlckFkZHJlc3M/OiBzdHJpbmc7XG4gICAgc3RhdHVzOiBzdHJpbmc7XG4gICAgZXhwZWN0ZWRNaW5lZEluU2VjOiBudW1iZXI7XG4gICAgdG86IHN0cmluZztcbiAgICBkYXRhPzogc3RyaW5nO1xuICAgIHZhbHVlPzogQmlnTnVtYmVyO1xuICAgIGZyb20/OiBzdHJpbmc7XG4gICAgbm9uY2U/OiBudW1iZXI7XG4gICAgZ2FzUHJpY2U/OiBCaWdOdW1iZXI7XG4gICAgZ2FzPzogbnVtYmVyIHwgbnVsbDtcbiAgICBnYXNVc2VkPzogbnVtYmVyIHwgbnVsbDtcbiAgICBibG9ja051bWJlcj86IG51bWJlcjtcbiAgICAvLyBFdGhlcmV1bSB0eCBzdGF0dXMsIDEgPT0gc3VjY2VzcywgMCA9PSBmYWlsdXJlXG4gICAgdHhTdGF0dXM/OiBudW1iZXIgfCBudWxsO1xufVxuXG5leHBvcnQgZW51bSBSZnFtT3JkZXJUeXBlcyB7XG4gICAgVjRSZnEgPSAndjRSZnEnLFxuICAgIE90YyA9ICdvdGMnLFxufVxuXG4vKioqKioqKiBPVEMgKioqKioqKiovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3JlZE90Y09yZGVyIHtcbiAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGM7XG4gICAgb3JkZXI6IFN0cmluZ090Y09yZGVyRmllbGRzO1xufVxuXG5leHBvcnQgdHlwZSBTdHJpbmdPdGNPcmRlckZpZWxkcyA9IFJlY29yZDxrZXlvZiBPdGNPcmRlckZpZWxkcywgc3RyaW5nPjtcbiJdLCJ2ZXJzaW9uIjozfQ==