7ae4e60754f27ac22cc1fcb4ac67b451
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.MetaTransactionJobEntity = void 0;
const protocol_utils_1 = require("@0x/protocol-utils");
const utils_1 = require("@0x/utils");
const typeorm_1 = require("typeorm");
const transformers_1 = require("./transformers");
const types_1 = require("./types");
let MetaTransactionJobEntity = class MetaTransactionJobEntity {
    // TypeORM runs a validation check where it calls this initializer with no argument.
    // With no default `opts`, `opts` will be undefined and the validation will throw,
    // therefore, add this hacky default.
    // tslint:disable-next-line no-object-literal-type-assertion
    constructor(opts = {}) {
        var _a, _b, _c, _d, _e, _f, _g;
        this.kind = 'meta_transaction_job';
        // allow createdAt overrides for testing
        if (opts.createdAt) {
            this.createdAt = opts.createdAt;
        }
        this.affiliateAddress = (_a = opts.affiliateAddress) !== null && _a !== void 0 ? _a : null;
        this.approval = (_b = opts.approval) !== null && _b !== void 0 ? _b : null;
        this.approvalSignature = (_c = opts.approvalSignature) !== null && _c !== void 0 ? _c : null;
        this.chainId = opts.chainId;
        this.expiry = opts.expiry;
        this.fee = opts.fee;
        this.inputToken = opts.inputToken;
        this.inputTokenAmount = opts.inputTokenAmount;
        this.integratorId = opts.integratorId;
        this.metaTransaction = opts.metaTransaction;
        this.metaTransactionHash = opts.metaTransactionHash;
        this.minOutputTokenAmount = opts.minOutputTokenAmount;
        this.outputToken = opts.outputToken;
        this.settledOutputTokenAmount = (_d = opts.settledOutputTokenAmount) !== null && _d !== void 0 ? _d : null;
        this.status = (_e = opts.status) !== null && _e !== void 0 ? _e : types_1.RfqmJobStatus.PendingEnqueued;
        this.takerAddress = opts.takerAddress;
        this.takerSignature = opts.takerSignature;
        this.updatedAt = (_f = opts.updatedAt) !== null && _f !== void 0 ? _f : null;
        this.workerAddress = (_g = opts.workerAddress) !== null && _g !== void 0 ? _g : null;
    }
    /**
     * Used to get the 'canonical' hash of the job. This is useful
     * because it can also be called on an rfqm job and
     * that will return the order hash.
     */
    getHash() {
        return this.metaTransactionHash;
    }
};
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),
    __metadata("design:type", String)
], MetaTransactionJobEntity.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Index)(),
    (0, typeorm_1.Column)({ name: 'meta_transaction_hash', type: 'varchar', unique: true }),
    __metadata("design:type", String)
], MetaTransactionJobEntity.prototype, "metaTransactionHash", void 0);
__decorate([
    (0, typeorm_1.Index)(),
    (0, typeorm_1.Column)({ name: 'created_at', type: 'timestamptz', default: () => 'now()' }),
    __metadata("design:type", Date)
], MetaTransactionJobEntity.prototype, "createdAt", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)({ name: 'updated_at', type: 'timestamptz', nullable: true }),
    __metadata("design:type", Object)
], MetaTransactionJobEntity.prototype, "updatedAt", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'expiry', type: 'numeric', transformer: transformers_1.BigNumberTransformer }),
    __metadata("design:type", utils_1.BigNumber)
], MetaTransactionJobEntity.prototype, "expiry", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'chain_id', type: 'integer' }),
    __metadata("design:type", Number)
], MetaTransactionJobEntity.prototype, "chainId", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'integrator_id', type: 'varchar' }),
    __metadata("design:type", String)
], MetaTransactionJobEntity.prototype, "integratorId", void 0);
__decorate([
    (0, typeorm_1.Index)(),
    (0, typeorm_1.Column)({ name: 'status', type: 'varchar' }),
    __metadata("design:type", String)
], MetaTransactionJobEntity.prototype, "status", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'fee', type: 'jsonb', transformer: transformers_1.FeeTransformer }),
    __metadata("design:type", Object)
], MetaTransactionJobEntity.prototype, "fee", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'meta_transaction', type: 'jsonb', transformer: transformers_1.MetaTransactionTransformer }),
    __metadata("design:type", protocol_utils_1.MetaTransaction)
], MetaTransactionJobEntity.prototype, "metaTransaction", void 0);
__decorate([
    (0, typeorm_1.Index)(),
    (0, typeorm_1.Column)({ name: 'worker_address', type: 'varchar', nullable: true }),
    __metadata("design:type", Object)
], MetaTransactionJobEntity.prototype, "workerAddress", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'affiliate_address', type: 'varchar', nullable: true }),
    __metadata("design:type", Object)
], MetaTransactionJobEntity.prototype, "affiliateAddress", void 0);
__decorate([
    (0, typeorm_1.Index)(),
    (0, typeorm_1.Column)({ name: 'taker_address', type: 'varchar' }),
    __metadata("design:type", String)
], MetaTransactionJobEntity.prototype, "takerAddress", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'taker_signature', type: 'jsonb' }),
    __metadata("design:type", Object)
], MetaTransactionJobEntity.prototype, "takerSignature", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'approval', type: 'jsonb', nullable: true }),
    __metadata("design:type", Object)
], MetaTransactionJobEntity.prototype, "approval", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'approval_signature', type: 'jsonb', nullable: true }),
    __metadata("design:type", Object)
], MetaTransactionJobEntity.prototype, "approvalSignature", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'input_token', type: 'varchar' }),
    __metadata("design:type", String)
], MetaTransactionJobEntity.prototype, "inputToken", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'output_token', type: 'varchar' }),
    __metadata("design:type", String)
], MetaTransactionJobEntity.prototype, "outputToken", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'input_token_amount', type: 'numeric', transformer: transformers_1.BigNumberTransformer }),
    __metadata("design:type", utils_1.BigNumber)
], MetaTransactionJobEntity.prototype, "inputTokenAmount", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'min_output_token_amount', type: 'numeric', transformer: transformers_1.BigNumberTransformer }),
    __metadata("design:type", utils_1.BigNumber)
], MetaTransactionJobEntity.prototype, "minOutputTokenAmount", void 0);
__decorate([
    (0, typeorm_1.Column)({ name: 'settled_output_token_amount', type: 'numeric', transformer: transformers_1.BigNumberTransformer, nullable: true }),
    __metadata("design:type", Object)
], MetaTransactionJobEntity.prototype, "settledOutputTokenAmount", void 0);
MetaTransactionJobEntity = __decorate([
    (0, typeorm_1.Entity)({ name: 'meta_transaction_jobs' }),
    __metadata("design:paramtypes", [Object])
], MetaTransactionJobEntity);
exports.MetaTransactionJobEntity = MetaTransactionJobEntity;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3NyYy9lbnRpdGllcy9NZXRhVHJhbnNhY3Rpb25Kb2JFbnRpdHkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsdURBQWdFO0FBQ2hFLHFDQUFzQztBQUN0QyxxQ0FBMEY7QUFJMUYsaURBQWtHO0FBQ2xHLG1DQUF3QztBQW9CeEMsSUFBYSx3QkFBd0IsR0FBckMsTUFBYSx3QkFBd0I7SUF3RmpDLG9GQUFvRjtJQUNwRixrRkFBa0Y7SUFDbEYscUNBQXFDO0lBQ3JDLDREQUE0RDtJQUM1RCxZQUFZLE9BQTBDLEVBQXVDOztRQUN6RixJQUFJLENBQUMsSUFBSSxHQUFHLHNCQUFzQixDQUFDO1FBRW5DLHdDQUF3QztRQUN4QyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1NBQ25DO1FBRUQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE1BQUEsSUFBSSxDQUFDLGdCQUFnQixtQ0FBSSxJQUFJLENBQUM7UUFDdEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFBLElBQUksQ0FBQyxRQUFRLG1DQUFJLElBQUksQ0FBQztRQUN0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsTUFBQSxJQUFJLENBQUMsaUJBQWlCLG1DQUFJLElBQUksQ0FBQztRQUN4RCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzFCLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUNwQixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDbEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztRQUM5QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7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LEVBQUUsQ0FBQzs4QkFDbkUsaUJBQVM7c0VBQUM7QUFHdkM7SUFEQyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxJQUFJLEVBQUUsNkJBQTZCLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsbUNBQW9CLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDOzswRUFDbEU7QUE3RXpDLHdCQUF3QjtJQURwQyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxJQUFJLEVBQUUsdUJBQXVCLEVBQUUsQ0FBQzs7R0FDN0Isd0JBQXdCLENBd0hwQztBQXhIWSw0REFBd0IiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3NyYy9lbnRpdGllcy9NZXRhVHJhbnNhY3Rpb25Kb2JFbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWV0YVRyYW5zYWN0aW9uLCBTaWduYXR1cmUgfSBmcm9tICdAMHgvcHJvdG9jb2wtdXRpbHMnO1xyXG5pbXBvcnQgeyBCaWdOdW1iZXIgfSBmcm9tICdAMHgvdXRpbHMnO1xyXG5pbXBvcnQgeyBDb2x1bW4sIEVudGl0eSwgSW5kZXgsIFByaW1hcnlHZW5lcmF0ZWRDb2x1bW4sIFVwZGF0ZURhdGVDb2x1bW4gfSBmcm9tICd0eXBlb3JtJztcclxuXHJcbmltcG9ydCB7IEFwcHJvdmFsLCBGZWUgfSBmcm9tICcuLi9jb3JlL3R5cGVzJztcclxuXHJcbmltcG9ydCB7IEJpZ051bWJlclRyYW5zZm9ybWVyLCBGZWVUcmFuc2Zvcm1lciwgTWV0YVRyYW5zYWN0aW9uVHJhbnNmb3JtZXIgfSBmcm9tICcuL3RyYW5zZm9ybWVycyc7XHJcbmltcG9ydCB7IFJmcW1Kb2JTdGF0dXMgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbmV4cG9ydCB0eXBlIE1ldGFUcmFuc2FjdGlvbkpvYkNvbnN0cnVjdG9yT3B0cyA9IFBpY2s8XHJcbiAgICBNZXRhVHJhbnNhY3Rpb25Kb2JFbnRpdHksXHJcbiAgICB8ICdjaGFpbklkJ1xyXG4gICAgfCAnZXhwaXJ5J1xyXG4gICAgfCAnZmVlJ1xyXG4gICAgfCAnaW5wdXRUb2tlbidcclxuICAgIHwgJ2lucHV0VG9rZW5BbW91bnQnXHJcbiAgICB8ICdpbnRlZ3JhdG9ySWQnXHJcbiAgICB8ICdtZXRhVHJhbnNhY3Rpb24nXHJcbiAgICB8ICdtZXRhVHJhbnNhY3Rpb25IYXNoJ1xyXG4gICAgfCAnbWluT3V0cHV0VG9rZW5BbW91bnQnXHJcbiAgICB8ICdvdXRwdXRUb2tlbidcclxuICAgIHwgJ3Rha2VyQWRkcmVzcydcclxuICAgIHwgJ3Rha2VyU2lnbmF0dXJlJ1xyXG4+ICZcclxuICAgIFBhcnRpYWw8TWV0YVRyYW5zYWN0aW9uSm9iRW50aXR5PjtcclxuXHJcbkBFbnRpdHkoeyBuYW1lOiAnbWV0YV90cmFuc2FjdGlvbl9qb2JzJyB9KVxyXG5leHBvcnQgY2xhc3MgTWV0YVRyYW5zYWN0aW9uSm9iRW50aXR5IHtcclxuICAgIC8vIERpZmZlcmVudGlhdG9yIGZvciBkaWZmZXJlbnQgZmxhdm9ycyBvZiBSRlFNIGpvYnNcclxuICAgIHB1YmxpYyBraW5kOiAnbWV0YV90cmFuc2FjdGlvbl9qb2InO1xyXG5cclxuICAgIC8vIFVVSUQgYW5kIHdvdWxkIGJlIGdlbmVyYXRlZCBhdXRvbWF0aWNhbGx5IGR1cmluZyBpbnNlcnRpb25cclxuICAgIEBQcmltYXJ5R2VuZXJhdGVkQ29sdW1uKCd1dWlkJylcclxuICAgIHB1YmxpYyBpZCE6IHN0cmluZztcclxuXHJcbiAgICBASW5kZXgoKVxyXG4gICAgQENvbHVtbih7IG5hbWU6ICdtZXRhX3RyYW5zYWN0aW9uX2hhc2gnLCB0eXBlOiAndmFyY2hhcicsIHVuaXF1ZTogdHJ1ZSB9KVxyXG4gICAgcHVibGljIG1ldGFUcmFuc2FjdGlvbkhhc2g6IHN0cmluZztcclxuXHJcbiAgICBASW5kZXgoKVxyXG4gICAgQENvbHVtbih7IG5hbWU6ICdjcmVhdGVkX2F0JywgdHlwZTogJ3RpbWVzdGFtcHR6JywgZGVmYXVsdDogKCkgPT4gJ25vdygpJyB9KVxyXG4gICAgcHVibGljIGNyZWF0ZWRBdCE6IERhdGU7XHJcblxyXG4gICAgQFVwZGF0ZURhdGVDb2x1bW4oeyBuYW1lOiAndXBkYXRlZF9hdCcsIHR5cGU6ICd0aW1lc3RhbXB0eicsIG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgICBwdWJsaWMgdXBkYXRlZEF0OiBEYXRlIHwgbnVsbDtcclxuXHJcbiAgICAvLyBUaGUgZXhwaXJhdGlvbiB0aW1lIG9mIHRoZSBqb2IsIGluIHVuaXggc2Vjb25kc1xyXG4gICAgQENvbHVtbih7IG5hbWU6ICdleHBpcnknLCB0eXBlOiAnbnVtZXJpYycsIHRyYW5zZm9ybWVyOiBCaWdOdW1iZXJUcmFuc2Zvcm1lciB9KVxyXG4gICAgcHVibGljIGV4cGlyeTogQmlnTnVtYmVyO1xyXG5cclxuICAgIEBDb2x1bW4oeyBuYW1lOiAnY2hhaW5faWQnLCB0eXBlOiAnaW50ZWdlcicgfSlcclxuICAgIHB1YmxpYyBjaGFpbklkOiBudW1iZXI7XHJcblxyXG4gICAgQENvbHVtbih7IG5hbWU6ICdpbnRlZ3JhdG9yX2lkJywgdHlwZTogJ3ZhcmNoYXInIH0pXHJcbiAgICBwdWJsaWMgaW50ZWdyYXRvcklkOiBzdHJpbmc7XHJcblxyXG4gICAgQEluZGV4KClcclxuICAgIEBDb2x1bW4oeyBuYW1lOiAnc3RhdHVzJywgdHlwZTogJ3ZhcmNoYXInIH0pXHJcbiAgICBwdWJsaWMgc3RhdHVzOiBSZnFtSm9iU3RhdHVzO1xyXG5cclxuICAgIEBDb2x1bW4oeyBuYW1lOiAnZmVlJywgdHlwZTogJ2pzb25iJywgdHJhbnNmb3JtZXI6IEZlZVRyYW5zZm9ybWVyIH0pXHJcbiAgICBwdWJsaWMgZmVlOiBGZWU7XHJcblxyXG4gICAgQENvbHVtbih7IG5hbWU6ICdtZXRhX3RyYW5zYWN0aW9uJywgdHlwZTogJ2pzb25iJywgdHJhbnNmb3JtZXI6IE1ldGFUcmFuc2FjdGlvblRyYW5zZm9ybWVyIH0pXHJcbiAgICBwdWJsaWMgbWV0YVRyYW5zYWN0aW9uOiBNZXRhVHJhbnNhY3Rpb247XHJcblxyXG4gICAgQEluZGV4KClcclxuICAgIEBDb2x1bW4oeyBuYW1lOiAnd29ya2VyX2FkZHJlc3MnLCB0eXBlOiAndmFyY2hhcicsIG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgICBwdWJsaWMgd29ya2VyQWRkcmVzczogc3RyaW5nIHwgbnVsbDtcclxuXHJcbiAgICBAQ29sdW1uKHsgbmFtZTogJ2FmZmlsaWF0ZV9hZGRyZXNzJywgdHlwZTogJ3ZhcmNoYXInLCBudWxsYWJsZTogdHJ1ZSB9KVxyXG4gICAgcHVibGljIGFmZmlsaWF0ZUFkZHJlc3M6IHN0cmluZyB8IG51bGw7XHJcblxyXG4gICAgQEluZGV4KClcclxuICAgIEBDb2x1bW4oeyBuYW1lOiAndGFrZXJfYWRkcmVzcycsIHR5cGU6ICd2YXJjaGFyJyB9KVxyXG4gICAgcHVibGljIHRha2VyQWRkcmVzczogc3RyaW5nO1xyXG5cclxuICAgIC8vIFRoZSB0YWtlcidzIHNpZ25hdHVyZSBvZiB0aGUgbWV0YVRyYW5zYWN0aW9uIGhhc2guXHJcbiAgICBAQ29sdW1uKHsgbmFtZTogJ3Rha2VyX3NpZ25hdHVyZScsIHR5cGU6ICdqc29uYicgfSlcclxuICAgIHB1YmxpYyB0YWtlclNpZ25hdHVyZTogU2lnbmF0dXJlO1xyXG5cclxuICAgIC8vIFRoZSBvcHRpb25hbCBhcHByb3ZhbCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgRUlQLTcxMiBjb250ZXh0ICh3aGljaCBpbmNsdWRlc1xyXG4gICAgLy8gdGhlIG1lc3NhZ2UgdGhhdCB0aGUgdGFrZXIgd2lsbCBzaWduKS4gVGhpcyBpcyBzdG9yZWQgdG8gaGVscCB1cyBwcmVwYXJlIHRoZVxyXG4gICAgLy8gY2FsbGRhdGEgZm9yIGdhc2xlc3MgYXBwcm92YWxzXHJcbiAgICBAQ29sdW1uKHsgbmFtZTogJ2FwcHJvdmFsJywgdHlwZTogJ2pzb25iJywgbnVsbGFibGU6IHRydWUgfSlcclxuICAgIHB1YmxpYyBhcHByb3ZhbDogQXBwcm92YWwgfCBudWxsO1xyXG5cclxuICAgIC8vIFRoZSBzaWduYXR1cmUgZm9yIHRoZSBhcHByb3ZhbC5cclxuICAgIEBDb2x1bW4oeyBuYW1lOiAnYXBwcm92YWxfc2lnbmF0dXJlJywgdHlwZTogJ2pzb25iJywgbnVsbGFibGU6IHRydWUgfSlcclxuICAgIHB1YmxpYyBhcHByb3ZhbFNpZ25hdHVyZTogU2lnbmF0dXJlIHwgbnVsbDtcclxuXHJcbiAgICBAQ29sdW1uKHsgbmFtZTogJ2lucHV0X3Rva2VuJywgdHlwZTogJ3ZhcmNoYXInIH0pXHJcbiAgICBwdWJsaWMgaW5wdXRUb2tlbjogc3RyaW5nO1xyXG5cclxuICAgIEBDb2x1bW4oeyBuYW1lOiAnb3V0cHV0X3Rva2VuJywgdHlwZTogJ3ZhcmNoYXInIH0pXHJcbiAgICBwdWJsaWMgb3V0cHV0VG9rZW46IHN0cmluZztcclxuXHJcbiAgICBAQ29sdW1uKHsgbmFtZTogJ2lucHV0X3Rva2VuX2Ftb3VudCcsIHR5cGU6ICdudW1lcmljJywgdHJhbnNmb3JtZXI6IEJpZ051bWJlclRyYW5zZm9ybWVyIH0pXHJcbiAgICBwdWJsaWMgaW5wdXRUb2tlbkFtb3VudDogQmlnTnVtYmVyO1xyXG5cclxuICAgIEBDb2x1bW4oeyBuYW1lOiAnbWluX291dHB1dF90b2tlbl9hbW91bnQnLCB0eXBlOiAnbnVtZXJpYycsIHRyYW5zZm9ybWVyOiBCaWdOdW1iZXJUcmFuc2Zvcm1lciB9KVxyXG4gICAgcHVibGljIG1pbk91dHB1dFRva2VuQW1vdW50OiBCaWdOdW1iZXI7XHJcblxyXG4gICAgQENvbHVtbih7IG5hbWU6ICdzZXR0bGVkX291dHB1dF90b2tlbl9hbW91bnQnLCB0eXBlOiAnbnVtZXJpYycsIHRyYW5zZm9ybWVyOiBCaWdOdW1iZXJUcmFuc2Zvcm1lciwgbnVsbGFibGU6IHRydWUgfSlcclxuICAgIHB1YmxpYyBzZXR0bGVkT3V0cHV0VG9rZW5BbW91bnQ6IEJpZ051bWJlciB8IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIHRvIGdldCB0aGUgJ2Nhbm9uaWNhbCcgaGFzaCBvZiB0aGUgam9iLiBUaGlzIGlzIHVzZWZ1bFxyXG4gICAgICogYmVjYXVzZSBpdCBjYW4gYWxzbyBiZSBjYWxsZWQgb24gYW4gcmZxbSBqb2IgYW5kXHJcbiAgICAgKiB0aGF0IHdpbGwgcmV0dXJuIHRoZSBvcmRlciBoYXNoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SGFzaCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1ldGFUcmFuc2FjdGlvbkhhc2g7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVHlwZU9STSBydW5zIGEgdmFsaWRhdGlvbiBjaGVjayB3aGVyZSBpdCBjYWxscyB0aGlzIGluaXRpYWxpemVyIHdpdGggbm8gYXJndW1lbnQuXHJcbiAgICAvLyBXaXRoIG5vIGRlZmF1bHQgYG9wdHNgLCBgb3B0c2Agd2lsbCBiZSB1bmRlZmluZWQgYW5kIHRoZSB2YWxpZGF0aW9uIHdpbGwgdGhyb3csXHJcbiAgICAvLyB0aGVyZWZvcmUsIGFkZCB0aGlzIGhhY2t5IGRlZmF1bHQuXHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgbm8tb2JqZWN0LWxpdGVyYWwtdHlwZS1hc3NlcnRpb25cclxuICAgIGNvbnN0cnVjdG9yKG9wdHM6IE1ldGFUcmFuc2FjdGlvbkpvYkNvbnN0cnVjdG9yT3B0cyA9IHt9IGFzIE1ldGFUcmFuc2FjdGlvbkpvYkNvbnN0cnVjdG9yT3B0cykge1xyXG4gICAgICAgIHRoaXMua2luZCA9ICdtZXRhX3RyYW5zYWN0aW9uX2pvYic7XHJcblxyXG4gICAgICAgIC8vIGFsbG93IGNyZWF0ZWRBdCBvdmVycmlkZXMgZm9yIHRlc3RpbmdcclxuICAgICAgICBpZiAob3B0cy5jcmVhdGVkQXQpIHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVkQXQgPSBvcHRzLmNyZWF0ZWRBdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYWZmaWxpYXRlQWRkcmVzcyA9IG9wdHMuYWZmaWxpYXRlQWRkcmVzcyA/PyBudWxsO1xyXG4gICAgICAgIHRoaXMuYXBwcm92YWwgPSBvcHRzLmFwcHJvdmFsID8/IG51bGw7XHJcbiAgICAgICAgdGhpcy5hcHByb3ZhbFNpZ25hdHVyZSA9IG9wdHMuYXBwcm92YWxTaWduYXR1cmUgPz8gbnVsbDtcclxuICAgICAgICB0aGlzLmNoYWluSWQgPSBvcHRzLmNoYWluSWQ7XHJcbiAgICAgICAgdGhpcy5leHBpcnkgPSBvcHRzLmV4cGlyeTtcclxuICAgICAgICB0aGlzLmZlZSA9IG9wdHMuZmVlO1xyXG4gICAgICAgIHRoaXMuaW5wdXRUb2tlbiA9IG9wdHMuaW5wdXRUb2tlbjtcclxuICAgICAgICB0aGlzLmlucHV0VG9rZW5BbW91bnQgPSBvcHRzLmlucHV0VG9rZW5BbW91bnQ7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JhdG9ySWQgPSBvcHRzLmludGVncmF0b3JJZDtcclxuICAgICAgICB0aGlzLm1ldGFUcmFuc2FjdGlvbiA9IG9wdHMubWV0YVRyYW5zYWN0aW9uO1xyXG4gICAgICAgIHRoaXMubWV0YVRyYW5zYWN0aW9uSGFzaCA9IG9wdHMubWV0YVRyYW5zYWN0aW9uSGFzaDtcclxuICAgICAgICB0aGlzLm1pbk91dHB1dFRva2VuQW1vdW50ID0gb3B0cy5taW5PdXRwdXRUb2tlbkFtb3VudDtcclxuICAgICAgICB0aGlzLm91dHB1dFRva2VuID0gb3B0cy5vdXRwdXRUb2tlbjtcclxuICAgICAgICB0aGlzLnNldHRsZWRPdXRwdXRUb2tlbkFtb3VudCA9IG9wdHMuc2V0dGxlZE91dHB1dFRva2VuQW1vdW50ID8/IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBvcHRzLnN0YXR1cyA/PyBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZDtcclxuICAgICAgICB0aGlzLnRha2VyQWRkcmVzcyA9IG9wdHMudGFrZXJBZGRyZXNzO1xyXG4gICAgICAgIHRoaXMudGFrZXJTaWduYXR1cmUgPSBvcHRzLnRha2VyU2lnbmF0dXJlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlZEF0ID0gb3B0cy51cGRhdGVkQXQgPz8gbnVsbDtcclxuICAgICAgICB0aGlzLndvcmtlckFkZHJlc3MgPSBvcHRzLndvcmtlckFkZHJlc3MgPz8gbnVsbDtcclxuICAgIH1cclxufVxyXG4iXSwidmVyc2lvbiI6M30=