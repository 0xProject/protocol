29eacc8e2600f236448e4ec4c606e85e
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// tslint:disable:max-file-line-count custom-no-magic-numbers
const asset_swapper_1 = require("@0x/asset-swapper");
const protocol_utils_1 = require("@0x/protocol-utils");
const utils_1 = require("@0x/utils");
const web3_wrapper_1 = require("@0x/web3-wrapper");
const axios_1 = require("axios");
const axios_mock_adapter_1 = require("axios-mock-adapter");
const chai_1 = require("chai");
const ethers_1 = require("ethers");
const HttpStatus = require("http-status-codes");
const ioredis_1 = require("ioredis");
const sqs_producer_1 = require("sqs-producer");
const request = require("supertest");
const ts_mockito_1 = require("ts-mockito");
const config = require("../src/config");
const constants_1 = require("../src/core/constants");
const entities_1 = require("../src/entities");
const types_1 = require("../src/entities/types");
const http_rfqm_service_runner_1 = require("../src/runners/http_rfqm_service_runner");
const fee_service_1 = require("../src/services/fee_service");
const rfqm_service_1 = require("../src/services/rfqm_service");
const rfq_maker_balance_cache_service_1 = require("../src/services/rfq_maker_balance_cache_service");
const types_2 = require("../src/core/types");
const cache_client_1 = require("../src/utils/cache_client");
const config_manager_1 = require("../src/utils/config_manager");
const quote_server_client_1 = require("../src/utils/quote_server_client");
const rfqm_db_utils_1 = require("../src/utils/rfqm_db_utils");
const rfq_blockchain_utils_1 = require("../src/utils/rfq_blockchain_utils");
const rfq_maker_db_utils_1 = require("../src/utils/rfq_maker_db_utils");
const rfq_maker_manager_1 = require("../src/utils/rfq_maker_manager");
const SubmissionContext_1 = require("../src/utils/SubmissionContext");
const TokenMetadataManager_1 = require("../src/utils/TokenMetadataManager");
const constants_2 = require("./constants");
const deployment_1 = require("./test_utils/deployment");
const initDbDataSourceAsync_1 = require("./test_utils/initDbDataSourceAsync");
const MOCK_WORKER_REGISTRY_ADDRESS = '0x1023331a469c6391730ff1E2749422CE8873EC38';
const API_KEY = 'koolApiKey';
const ADMIN_API_KEY = 'adminApiKey';
const INTEGRATOR_ID = 'koolIntegratorId';
const contractAddresses = constants_2.CONTRACT_ADDRESSES;
const WORKER_FULL_BALANCE_WEI = new utils_1.BigNumber(1).shiftedBy(constants_1.ETH_DECIMALS);
// RFQM Market Maker request specific constants
const MARKET_MAKER_1 = 'https://mock-rfqt1.club';
const MARKET_MAKER_2 = 'https://mock-rfqt2.club';
const MARKET_MAKER_3 = 'https://mock-rfqt3.club';
const MARKET_MAKER_2_ADDR = '0xbEA29fE10caed0E1a65A7AdBddd254dD372e83Ff';
const MARKET_MAKER_3_ADDR = '0xA84f003D3a6F62c5dF218c7fb7b0EFB766b5AC07';
const GAS_PRICE = new utils_1.BigNumber(100);
const MOCK_META_TX_CALL_DATA = '0x123';
const RANDOM_VALID_SIGNATURE = {
    r: '0x72ba2125d4efe1f9cc77882138ed94cbd485f8897fe6d9fe34854906634fc59d',
    s: '0x1e19d3d29ab2855debc62a1df98a727673b8bf31c4da3a391a6eaea465920ff2',
    v: 27,
    signatureType: asset_swapper_1.SignatureType.EthSign,
};
const SAFE_EXPIRY = '1903620548';
const GAS_ESTIMATE = 165000;
const WORKER_ADDRESS = '0xaWorkerAddress';
const FIRST_TRANSACTION_HASH = '0xfirstTxHash';
const FIRST_SIGNED_TRANSACTION = '0xfirstSignedTransaction';
const TX_STATUS = 1;
// it's over 9K
const MINED_BLOCK = 9001;
// the tx should be finalized
const CURRENT_BLOCK = MINED_BLOCK + SubmissionContext_1.BLOCK_FINALITY_THRESHOLD;
const MOCK_EXCHANGE_PROXY = '0xtheExchangeProxy';
const SUCCESSFUL_TRANSACTION_RECEIPT = {
    blockHash: '0xaBlockHash',
    blockNumber: MINED_BLOCK,
    byzantium: true,
    confirmations: 2,
    contractAddress: '',
    cumulativeGasUsed: ethers_1.BigNumber.from(150000),
    effectiveGasPrice: ethers_1.BigNumber.from(1000),
    from: WORKER_ADDRESS,
    gasUsed: ethers_1.BigNumber.from(GAS_ESTIMATE),
    logs: [constants_2.TEST_RFQ_ORDER_FILLED_EVENT_LOG],
    logsBloom: '',
    status: TX_STATUS,
    to: MOCK_EXCHANGE_PROXY,
    transactionHash: FIRST_TRANSACTION_HASH,
    transactionIndex: 5,
    type: 2,
};
const MOCK_RFQM_JOB = new entities_1.RfqmV2JobEntity({
    chainId: 1337,
    createdAt: new Date(),
    expiry: new utils_1.BigNumber(Date.now()),
    fee: {
        amount: '1000',
        token: '0x123',
        type: 'fixed',
    },
    integratorId: null,
    makerUri: MARKET_MAKER_1,
    order: {
        order: {
            chainId: '1337',
            expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(SAFE_EXPIRY), constants_1.ZERO, new utils_1.BigNumber(SAFE_EXPIRY)).toString(),
            maker: '0x123',
            makerAmount: '1',
            makerToken: '0x123',
            taker: '0x123',
            takerAmount: '1',
            takerToken: '0x123',
            txOrigin: '0x123',
            verifyingContract: '0x123',
        },
        type: types_1.RfqmOrderTypes.Otc,
    },
    orderHash: '0x288d4d771179738ee9ca60f14df74612fb1ca43dfbc3bbb49dd9226a19747c11',
    status: types_1.RfqmJobStatus.PendingSubmitted,
    updatedAt: new Date(),
    workerAddress: null,
    lastLookResult: null,
    affiliateAddress: constants_2.MATCHA_AFFILIATE_ADDRESS,
    takerSpecifiedSide: 'makerToken',
});
jest.setTimeout(constants_1.ONE_MINUTE_MS * 2);
let teardownDependencies;
describe('RFQM Integration', () => {
    let app;
    let axiosClient;
    let cacheClient;
    let dataSource;
    let dbUtils;
    let mockAxios;
    let rfqBlockchainUtilsMock;
    let rfqmServiceChainId1337;
    let rfqmServiceChainId3;
    let server;
    let takerAddress;
    beforeAll(async () => {
        teardownDependencies = await (0, deployment_1.setupDependenciesAsync)(['postgres', 'ganache', 'redis']);
        // Create a Provider
        const provider = (0, constants_2.getProvider)();
        const web3Wrapper = new web3_wrapper_1.Web3Wrapper(provider);
        [takerAddress] = await web3Wrapper.getAvailableAddressesAsync();
        // Build dependencies
        // Create the mock FeeService
        const feeServiceMock = (0, ts_mockito_1.mock)(fee_service_1.FeeService);
        (0, ts_mockito_1.when)(feeServiceMock.getGasPriceEstimationAsync()).thenResolve(GAS_PRICE);
        (0, ts_mockito_1.when)(feeServiceMock.calculateFeeAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve({
            feeWithDetails: {
                token: '0xToken',
                amount: new utils_1.BigNumber(300),
                type: 'fixed',
                details: {
                    feeModelVersion: 1,
                    kind: 'default',
                    gasFeeAmount: new utils_1.BigNumber(100),
                    gasPrice: GAS_PRICE,
                    zeroExFeeAmount: new utils_1.BigNumber(200),
                    tradeSizeBps: 4,
                    feeTokenBaseUnitPriceUsd: new utils_1.BigNumber(30),
                    takerTokenBaseUnitPriceUsd: null,
                    makerTokenBaseUnitPriceUsd: new utils_1.BigNumber(20),
                },
                breakdown: {
                    gas: {
                        amount: new utils_1.BigNumber(100),
                        details: {
                            gasPrice: GAS_PRICE,
                            estimatedGas: new utils_1.BigNumber(1),
                        },
                    },
                    zeroEx: {
                        amount: new utils_1.BigNumber(200),
                        details: {
                            kind: 'volume',
                            tradeSizeBps: 4,
                        },
                    },
                },
                conversionRates: {
                    nativeTokenBaseUnitPriceUsd: new utils_1.BigNumber(30),
                    feeTokenBaseUnitPriceUsd: new utils_1.BigNumber(30),
                    takerTokenBaseUnitPriceUsd: null,
                    makerTokenBaseUnitPriceUsd: new utils_1.BigNumber(20),
                },
            },
        });
        const feeServiceInstance = (0, ts_mockito_1.instance)(feeServiceMock);
        // Create the mock ConfigManager
        const configManagerMock = (0, ts_mockito_1.mock)(config_manager_1.ConfigManager);
        (0, ts_mockito_1.when)(configManagerMock.getAdminApiKey()).thenReturn(ADMIN_API_KEY);
        (0, ts_mockito_1.when)(configManagerMock.getRfqmApiKeyWhitelist()).thenReturn(new Set([API_KEY]));
        (0, ts_mockito_1.when)(configManagerMock.getIntegratorIdForApiKey(API_KEY)).thenReturn(INTEGRATOR_ID);
        (0, ts_mockito_1.when)(configManagerMock.getIntegratorByIdOrThrow(INTEGRATOR_ID)).thenReturn({
            integratorId: INTEGRATOR_ID,
            apiKeys: [API_KEY],
            allowedChainIds: [1337],
            label: 'Test',
            rfqm: true,
            plp: false,
            rfqt: false,
        });
        const configManager = (0, ts_mockito_1.instance)(configManagerMock);
        // Create Axios client and mock
        axiosClient = axios_1.default.create();
        mockAxios = new axios_mock_adapter_1.default(axiosClient);
        // Create the mock rfqBlockchainUtils
        const validationResponse = [new utils_1.BigNumber(1), new utils_1.BigNumber(1)];
        rfqBlockchainUtilsMock = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.generateMetaTransaction((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenCall((_rfqOrder, _signature, _taker, _takerAmount, chainId) => new protocol_utils_1.MetaTransaction({ chainId }));
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.generateMetaTransactionCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(MOCK_META_TX_CALL_DATA);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.validateMetaTransactionOrThrowAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(validationResponse);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getTokenBalancesAsync((0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(1)]);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(1)]);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getNonceAsync((0, ts_mockito_1.anything)())).thenResolve(1);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(GAS_ESTIMATE);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
            signedTransaction: FIRST_SIGNED_TRANSACTION,
            transactionHash: FIRST_TRANSACTION_HASH,
        });
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.submitSignedTransactionAsync(FIRST_SIGNED_TRANSACTION)).thenResolve(FIRST_TRANSACTION_HASH);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getReceiptsAsync((0, ts_mockito_1.deepEqual)([FIRST_TRANSACTION_HASH]))).thenResolve([
            SUCCESSFUL_TRANSACTION_RECEIPT,
        ]);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getCurrentBlockAsync()).thenResolve(CURRENT_BLOCK);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getExchangeProxyAddress()).thenReturn(MOCK_EXCHANGE_PROXY);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.decodeMetaTransactionCallDataAndValidateAsync((0, ts_mockito_1.anyString)(), (0, ts_mockito_1.anyString)(), (0, ts_mockito_1.anything)())).thenResolve(validationResponse);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getDecodedRfqOrderFillEventLogFromLogs((0, ts_mockito_1.anything)())).thenReturn(constants_2.TEST_DECODED_RFQ_ORDER_FILLED_EVENT_LOG);
        (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getAccountBalanceAsync(MOCK_WORKER_REGISTRY_ADDRESS)).thenResolve(WORKER_FULL_BALANCE_WEI);
        const rfqBlockchainUtils = (0, ts_mockito_1.instance)(rfqBlockchainUtilsMock);
        const tokenMetadataManagerMock = (0, ts_mockito_1.mock)(TokenMetadataManager_1.TokenMetadataManager);
        (0, ts_mockito_1.when)(tokenMetadataManagerMock.getTokenDecimalsAsync((0, ts_mockito_1.anything)())).thenResolve(18);
        const tokenMetadataManager = (0, ts_mockito_1.instance)(tokenMetadataManagerMock);
        const sqsResponse = [
            {
                Id: 'id',
                MD5OfMessageBody: 'MD5OfMessageBody',
                MessageId: 'MessageId',
            },
        ];
        // Create the dbUtils
        dataSource = await (0, initDbDataSourceAsync_1.initDbDataSourceAsync)();
        dbUtils = new rfqm_db_utils_1.RfqmDbUtils(dataSource);
        // Create the mock sqsProducer
        const sqsProducerMock = (0, ts_mockito_1.mock)(sqs_producer_1.Producer);
        (0, ts_mockito_1.when)(sqsProducerMock.send((0, ts_mockito_1.anything)())).thenResolve(sqsResponse);
        (0, ts_mockito_1.when)(sqsProducerMock.queueSize()).thenResolve(0);
        const sqsProducer = (0, ts_mockito_1.instance)(sqsProducerMock);
        // Create the quote server client
        const quoteServerClient = new quote_server_client_1.QuoteServerClient(axiosClient);
        // Create the CacheClient
        const redis = new ioredis_1.default();
        cacheClient = new cache_client_1.CacheClient(redis);
        // Create the maker balance cache service
        const rfqMakerBalanceCacheServiceMock = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
        (0, ts_mockito_1.when)(rfqMakerBalanceCacheServiceMock.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(200000000000000000)], [new utils_1.BigNumber(200000000000000000), new utils_1.BigNumber(200000000000000000)]);
        const rfqMakerBalanceCacheService = (0, ts_mockito_1.instance)(rfqMakerBalanceCacheServiceMock);
        // Create the mock RfqMakerManager
        const rfqMakerManagerMock = (0, ts_mockito_1.mock)(rfq_maker_manager_1.RfqMakerManager);
        (0, ts_mockito_1.when)(rfqMakerManagerMock.getRfqmV2MakerUrisForPair((0, ts_mockito_1.anyString)(), (0, ts_mockito_1.anyString)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn([MARKET_MAKER_2, MARKET_MAKER_3]);
        (0, ts_mockito_1.when)(rfqMakerManagerMock.getRfqmV2MakerOfferings()).thenReturn({
            'https://mock-rfqm1.club': [
                ['0x871dd7c2b4b25e1aa18728e9d5f2af4c4e431f5c', '0x0b1ba0af832d7c05fd64161e0db78e85978e8082'],
            ],
        });
        const rfqMakerManager = (0, ts_mockito_1.instance)(rfqMakerManagerMock);
        rfqmServiceChainId1337 = new rfqm_service_1.RfqmService(1337, feeServiceInstance, 
        /* feeModelVersion */ 0, contractAddresses, MOCK_WORKER_REGISTRY_ADDRESS, rfqBlockchainUtils, dbUtils, sqsProducer, quoteServerClient, constants_1.DEFAULT_MIN_EXPIRY_DURATION_MS, cacheClient, rfqMakerBalanceCacheService, rfqMakerManager, tokenMetadataManager);
        // Create another RFQM Service for chain ID 3 that returns 0 offering
        const rfqMakerManagerChain3Mock = (0, ts_mockito_1.mock)(rfq_maker_manager_1.RfqMakerManager);
        (0, ts_mockito_1.when)(rfqMakerManagerChain3Mock.getRfqmV2MakerOfferings()).thenReturn({
            'https://mock-rfqm1.club': [],
        });
        const rfqMakerManagerChainId3 = (0, ts_mockito_1.instance)(rfqMakerManagerChain3Mock);
        rfqmServiceChainId3 = new rfqm_service_1.RfqmService(3, feeServiceInstance, 
        /* feeModelVersion */ 0, contractAddresses, MOCK_WORKER_REGISTRY_ADDRESS, rfqBlockchainUtils, dbUtils, sqsProducer, quoteServerClient, constants_1.DEFAULT_MIN_EXPIRY_DURATION_MS, cacheClient, rfqMakerBalanceCacheService, rfqMakerManagerChainId3, tokenMetadataManager);
        const rfqAdminService = (0, http_rfqm_service_runner_1.buildRfqAdminService)(dbUtils);
        const rfqMakerService = (0, http_rfqm_service_runner_1.buildRfqMakerService)(new rfq_maker_db_utils_1.RfqMakerDbUtils(dataSource), configManager);
        // Start the server
        const res = await (0, http_rfqm_service_runner_1.runHttpRfqmServiceAsync)(new Map([
            [1337, rfqmServiceChainId1337],
            [3, rfqmServiceChainId3],
        ]), new Map(), rfqAdminService, rfqMakerService, configManager, config.defaultHttpServiceConfig, dataSource, false);
        app = res.app;
        server = res.server;
    });
    afterEach(async () => {
        await dataSource.query('TRUNCATE TABLE rfqm_quotes CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_jobs CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_transaction_submissions CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_v2_quotes CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_v2_jobs CASCADE;');
        await dataSource.query('TRUNCATE TABLE rfqm_v2_transaction_submissions CASCADE;');
    });
    afterAll(async () => {
        await new Promise((resolve, reject) => {
            server.close((err) => {
                if (err) {
                    reject(err);
                }
                resolve();
            });
        });
        await cacheClient.closeAsync();
        if (!teardownDependencies()) {
            throw new Error('Failed to tear down dependencies');
        }
    });
    describe('rfqm/v1/healthz', () => {
        it('should return a 200 OK with active pairs', async () => {
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/healthz`)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.pairs[0][0]).to.equal('0x0b1ba0af832d7c05fd64161e0db78e85978e8082');
            (0, chai_1.expect)(appResponse.body.pairs[0][1]).to.equal('0x871dd7c2b4b25e1aa18728e9d5f2af4c4e431f5c');
        });
        // This test is to cover this issue: https://github.com/0xProject/0x-rfq-api/pull/200
        it('should return correct values for different chains', async () => {
            const chainId3HealthzResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/healthz`)
                .set('0x-chain-id', '3')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            // tslint:disable-next-line: no-unused-expression
            (0, chai_1.expect)(chainId3HealthzResponse.body.pairs).to.be.an('array').that.is.empty;
            const chainId1337HealthzResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/healthz`)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(chainId1337HealthzResponse.body.pairs[0][0]).to.equal('0x0b1ba0af832d7c05fd64161e0db78e85978e8082');
            (0, chai_1.expect)(chainId1337HealthzResponse.body.pairs[0][1]).to.equal('0x871dd7c2b4b25e1aa18728e9d5f2af4c4e431f5c');
        });
    });
    describe('rfqm/v1/price', () => {
        it('should return a 200 OK with an indicative quote for buys', async () => {
            const buyAmount = 200000000000000000;
            const winningQuote = 100000000000000000;
            const losingQuote = 150000000000000000;
            const zeroExApiParams = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                buyAmount: buyAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            const baseResponse = {
                makerAmount: buyAmount.toString(),
                makerToken: contractAddresses.zrxToken,
                takerToken: contractAddresses.etherToken,
                expiry: '1903620548', // in the year 2030
            };
            mockAxios.onGet(`${MARKET_MAKER_2}/rfqm/v2/price`).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                takerAmount: winningQuote.toString(),
                maker: MARKET_MAKER_2_ADDR,
            });
            mockAxios.onGet(`${MARKET_MAKER_3}/rfqm/v2/price`).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                takerAmount: losingQuote.toString(),
                maker: MARKET_MAKER_3_ADDR,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${zeroExApiParams.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            const expectedPrice = '0.5';
            (0, chai_1.expect)(appResponse.body.liquidityAvailable).to.equal(true);
            (0, chai_1.expect)(appResponse.body.price).to.equal(expectedPrice);
        });
        it('should return a 200 OK with an indicative quote for sells', async () => {
            const sellAmount = 100000000000000000;
            const winningQuote = 200000000000000000;
            const losingQuote = 150000000000000000;
            const zeroExApiParams = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            const baseResponse = {
                takerAmount: sellAmount.toString(),
                makerToken: contractAddresses.zrxToken,
                takerToken: contractAddresses.etherToken,
                expiry: '1903620548', // in the year 2030
            };
            mockAxios.onGet(`${MARKET_MAKER_2}/rfqm/v2/price`).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                makerAmount: winningQuote.toString(),
                maker: MARKET_MAKER_2_ADDR,
            });
            mockAxios.onGet(`${MARKET_MAKER_3}/rfqm/v2/price`).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                makerAmount: losingQuote.toString(),
                maker: MARKET_MAKER_3_ADDR,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${zeroExApiParams.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            const expectedPrice = '2';
            (0, chai_1.expect)(appResponse.body.liquidityAvailable).to.equal(true);
            (0, chai_1.expect)(appResponse.body.price).to.equal(expectedPrice);
        });
        it('should return a 200 OK, liquidityAvailable === false if no valid quotes found', async () => {
            const sellAmount = 100000000000000000;
            const quotedAmount = 200000000000000000;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            mockAxios.onGet(`${MARKET_MAKER_2}/rfqm/v2/price`).replyOnce(HttpStatus.OK, {
                makerAmount: quotedAmount.toString(),
                takerAmount: sellAmount.toString(),
                makerToken: contractAddresses.zrxToken,
                takerToken: contractAddresses.etherToken,
                expiry: '0', // already expired
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${params.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.liquidityAvailable).to.equal(false);
            (0, chai_1.expect)(appResponse.body.price).to.equal(undefined);
        });
        it('should return a 400 BAD REQUEST if API Key is not permitted access', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${params.toString()}`)
                .set('0x-api-key', 'unknown-key')
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Invalid API key');
        });
        it('should return a 400 BAD REQUEST if API Key does not have access to the chain', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${params.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1')
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Invalid API key');
        });
        it('should return a 400 BAD REQUEST Validation Error if Chain Id cannot be parsed', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${params.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', 'invalid-id')
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
            (0, chai_1.expect)(appResponse.body.validationErrors[0].reason).to.equal('Invalid chain id');
        });
        it('should return a 400 BAD REQUEST Validation Error if sending ETH, not WETH', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'ETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${params.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
            (0, chai_1.expect)(appResponse.body.validationErrors[0].reason).to.equal('Unwrapped Native Asset is not supported. Use WETH instead');
        });
        it('should return a 400 BAD REQUEST if buyToken is missing', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${params.toString()}`)
                .set('0x-api-key', API_KEY)
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
        });
        it('should return a 400 BAD REQUEST if sellToken is missing', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellAmount: sellAmount.toString(),
                takerAddress,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${params.toString()}`)
                .set('0x-api-key', API_KEY)
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
        });
        it('should return a 400 BAD REQUEST if both sellAmount and buyAmount are missing', async () => {
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                takerAddress,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${params.toString()}`)
                .set('0x-api-key', API_KEY)
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
        });
        it('should return a 400 BAD REQUEST Error if trading an unknown token', async () => {
            const sellAmount = 100000000000000000;
            const UNKNOWN_TOKEN = 'RACCOONS_FOREVER';
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: UNKNOWN_TOKEN,
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/price?${params.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
            (0, chai_1.expect)(appResponse.body.validationErrors[0].reason).to.equal(`Token ${UNKNOWN_TOKEN} is currently unsupported`);
        });
    });
    describe('rfqm/v1/quote', () => {
        it('should return a 200 OK, liquidityAvailable === false if no valid firm quotes found', async () => {
            const sellAmount = 100000000000000000;
            const insufficientSellAmount = 1;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            const baseResponse = {
                makerToken: contractAddresses.zrxToken,
                takerToken: contractAddresses.etherToken,
                expiry: '1903620548', // in the year 2030
            };
            mockAxios.onGet(`${MARKET_MAKER_2}/rfqm/v2/price`).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                takerAmount: insufficientSellAmount,
                makerAmount: insufficientSellAmount,
                maker: MARKET_MAKER_2_ADDR,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/quote?${params.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.liquidityAvailable).to.equal(false);
            (0, chai_1.expect)(appResponse.body.price).to.equal(undefined);
        });
        it('should return a 200 OK with a firm quote for buys', async () => {
            const buyAmount = 200000000000000000;
            const winningQuote = 100000000000000000;
            const losingQuote = 150000000000000000;
            const zeroExApiParams = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                buyAmount: buyAmount.toString(),
                takerAddress,
                intentOnFilling: 'true',
                skipValidation: 'true',
            });
            const headers = {
                Accept: 'application/json, text/plain, */*',
                '0x-api-key': INTEGRATOR_ID,
                '0x-integrator-id': INTEGRATOR_ID,
            };
            const baseResponse = {
                makerAmount: buyAmount.toString(),
                makerToken: contractAddresses.zrxToken,
                takerToken: contractAddresses.etherToken,
                expiry: '1903620548', // in the year 2030
            };
            mockAxios.onGet(`${MARKET_MAKER_2}/rfqm/v2/price`, { headers }).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                takerAmount: winningQuote.toString(),
                maker: MARKET_MAKER_2_ADDR,
            });
            mockAxios.onGet(`${MARKET_MAKER_3}/rfqm/v2/price`, { headers }).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                takerAmount: losingQuote.toString(),
                maker: MARKET_MAKER_3_ADDR,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/quote?${zeroExApiParams.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            const expectedPrice = '0.5';
            (0, chai_1.expect)(appResponse.body.price).to.equal(expectedPrice);
            (0, chai_1.expect)(appResponse.body.type).to.equal(types_2.GaslessTypes.OtcOrder);
            (0, chai_1.expect)(appResponse.body.orderHash).to.match(/^0x[0-9a-fA-F]+/);
            (0, chai_1.expect)(appResponse.body.order.maker).to.equal(MARKET_MAKER_2_ADDR);
            (0, chai_1.expect)(appResponse.body.approval).to.equal(undefined);
        });
        it('should return a 200 OK with a firm quote when OtcOrder pricing is available for sells', async () => {
            const sellAmount = 100000000000000000;
            const winningQuote = 200000000000000000;
            const losingQuote = 150000000000000000;
            const zeroExApiParams = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'true',
                skipValidation: 'true',
            });
            const headers = {
                Accept: 'application/json, text/plain, */*',
                '0x-api-key': INTEGRATOR_ID,
                '0x-integrator-id': INTEGRATOR_ID,
            };
            const baseResponse = {
                takerAmount: sellAmount.toString(),
                makerToken: contractAddresses.zrxToken,
                takerToken: contractAddresses.etherToken,
                expiry: '1903620548', // in the year 2030
            };
            mockAxios.onGet(`${MARKET_MAKER_2}/rfqm/v2/price`, { headers }).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                makerAmount: winningQuote.toString(),
                maker: MARKET_MAKER_2_ADDR,
            });
            mockAxios.onGet(`${MARKET_MAKER_3}/rfqm/v2/price`, { headers }).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                makerAmount: losingQuote.toString(),
                maker: MARKET_MAKER_3_ADDR,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/quote?${zeroExApiParams.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            const expectedPrice = '2';
            (0, chai_1.expect)(appResponse.body.price).to.equal(expectedPrice);
            (0, chai_1.expect)(appResponse.body.type).to.equal(types_2.GaslessTypes.OtcOrder);
            (0, chai_1.expect)(appResponse.body.orderHash).to.match(/^0x[0-9a-fA-F]+/);
            (0, chai_1.expect)(appResponse.body.order.maker).to.equal(MARKET_MAKER_2_ADDR);
            (0, chai_1.expect)(appResponse.body.approval).to.equal(undefined);
        });
        it('should return a 200 OK with a firm quote when OtcOrder pricing is available for sells and checkApproval is true', async () => {
            (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getAllowanceAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(new utils_1.BigNumber(0));
            (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getGaslessApprovalAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL);
            const sellAmount = 100000000000000000;
            const winningQuote = 200000000000000000;
            const losingQuote = 150000000000000000;
            const zeroExApiParams = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                checkApproval: 'true',
            });
            const headers = {
                Accept: 'application/json, text/plain, */*',
                '0x-api-key': INTEGRATOR_ID,
                '0x-integrator-id': INTEGRATOR_ID,
            };
            const baseResponse = {
                takerAmount: sellAmount.toString(),
                makerToken: contractAddresses.zrxToken,
                takerToken: contractAddresses.etherToken,
                expiry: '1903620548', // in the year 2030
            };
            mockAxios.onGet(`${MARKET_MAKER_2}/rfqm/v2/price`, { headers }).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                makerAmount: winningQuote.toString(),
                maker: MARKET_MAKER_2_ADDR,
            });
            mockAxios.onGet(`${MARKET_MAKER_3}/rfqm/v2/price`, { headers }).replyOnce(HttpStatus.OK, {
                ...baseResponse,
                makerAmount: losingQuote.toString(),
                maker: MARKET_MAKER_3_ADDR,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/quote?${zeroExApiParams.toString()}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            const expectedPrice = '2';
            const expectedApproval = {
                isRequired: true,
                isGaslessAvailable: true,
                type: constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL.kind,
                eip712: constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL.eip712,
            };
            (0, chai_1.expect)(appResponse.body.price).to.equal(expectedPrice);
            (0, chai_1.expect)(appResponse.body.type).to.equal(types_2.GaslessTypes.OtcOrder);
            (0, chai_1.expect)(appResponse.body.orderHash).to.match(/^0x[0-9a-fA-F]+/);
            (0, chai_1.expect)(appResponse.body.order.maker).to.equal(MARKET_MAKER_2_ADDR);
            (0, chai_1.expect)(appResponse.body.approval).to.eql(expectedApproval);
        });
        it('should return a 400 BAD REQUEST if api key is missing', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
                intentOnFilling: 'false',
                skipValidation: 'true',
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/quote?${params.toString()}`)
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Invalid API key');
        });
        it('should return a 400 BAD REQUEST if takerAddress is missing', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/quote?${params.toString()}`)
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
        });
        it('should return a 400 BAD REQUEST if buyToken is missing', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                sellToken: 'WETH',
                sellAmount: sellAmount.toString(),
                takerAddress,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/quote?${params.toString()}`)
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
        });
        it('should return a 400 BAD REQUEST if sellToken is missing', async () => {
            const sellAmount = 100000000000000000;
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellAmount: sellAmount.toString(),
                takerAddress,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/quote?${params.toString()}`)
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
        });
        it('should return a 400 BAD REQUEST if both sellAmount and buyAmount are missing', async () => {
            const params = new URLSearchParams({
                buyToken: 'ZRX',
                sellToken: 'WETH',
                takerAddress,
            });
            const appResponse = await request(app)
                .get(`${constants_1.RFQM_PATH}/quote?${params.toString()}`)
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
        });
    });
    describe('rfqm/v1/submit', () => {
        const mockStoredFee = {
            token: '0x123',
            amount: '1000',
            type: 'fixed',
        };
        const mockStoredOrder = {
            type: types_1.RfqmOrderTypes.Otc,
            order: {
                chainId: '1337',
                expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(SAFE_EXPIRY), constants_1.ZERO, new utils_1.BigNumber(SAFE_EXPIRY)).toString(),
                maker: '0x123',
                makerAmount: '1',
                makerToken: '0x123',
                taker: '0x123',
                takerAmount: '1',
                takerToken: '0x123',
                txOrigin: '0x123',
                verifyingContract: '0x123',
            },
        };
        // OtcOrder Taker
        const otcOrderTakerAddress = '0xdA9AC423442169588DE6b4305f4E820D708d0cE5';
        const otcOrderTakerPrivateKey = '0x653fa328df81be180b58e42737bc4cef037a19a3b9673b15d20ee2eebb2e509d';
        // OtcOrder
        const mockStoredOtcOrder = {
            type: types_1.RfqmOrderTypes.Otc,
            order: {
                txOrigin: '0x123',
                maker: '0x123',
                taker: otcOrderTakerAddress,
                makerToken: '0x123',
                takerToken: '0x123',
                makerAmount: '1',
                takerAmount: '1',
                expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(SAFE_EXPIRY), constants_1.ZERO, new utils_1.BigNumber(SAFE_EXPIRY)).toString(),
                chainId: '1337',
                verifyingContract: '0x123',
            },
        };
        const otcOrder = (0, rfqm_db_utils_1.storedOtcOrderToOtcOrder)(mockStoredOtcOrder);
        it('[v2] should return status 201 created and queue up a job with a successful request', async () => {
            // OtcOrder
            const order = otcOrder;
            const orderHash = order.getHash();
            // Taker Signature
            const takerSignature = (0, protocol_utils_1.ethSignHashWithKey)(orderHash, otcOrderTakerPrivateKey);
            const mockQuote = new entities_1.RfqmV2QuoteEntity({
                orderHash,
                makerUri: MARKET_MAKER_1,
                fee: mockStoredFee,
                order: mockStoredOtcOrder,
                chainId: 1337,
                affiliateAddress: constants_2.MATCHA_AFFILIATE_ADDRESS,
                takerSpecifiedSide: 'makerToken',
            });
            // write a corresponding quote entity to validate against
            await dataSource.getRepository(entities_1.RfqmV2QuoteEntity).insert(mockQuote);
            const appResponse = await request(app)
                .post(`${constants_1.RFQM_PATH}/submit`)
                .send({ type: types_2.GaslessTypes.OtcOrder, order, signature: takerSignature })
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.CREATED)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.orderHash).to.equal(orderHash);
            const dbJobEntity = await dataSource.getRepository(entities_1.RfqmV2JobEntity).findOne({
                where: {
                    orderHash,
                },
            });
            (0, chai_1.expect)(dbJobEntity).to.not.equal(null);
            (0, chai_1.expect)(dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.orderHash).to.equal(mockQuote.orderHash);
            (0, chai_1.expect)(dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.makerUri).to.equal(MARKET_MAKER_1);
            (0, chai_1.expect)(dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.affiliateAddress).to.equal(constants_2.MATCHA_AFFILIATE_ADDRESS);
            (0, chai_1.expect)(dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.takerSignature).to.deep.eq(takerSignature);
        });
        it('[v2] should return status 404 not found if there is not a pre-existing quote', async () => {
            const order = otcOrder;
            // Taker Signature
            const takerSignature = (0, protocol_utils_1.ethSignHashWithKey)(order.getHash(), otcOrderTakerPrivateKey);
            const appResponse = await request(app)
                .post(`${constants_1.RFQM_PATH}/submit`)
                .send({
                type: types_2.GaslessTypes.OtcOrder,
                order,
                signature: takerSignature,
            })
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.NOT_FOUND)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Not Found');
        });
        it('should return a 400 BAD REQUEST Error the type is not supported', async () => {
            const invalidType = 'v10rfq';
            const appResponse = await request(app)
                .post(`${constants_1.RFQM_PATH}/submit`)
                .send({ type: invalidType, order: mockStoredOrder, signature: RANDOM_VALID_SIGNATURE })
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
            (0, chai_1.expect)(appResponse.body.validationErrors[0].reason).to.equal(`${invalidType} is an invalid value for 'type'`);
        });
        it('[v2] should fail with status code 500 if a quote has already been submitted', async () => {
            // OtcOrder
            const order = otcOrder;
            const orderHash = order.getHash();
            // Taker Signature
            const takerSignature = (0, protocol_utils_1.ethSignHashWithKey)(orderHash, otcOrderTakerPrivateKey);
            const mockQuote = new entities_1.RfqmV2QuoteEntity({
                orderHash,
                makerUri: MARKET_MAKER_1,
                fee: mockStoredFee,
                order: mockStoredOtcOrder,
                chainId: 1337,
                affiliateAddress: constants_2.MATCHA_AFFILIATE_ADDRESS,
                takerSpecifiedSide: 'makerToken',
            });
            // write a corresponding quote entity to validate against
            await dataSource.getRepository(entities_1.RfqmV2QuoteEntity).insert(mockQuote);
            await request(app)
                .post(`${constants_1.RFQM_PATH}/submit`)
                .send({ type: types_2.GaslessTypes.OtcOrder, order, signature: takerSignature })
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.CREATED)
                .expect('Content-Type', /json/);
            // try to submit again
            await request(app)
                .post(`${constants_1.RFQM_PATH}/submit`)
                .send({ type: types_2.GaslessTypes.OtcOrder, order, signature: takerSignature })
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.INTERNAL_SERVER_ERROR)
                .expect('Content-Type', /json/);
        });
        it('[v2] should fail with 400 BAD REQUEST if meta tx is too close to expiration', async () => {
            const order = new protocol_utils_1.OtcOrder({
                ...otcOrder,
                expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(constants_1.ZERO, constants_1.ZERO, constants_1.ZERO),
            });
            const orderHash = order.getHash();
            const mockQuote = new entities_1.RfqmV2QuoteEntity({
                orderHash,
                makerUri: MARKET_MAKER_1,
                fee: mockStoredFee,
                order: mockStoredOtcOrder,
                chainId: 1337,
                affiliateAddress: constants_2.MATCHA_AFFILIATE_ADDRESS,
                takerSpecifiedSide: 'makerToken',
            });
            await dataSource.getRepository(entities_1.RfqmV2QuoteEntity).insert(mockQuote);
            const appResponse = await request(app)
                .post(`${constants_1.RFQM_PATH}/submit`)
                .send({ type: types_2.GaslessTypes.OtcOrder, order, signature: RANDOM_VALID_SIGNATURE })
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
            (0, chai_1.expect)(appResponse.body.validationErrors[0].reason).to.equal(`order will expire too soon`);
        });
        it('[v2] should fail with 400 BAD REQUEST if signature is invalid', async () => {
            const order = otcOrder;
            const orderHash = order.getHash();
            const mockQuote = new entities_1.RfqmV2QuoteEntity({
                orderHash,
                makerUri: MARKET_MAKER_1,
                fee: mockStoredFee,
                order: mockStoredOtcOrder,
                chainId: 1337,
                affiliateAddress: constants_2.MATCHA_AFFILIATE_ADDRESS,
                takerSpecifiedSide: 'makerToken',
            });
            await dataSource.getRepository(entities_1.RfqmV2QuoteEntity).insert(mockQuote);
            const appResponse = await request(app)
                .post(`${constants_1.RFQM_PATH}/submit`)
                .send({ type: types_2.GaslessTypes.OtcOrder, order, signature: RANDOM_VALID_SIGNATURE })
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.BAD_REQUEST)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.reason).to.equal('Validation Failed');
            (0, chai_1.expect)(appResponse.body.validationErrors[0].reason).to.equal(`signature is not valid`);
        });
    });
    describe('rfqm/v1/submit-with-approval', () => {
        const mockStoredFee = {
            token: '0x123',
            amount: '1000',
            type: 'fixed',
        };
        // OtcOrder Taker
        const otcOrderTakerAddress = '0xdA9AC423442169588DE6b4305f4E820D708d0cE5';
        const otcOrderTakerPrivateKey = '0x653fa328df81be180b58e42737bc4cef037a19a3b9673b15d20ee2eebb2e509d';
        // OtcOrder
        const mockStoredOtcOrder = {
            type: types_1.RfqmOrderTypes.Otc,
            order: {
                txOrigin: '0x123',
                maker: '0x123',
                taker: otcOrderTakerAddress,
                makerToken: '0x123',
                takerToken: '0x123',
                makerAmount: '1',
                takerAmount: '1',
                expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(SAFE_EXPIRY), constants_1.ZERO, new utils_1.BigNumber(SAFE_EXPIRY)).toString(),
                chainId: '1337',
                verifyingContract: '0x123',
            },
        };
        // Approval
        const approval = {
            type: constants_2.MOCK_PERMIT_APPROVAL.kind,
            eip712: constants_2.MOCK_PERMIT_APPROVAL.eip712,
        };
        const otcOrder = (0, rfqm_db_utils_1.storedOtcOrderToOtcOrder)(mockStoredOtcOrder);
        it('[v2] should return status 201 created and queue up a job with a successful request', async () => {
            var _a, _b;
            // OtcOrder
            const order = otcOrder;
            const orderHash = order.getHash();
            // Taker Signature
            const takerSignature = (0, protocol_utils_1.ethSignHashWithKey)(orderHash, otcOrderTakerPrivateKey);
            // Approval signature
            const signer = new ethers_1.ethers.Wallet(otcOrderTakerPrivateKey);
            const typesCopy = { ...approval.eip712.types };
            delete typesCopy.EIP712Domain;
            const rawApprovalSignature = await signer._signTypedData(approval.eip712.domain, 
            // $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            typesCopy, approval.eip712.message);
            const { v, r, s } = ethers_1.ethers.utils.splitSignature(rawApprovalSignature);
            const approvalSignature = {
                v,
                r,
                s,
                signatureType: 3,
            };
            const mockQuote = new entities_1.RfqmV2QuoteEntity({
                orderHash,
                makerUri: MARKET_MAKER_1,
                fee: mockStoredFee,
                order: mockStoredOtcOrder,
                chainId: 1337,
                affiliateAddress: constants_2.MATCHA_AFFILIATE_ADDRESS,
                takerSpecifiedSide: 'makerToken',
            });
            // write a corresponding quote entity to validate against
            await dataSource.getRepository(entities_1.RfqmV2QuoteEntity).insert(mockQuote);
            const appResponse = await request(app)
                .post(`${constants_1.RFQM_PATH}/submit-with-approval`)
                .send({
                trade: { type: types_2.GaslessTypes.OtcOrder, order, signature: takerSignature },
                approval: {
                    type: types_2.GaslessApprovalTypes.Permit,
                    eip712: approval.eip712,
                    signature: approvalSignature,
                },
            })
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.CREATED)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(appResponse.body.orderHash).to.equal(orderHash);
            const dbJobEntity = await dataSource.getRepository(entities_1.RfqmV2JobEntity).findOne({
                where: {
                    orderHash,
                },
            });
            (0, chai_1.expect)(dbJobEntity).to.not.equal(null);
            (0, chai_1.expect)(dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.orderHash).to.equal(mockQuote.orderHash);
            (0, chai_1.expect)(dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.makerUri).to.equal(MARKET_MAKER_1);
            (0, chai_1.expect)(dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.affiliateAddress).to.equal(constants_2.MATCHA_AFFILIATE_ADDRESS);
            (0, chai_1.expect)(dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.takerSignature).to.deep.eq(takerSignature);
            (0, chai_1.expect)((_a = dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.approval) === null || _a === void 0 ? void 0 : _a.eip712).to.deep.eq(approval.eip712);
            (0, chai_1.expect)((_b = dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.approval) === null || _b === void 0 ? void 0 : _b.kind).to.deep.eq(approval.type);
            (0, chai_1.expect)(dbJobEntity === null || dbJobEntity === void 0 ? void 0 : dbJobEntity.approvalSignature).to.deep.eq(approvalSignature);
        });
    });
    describe('rfqm/v1/status/:orderHash', () => {
        it('should return a 404 NOT FOUND if the order hash is not found', () => {
            const orderHash = '0x00';
            return request(app)
                .get(`${constants_1.RFQM_PATH}/status/${orderHash}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.NOT_FOUND);
        });
        it('should return a 200 when the order exists', async () => {
            await dbUtils.writeV2JobAsync(MOCK_RFQM_JOB);
            const response = await request(app)
                .get(`${constants_1.RFQM_PATH}/status/${MOCK_RFQM_JOB.orderHash}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            // Response details are covered by the service test, but do one small check for sanity
            (0, chai_1.expect)(response.body.status).to.equal('submitted');
        });
        it('should return status reason for failures', async () => {
            await dbUtils.writeV2JobAsync({
                ...MOCK_RFQM_JOB,
                status: types_1.RfqmJobStatus.FailedRevertedConfirmed,
            });
            const response = await request(app)
                .get(`${constants_1.RFQM_PATH}/status/${MOCK_RFQM_JOB.orderHash}`)
                .set('0x-api-key', API_KEY)
                .set('0x-chain-id', '1337')
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            // Response details are covered by the service test, but do one small check for sanity
            (0, chai_1.expect)(response.body.reason).to.equal('transaction_reverted');
        });
    });
    describe('/admin/v1/cleanup', () => {
        it('should return a 400 BAD REQUEST if the order hash is not found', () => {
            const orderHash = '0x00';
            return request(app)
                .post(`${constants_1.ADMIN_PATH}/cleanup`)
                .send({ orderHashes: [orderHash] })
                .set('0x-admin-api-key', ADMIN_API_KEY)
                .expect(HttpStatus.BAD_REQUEST);
        });
        it('should return a 400 BAD REQUEST if no order hashes are sent', async () => {
            await request(app)
                .post(`${constants_1.ADMIN_PATH}/cleanup`)
                .send({ orderHashes: [] })
                .set('0x-admin-api-key', ADMIN_API_KEY)
                .expect(HttpStatus.BAD_REQUEST);
        });
        it('should return a 400 BAD REQUEST if all job updates fail', async () => {
            await dbUtils.writeV2JobAsync({ ...MOCK_RFQM_JOB, status: types_1.RfqmJobStatus.SucceededConfirmed });
            const response = await request(app)
                .post(`${constants_1.ADMIN_PATH}/cleanup`)
                .send({ orderHashes: [MOCK_RFQM_JOB.orderHash] })
                .set('0x-admin-api-key', ADMIN_API_KEY)
                .expect(HttpStatus.BAD_REQUEST);
            (0, chai_1.expect)(response.body.unmodifiedJobs[0]).to.equal(MOCK_RFQM_JOB.orderHash);
        });
        it('should return a 401 UNAUTHORIZED if the API key is not an admin key', async () => {
            await dbUtils.writeV2JobAsync(MOCK_RFQM_JOB);
            const badApiKey = '0xbadapikey';
            return request(app)
                .post(`${constants_1.ADMIN_PATH}/cleanup`)
                .send({ orderHashes: [MOCK_RFQM_JOB.orderHash] })
                .set('0x-admin-api-key', badApiKey)
                .expect(HttpStatus.UNAUTHORIZED);
        });
        it('should return a 200 OK when the jobs are successfully set to failure', async () => {
            await dbUtils.writeV2JobAsync({
                ...MOCK_RFQM_JOB,
                expiry: new utils_1.BigNumber(Date.now() - 60000).dividedBy(constants_1.ONE_SECOND_MS).decimalPlaces(0),
            });
            const response = await request(app)
                .post(`${constants_1.ADMIN_PATH}/cleanup`)
                .send({ orderHashes: [MOCK_RFQM_JOB.orderHash] })
                .set('0x-admin-api-key', ADMIN_API_KEY)
                .expect(HttpStatus.OK)
                .expect('Content-Type', /json/);
            (0, chai_1.expect)(response.body.modifiedJobs[0]).to.equal(MOCK_RFQM_JOB.orderHash);
        });
        it('should return a 207 MULTI STATUS if some jobs succeed and some jobs fail', async () => {
            await dbUtils.writeV2JobAsync({
                ...MOCK_RFQM_JOB,
                status: types_1.RfqmJobStatus.SucceededConfirmed,
                orderHash: '0x01',
            });
            await dbUtils.writeV2JobAsync({
                ...MOCK_RFQM_JOB,
                expiry: new utils_1.BigNumber(Date.now() - 60000).dividedBy(constants_1.ONE_SECOND_MS).decimalPlaces(0),
                orderHash: '0x02',
            });
            const response = await request(app)
                .post(`${constants_1.ADMIN_PATH}/cleanup`)
                .send({ orderHashes: ['0x01', '0x02'] })
                .set('0x-admin-api-key', ADMIN_API_KEY)
                .expect(HttpStatus.MULTI_STATUS);
            (0, chai_1.expect)(response.body.unmodifiedJobs[0]).to.equal('0x01');
            (0, chai_1.expect)(response.body.modifiedJobs[0]).to.equal('0x02');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3Rlc3QvcmZxbV90ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsNkRBQTZEO0FBQzdELHFEQUFrRDtBQUVsRCx1REFBbUY7QUFDbkYscUNBQXNDO0FBQ3RDLG1EQUErQztBQUMvQyxpQ0FBNkM7QUFDN0MsMkRBQWtEO0FBQ2xELCtCQUE4QjtBQUU5QixtQ0FBOEQ7QUFFOUQsZ0RBQWdEO0FBQ2hELHFDQUE0QjtBQUM1QiwrQ0FBd0M7QUFDeEMscUNBQXFDO0FBQ3JDLDJDQUFrRjtBQUdsRix3Q0FBd0M7QUFDeEMscURBUStCO0FBQy9CLDhDQUFxRTtBQUNyRSxpREFBc0Y7QUFDdEYsc0ZBSWlEO0FBQ2pELDZEQUF5RDtBQUN6RCwrREFBMkQ7QUFDM0QscUdBQThGO0FBQzlGLDZDQUFxRztBQUNyRyw0REFBd0Q7QUFDeEQsZ0VBQTREO0FBQzVELDBFQUFxRTtBQUNyRSw4REFBbUY7QUFDbkYsNEVBQXVFO0FBQ3ZFLHdFQUFrRTtBQUNsRSxzRUFBaUU7QUFDakUsc0VBQTBFO0FBQzFFLDRFQUF5RTtBQUV6RSwyQ0FRcUI7QUFDckIsd0RBQXFHO0FBQ3JHLDhFQUEyRTtBQUUzRSxNQUFNLDRCQUE0QixHQUFHLDRDQUE0QyxDQUFDO0FBQ2xGLE1BQU0sT0FBTyxHQUFHLFlBQVksQ0FBQztBQUM3QixNQUFNLGFBQWEsR0FBRyxhQUFhLENBQUM7QUFDcEMsTUFBTSxhQUFhLEdBQUcsa0JBQWtCLENBQUM7QUFDekMsTUFBTSxpQkFBaUIsR0FBc0IsOEJBQWtCLENBQUM7QUFDaEUsTUFBTSx1QkFBdUIsR0FBRyxJQUFJLGlCQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLHdCQUFZLENBQUMsQ0FBQztBQUV6RSwrQ0FBK0M7QUFDL0MsTUFBTSxjQUFjLEdBQUcseUJBQXlCLENBQUM7QUFDakQsTUFBTSxjQUFjLEdBQUcseUJBQXlCLENBQUM7QUFDakQsTUFBTSxjQUFjLEdBQUcseUJBQXlCLENBQUM7QUFDakQs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QixHQUFHLGFBQWE7Z0JBQ2hCLE1BQU0sRUFBRSxxQkFBYSxDQUFDLGtCQUFrQjtnQkFDeEMsU0FBUyxFQUFFLE1BQU07YUFDcEIsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxPQUFPLENBQUMsZUFBZSxDQUFDO2dCQUMxQixHQUFHLGFBQWE7Z0JBQ2hCLE1BQU0sRUFBRSxJQUFJLGlCQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyx5QkFBYSxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztnQkFDcEYsU0FBUyxFQUFFLE1BQU07YUFDcEIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxRQUFRLEdBQUcsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUFDO2lCQUM5QixJQUFJLENBQUMsR0FBRyxzQkFBVSxVQUFVLENBQUM7aUJBQzdCLElBQUksQ0FBQyxFQUFFLFdBQVcsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDO2lCQUN2QyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsYUFBYSxDQUFDO2lCQUN0QyxNQUFNLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBRXJDLElBQUEsYUFBTSxFQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN6RCxJQUFBLGFBQU0sRUFBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0QsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZHdhbHNoL2NvZGUtbG9jYWwvMHgtcmZxLWFwaS90ZXN0L3JmcW1fdGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0c2xpbnQ6ZGlzYWJsZTptYXgtZmlsZS1saW5lLWNvdW50IGN1c3RvbS1uby1tYWdpYy1udW1iZXJzXHJcbmltcG9ydCB7IFNpZ25hdHVyZVR5cGUgfSBmcm9tICdAMHgvYXNzZXQtc3dhcHBlcic7XHJcbmltcG9ydCB7IENvbnRyYWN0QWRkcmVzc2VzIH0gZnJvbSAnQDB4L2NvbnRyYWN0LWFkZHJlc3Nlcyc7XHJcbmltcG9ydCB7IGV0aFNpZ25IYXNoV2l0aEtleSwgTWV0YVRyYW5zYWN0aW9uLCBPdGNPcmRlciB9IGZyb20gJ0AweC9wcm90b2NvbC11dGlscyc7XHJcbmltcG9ydCB7IEJpZ051bWJlciB9IGZyb20gJ0AweC91dGlscyc7XHJcbmltcG9ydCB7IFdlYjNXcmFwcGVyIH0gZnJvbSAnQDB4L3dlYjMtd3JhcHBlcic7XHJcbmltcG9ydCBBeGlvcywgeyBBeGlvc0luc3RhbmNlIH0gZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgQXhpb3NNb2NrQWRhcHRlciBmcm9tICdheGlvcy1tb2NrLWFkYXB0ZXInO1xyXG5pbXBvcnQgeyBleHBlY3QgfSBmcm9tICdjaGFpJztcclxuaW1wb3J0IHsgVHJhbnNhY3Rpb25SZWNlaXB0U3RhdHVzIH0gZnJvbSAnZXRoZXJldW0tdHlwZXMnO1xyXG5pbXBvcnQgeyBCaWdOdW1iZXIgYXMgRXRoZXJzQmlnTnVtYmVyLCBldGhlcnMgfSBmcm9tICdldGhlcnMnO1xyXG5pbXBvcnQgeyBTZXJ2ZXIgfSBmcm9tICdodHRwJztcclxuaW1wb3J0ICogYXMgSHR0cFN0YXR1cyBmcm9tICdodHRwLXN0YXR1cy1jb2Rlcyc7XHJcbmltcG9ydCBSZWRpcyBmcm9tICdpb3JlZGlzJztcclxuaW1wb3J0IHsgUHJvZHVjZXIgfSBmcm9tICdzcXMtcHJvZHVjZXInO1xyXG5pbXBvcnQgKiBhcyByZXF1ZXN0IGZyb20gJ3N1cGVydGVzdCc7XHJcbmltcG9ydCB7IGFueVN0cmluZywgYW55dGhpbmcsIGRlZXBFcXVhbCwgaW5zdGFuY2UsIG1vY2ssIHdoZW4gfSBmcm9tICd0cy1tb2NraXRvJztcclxuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJ3R5cGVvcm0nO1xyXG5cclxuaW1wb3J0ICogYXMgY29uZmlnIGZyb20gJy4uL3NyYy9jb25maWcnO1xyXG5pbXBvcnQge1xyXG4gICAgQURNSU5fUEFUSCxcclxuICAgIERFRkFVTFRfTUlOX0VYUElSWV9EVVJBVElPTl9NUyxcclxuICAgIEVUSF9ERUNJTUFMUyxcclxuICAgIE9ORV9NSU5VVEVfTVMsXHJcbiAgICBPTkVfU0VDT05EX01TLFxyXG4gICAgUkZRTV9QQVRILFxyXG4gICAgWkVSTyxcclxufSBmcm9tICcuLi9zcmMvY29yZS9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBSZnFtVjJKb2JFbnRpdHksIFJmcW1WMlF1b3RlRW50aXR5IH0gZnJvbSAnLi4vc3JjL2VudGl0aWVzJztcclxuaW1wb3J0IHsgUmZxbUpvYlN0YXR1cywgUmZxbU9yZGVyVHlwZXMsIFN0b3JlZE90Y09yZGVyIH0gZnJvbSAnLi4vc3JjL2VudGl0aWVzL3R5cGVzJztcclxuaW1wb3J0IHtcclxuICAgIGJ1aWxkUmZxQWRtaW5TZXJ2aWNlLFxyXG4gICAgYnVpbGRSZnFNYWtlclNlcnZpY2UsXHJcbiAgICBydW5IdHRwUmZxbVNlcnZpY2VBc3luYyxcclxufSBmcm9tICcuLi9zcmMvcnVubmVycy9odHRwX3JmcW1fc2VydmljZV9ydW5uZXInO1xyXG5pbXBvcnQgeyBGZWVTZXJ2aWNlIH0gZnJvbSAnLi4vc3JjL3NlcnZpY2VzL2ZlZV9zZXJ2aWNlJztcclxuaW1wb3J0IHsgUmZxbVNlcnZpY2UgfSBmcm9tICcuLi9zcmMvc2VydmljZXMvcmZxbV9zZXJ2aWNlJztcclxuaW1wb3J0IHsgUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlIH0gZnJvbSAnLi4vc3JjL3NlcnZpY2VzL3JmcV9tYWtlcl9iYWxhbmNlX2NhY2hlX3NlcnZpY2UnO1xyXG5pbXBvcnQgeyBHYXNsZXNzQXBwcm92YWxUeXBlcywgR2FzbGVzc1R5cGVzLCBQZXJtaXRFaXA3MTJUeXBlcywgU3RvcmVkRmVlIH0gZnJvbSAnLi4vc3JjL2NvcmUvdHlwZXMnO1xyXG5pbXBvcnQgeyBDYWNoZUNsaWVudCB9IGZyb20gJy4uL3NyYy91dGlscy9jYWNoZV9jbGllbnQnO1xyXG5pbXBvcnQgeyBDb25maWdNYW5hZ2VyIH0gZnJvbSAnLi4vc3JjL3V0aWxzL2NvbmZpZ19tYW5hZ2VyJztcclxuaW1wb3J0IHsgUXVvdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICcuLi9zcmMvdXRpbHMvcXVvdGVfc2VydmVyX2NsaWVudCc7XHJcbmltcG9ydCB7IFJmcW1EYlV0aWxzLCBzdG9yZWRPdGNPcmRlclRvT3RjT3JkZXIgfSBmcm9tICcuLi9zcmMvdXRpbHMvcmZxbV9kYl91dGlscyc7XHJcbmltcG9ydCB7IFJmcUJsb2NrY2hhaW5VdGlscyB9IGZyb20gJy4uL3NyYy91dGlscy9yZnFfYmxvY2tjaGFpbl91dGlscyc7XHJcbmltcG9ydCB7IFJmcU1ha2VyRGJVdGlscyB9IGZyb20gJy4uL3NyYy91dGlscy9yZnFfbWFrZXJfZGJfdXRpbHMnO1xyXG5pbXBvcnQgeyBSZnFNYWtlck1hbmFnZXIgfSBmcm9tICcuLi9zcmMvdXRpbHMvcmZxX21ha2VyX21hbmFnZXInO1xyXG5pbXBvcnQgeyBCTE9DS19GSU5BTElUWV9USFJFU0hPTEQgfSBmcm9tICcuLi9zcmMvdXRpbHMvU3VibWlzc2lvbkNvbnRleHQnO1xyXG5pbXBvcnQgeyBUb2tlbk1ldGFkYXRhTWFuYWdlciB9IGZyb20gJy4uL3NyYy91dGlscy9Ub2tlbk1ldGFkYXRhTWFuYWdlcic7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgQ09OVFJBQ1RfQUREUkVTU0VTLFxyXG4gICAgZ2V0UHJvdmlkZXIsXHJcbiAgICBNQVRDSEFfQUZGSUxJQVRFX0FERFJFU1MsXHJcbiAgICBNT0NLX0VYRUNVVEVfTUVUQV9UUkFOU0FDVElPTl9BUFBST1ZBTCxcclxuICAgIE1PQ0tfUEVSTUlUX0FQUFJPVkFMLFxyXG4gICAgVEVTVF9ERUNPREVEX1JGUV9PUkRFUl9GSUxMRURfRVZFTlRfTE9HLFxyXG4gICAgVEVTVF9SRlFfT1JERVJfRklMTEVEX0VWRU5UX0xPRyxcclxufSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IHNldHVwRGVwZW5kZW5jaWVzQXN5bmMsIFRlYXJkb3duRGVwZW5kZW5jaWVzRnVuY3Rpb25IYW5kbGUgfSBmcm9tICcuL3Rlc3RfdXRpbHMvZGVwbG95bWVudCc7XHJcbmltcG9ydCB7IGluaXREYkRhdGFTb3VyY2VBc3luYyB9IGZyb20gJy4vdGVzdF91dGlscy9pbml0RGJEYXRhU291cmNlQXN5bmMnO1xyXG5cclxuY29uc3QgTU9DS19XT1JLRVJfUkVHSVNUUllfQUREUkVTUyA9ICcweDEwMjMzMzFhNDY5YzYzOTE3MzBmZjFFMjc0OTQyMkNFODg3M0VDMzgnO1xyXG5jb25zdCBBUElfS0VZID0gJ2tvb2xBcGlLZXknO1xyXG5jb25zdCBBRE1JTl9BUElfS0VZID0gJ2FkbWluQXBpS2V5JztcclxuY29uc3QgSU5URUdSQVRPUl9JRCA9ICdrb29sSW50ZWdyYXRvcklkJztcclxuY29uc3QgY29udHJhY3RBZGRyZXNzZXM6IENvbnRyYWN0QWRkcmVzc2VzID0gQ09OVFJBQ1RfQUREUkVTU0VTO1xyXG5jb25zdCBXT1JLRVJfRlVMTF9CQUxBTkNFX1dFSSA9IG5ldyBCaWdOdW1iZXIoMSkuc2hpZnRlZEJ5KEVUSF9ERUNJTUFMUyk7XHJcblxyXG4vLyBSRlFNIE1hcmtldCBNYWtlciByZXF1ZXN0IHNwZWNpZmljIGNvbnN0YW50c1xyXG5jb25zdCBNQVJLRVRfTUFLRVJfMSA9ICdodHRwczovL21vY2stcmZxdDEuY2x1Yic7XHJcbmNvbnN0IE1BUktFVF9NQUtFUl8yID0gJ2h0dHBzOi8vbW9jay1yZnF0Mi5jbHViJztcclxuY29uc3QgTUFSS0VUX01BS0VSXzMgPSAnaHR0cHM6Ly9tb2NrLXJmcXQzLmNsdWInO1xyXG5jb25zdCBNQVJLRVRfTUFLRVJfMl9BRERSID0gJzB4YkVBMjlmRTEwY2FlZDBFMWE2NUE3QWRCZGRkMjU0ZEQzNzJlODNGZic7XHJcbmNvbnN0IE1BUktFVF9NQUtFUl8zX0FERFIgPSAnMHhBODRmMDAzRDNhNkY2MmM1ZEYyMThjN2ZiN2IwRUZCNzY2YjVBQzA3JztcclxuY29uc3QgR0FTX1BSSUNFID0gbmV3IEJpZ051bWJlcigxMDApO1xyXG5cclxuY29uc3QgTU9DS19NRVRBX1RYX0NBTExfREFUQSA9ICcweDEyMyc7XHJcbmNvbnN0IFJBTkRPTV9WQUxJRF9TSUdOQVRVUkUgPSB7XHJcbiAgICByOiAnMHg3MmJhMjEyNWQ0ZWZlMWY5Y2M3Nzg4MjEzOGVkOTRjYmQ0ODVmODg5N2ZlNmQ5ZmUzNDg1NDkwNjYzNGZjNTlkJyxcclxuICAgIHM6ICcweDFlMTlkM2QyOWFiMjg1NWRlYmM2MmExZGY5OGE3Mjc2NzNiOGJmMzFjNGRhM2EzOTFhNmVhZWE0NjU5MjBmZjInLFxyXG4gICAgdjogMjcsXHJcbiAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXHJcbn07XHJcbmNvbnN0IFNBRkVfRVhQSVJZID0gJzE5MDM2MjA1NDgnO1xyXG5jb25zdCBHQVNfRVNUSU1BVEUgPSAxNjUwMDA7XHJcbmNvbnN0IFdPUktFUl9BRERSRVNTID0gJzB4YVdvcmtlckFkZHJlc3MnO1xyXG5jb25zdCBGSVJTVF9UUkFOU0FDVElPTl9IQVNIID0gJzB4Zmlyc3RUeEhhc2gnO1xyXG5jb25zdCBGSVJTVF9TSUdORURfVFJBTlNBQ1RJT04gPSAnMHhmaXJzdFNpZ25lZFRyYW5zYWN0aW9uJztcclxuY29uc3QgVFhfU1RBVFVTOiBUcmFuc2FjdGlvblJlY2VpcHRTdGF0dXMgPSAxO1xyXG4vLyBpdCdzIG92ZXIgOUtcclxuY29uc3QgTUlORURfQkxPQ0sgPSA5MDAxO1xyXG4vLyB0aGUgdHggc2hvdWxkIGJlIGZpbmFsaXplZFxyXG5jb25zdCBDVVJSRU5UX0JMT0NLID0gTUlORURfQkxPQ0sgKyBCTE9DS19GSU5BTElUWV9USFJFU0hPTEQ7XHJcbmNvbnN0IE1PQ0tfRVhDSEFOR0VfUFJPWFkgPSAnMHh0aGVFeGNoYW5nZVByb3h5JztcclxuY29uc3QgU1VDQ0VTU0ZVTF9UUkFOU0FDVElPTl9SRUNFSVBUID0ge1xyXG4gICAgYmxvY2tIYXNoOiAnMHhhQmxvY2tIYXNoJyxcclxuICAgIGJsb2NrTnVtYmVyOiBNSU5FRF9CTE9DSyxcclxuICAgIGJ5emFudGl1bTogdHJ1ZSxcclxuICAgIGNvbmZpcm1hdGlvbnM6IDIsXHJcbiAgICBjb250cmFjdEFkZHJlc3M6ICcnLFxyXG4gICAgY3VtdWxhdGl2ZUdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDE1MDAwMCksXHJcbiAgICBlZmZlY3RpdmVHYXNQcmljZTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXHJcbiAgICBmcm9tOiBXT1JLRVJfQUREUkVTUyxcclxuICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKEdBU19FU1RJTUFURSksXHJcbiAgICBsb2dzOiBbVEVTVF9SRlFfT1JERVJfRklMTEVEX0VWRU5UX0xPR10sXHJcbiAgICBsb2dzQmxvb206ICcnLFxyXG4gICAgc3RhdHVzOiBUWF9TVEFUVVMsXHJcbiAgICB0bzogTU9DS19FWENIQU5HRV9QUk9YWSxcclxuICAgIHRyYW5zYWN0aW9uSGFzaDogRklSU1RfVFJBTlNBQ1RJT05fSEFTSCxcclxuICAgIHRyYW5zYWN0aW9uSW5kZXg6IDUsXHJcbiAgICB0eXBlOiAyLFxyXG59O1xyXG5cclxuY29uc3QgTU9DS19SRlFNX0pPQiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xyXG4gICAgY2hhaW5JZDogMTMzNyxcclxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihEYXRlLm5vdygpKSxcclxuICAgIGZlZToge1xyXG4gICAgICAgIGFtb3VudDogJzEwMDAnLFxyXG4gICAgICAgIHRva2VuOiAnMHgxMjMnLFxyXG4gICAgICAgIHR5cGU6ICdmaXhlZCcsXHJcbiAgICB9LFxyXG4gICAgaW50ZWdyYXRvcklkOiBudWxsLFxyXG4gICAgbWFrZXJVcmk6IE1BUktFVF9NQUtFUl8xLFxyXG4gICAgb3JkZXI6IHtcclxuICAgICAgICBvcmRlcjoge1xyXG4gICAgICAgICAgICBjaGFpbklkOiAnMTMzNycsXHJcbiAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcclxuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoU0FGRV9FWFBJUlkpLFxyXG4gICAgICAgICAgICAgICAgWkVSTyxcclxuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoU0FGRV9FWFBJUlkpLFxyXG4gICAgICAgICAgICApLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIG1ha2VyOiAnMHgxMjMnLFxyXG4gICAgICAgICAgICBtYWtlckFtb3VudDogJzEnLFxyXG4gICAgICAgICAgICBtYWtlclRva2VuOiAnMHgxMjMnLFxyXG4gICAgICAgICAgICB0YWtlcjogJzB4MTIzJyxcclxuICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxJyxcclxuICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4MTIzJyxcclxuICAgICAgICAgICAgdHhPcmlnaW46ICcweDEyMycsXHJcbiAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnMHgxMjMnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxyXG4gICAgfSxcclxuICAgIG9yZGVySGFzaDogJzB4Mjg4ZDRkNzcxMTc5NzM4ZWU5Y2E2MGYxNGRmNzQ2MTJmYjFjYTQzZGZiYzNiYmI0OWRkOTIyNmExOTc0N2MxMScsXHJcbiAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1N1Ym1pdHRlZCxcclxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgIHdvcmtlckFkZHJlc3M6IG51bGwsXHJcbiAgICBsYXN0TG9va1Jlc3VsdDogbnVsbCxcclxuICAgIGFmZmlsaWF0ZUFkZHJlc3M6IE1BVENIQV9BRkZJTElBVEVfQUREUkVTUyxcclxuICAgIHRha2VyU3BlY2lmaWVkU2lkZTogJ21ha2VyVG9rZW4nLFxyXG59KTtcclxuXHJcbmplc3Quc2V0VGltZW91dChPTkVfTUlOVVRFX01TICogMik7XHJcbmxldCB0ZWFyZG93bkRlcGVuZGVuY2llczogVGVhcmRvd25EZXBlbmRlbmNpZXNGdW5jdGlvbkhhbmRsZTtcclxuXHJcbmRlc2NyaWJlKCdSRlFNIEludGVncmF0aW9uJywgKCkgPT4ge1xyXG4gICAgbGV0IGFwcDogRXhwcmVzcy5BcHBsaWNhdGlvbjtcclxuICAgIGxldCBheGlvc0NsaWVudDogQXhpb3NJbnN0YW5jZTtcclxuICAgIGxldCBjYWNoZUNsaWVudDogQ2FjaGVDbGllbnQ7XHJcbiAgICBsZXQgZGF0YVNvdXJjZTogRGF0YVNvdXJjZTtcclxuICAgIGxldCBkYlV0aWxzOiBSZnFtRGJVdGlscztcclxuICAgIGxldCBtb2NrQXhpb3M6IEF4aW9zTW9ja0FkYXB0ZXI7XHJcbiAgICBsZXQgcmZxQmxvY2tjaGFpblV0aWxzTW9jazogUmZxQmxvY2tjaGFpblV0aWxzO1xyXG4gICAgbGV0IHJmcW1TZXJ2aWNlQ2hhaW5JZDEzMzc6IFJmcW1TZXJ2aWNlO1xyXG4gICAgbGV0IHJmcW1TZXJ2aWNlQ2hhaW5JZDM6IFJmcW1TZXJ2aWNlO1xyXG4gICAgbGV0IHNlcnZlcjogU2VydmVyO1xyXG4gICAgbGV0IHRha2VyQWRkcmVzczogc3RyaW5nO1xyXG5cclxuICAgIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdGVhcmRvd25EZXBlbmRlbmNpZXMgPSBhd2FpdCBzZXR1cERlcGVuZGVuY2llc0FzeW5jKFsncG9zdGdyZXMnLCAnZ2FuYWNoZScsICdyZWRpcyddKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgUHJvdmlkZXJcclxuICAgICAgICBjb25zdCBwcm92aWRlciA9IGdldFByb3ZpZGVyKCk7XHJcbiAgICAgICAgY29uc3Qgd2ViM1dyYXBwZXIgPSBuZXcgV2ViM1dyYXBwZXIocHJvdmlkZXIpO1xyXG4gICAgICAgIFt0YWtlckFkZHJlc3NdID0gYXdhaXQgd2ViM1dyYXBwZXIuZ2V0QXZhaWxhYmxlQWRkcmVzc2VzQXN5bmMoKTtcclxuXHJcbiAgICAgICAgLy8gQnVpbGQgZGVwZW5kZW5jaWVzXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBtb2NrIEZlZVNlcnZpY2VcclxuICAgICAgICBjb25zdCBmZWVTZXJ2aWNlTW9jayA9IG1vY2soRmVlU2VydmljZSk7XHJcbiAgICAgICAgd2hlbihmZWVTZXJ2aWNlTW9jay5nZXRHYXNQcmljZUVzdGltYXRpb25Bc3luYygpKS50aGVuUmVzb2x2ZShHQVNfUFJJQ0UpO1xyXG4gICAgICAgIHdoZW4oZmVlU2VydmljZU1vY2suY2FsY3VsYXRlRmVlQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHtcclxuICAgICAgICAgICAgZmVlV2l0aERldGFpbHM6IHtcclxuICAgICAgICAgICAgICAgIHRva2VuOiAnMHhUb2tlbicsXHJcbiAgICAgICAgICAgICAgICBhbW91bnQ6IG5ldyBCaWdOdW1iZXIoMzAwKSxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXHJcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmVlTW9kZWxWZXJzaW9uOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdkZWZhdWx0JyxcclxuICAgICAgICAgICAgICAgICAgICBnYXNGZWVBbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTAwKSxcclxuICAgICAgICAgICAgICAgICAgICBnYXNQcmljZTogR0FTX1BSSUNFLFxyXG4gICAgICAgICAgICAgICAgICAgIHplcm9FeEZlZUFtb3VudDogbmV3IEJpZ051bWJlcigyMDApLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWRlU2l6ZUJwczogNCxcclxuICAgICAgICAgICAgICAgICAgICBmZWVUb2tlbkJhc2VVbml0UHJpY2VVc2Q6IG5ldyBCaWdOdW1iZXIoMzApLFxyXG4gICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW5CYXNlVW5pdFByaWNlVXNkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW5CYXNlVW5pdFByaWNlVXNkOiBuZXcgQmlnTnVtYmVyKDIwKSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBicmVha2Rvd246IHtcclxuICAgICAgICAgICAgICAgICAgICBnYXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhc1ByaWNlOiBHQVNfUFJJQ0UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc3RpbWF0ZWRHYXM6IG5ldyBCaWdOdW1iZXIoMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB6ZXJvRXg6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDIwMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICd2b2x1bWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhZGVTaXplQnBzOiA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY29udmVyc2lvblJhdGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlVG9rZW5CYXNlVW5pdFByaWNlVXNkOiBuZXcgQmlnTnVtYmVyKDMwKSxcclxuICAgICAgICAgICAgICAgICAgICBmZWVUb2tlbkJhc2VVbml0UHJpY2VVc2Q6IG5ldyBCaWdOdW1iZXIoMzApLFxyXG4gICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW5CYXNlVW5pdFByaWNlVXNkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW5CYXNlVW5pdFByaWNlVXNkOiBuZXcgQmlnTnVtYmVyKDIwKSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZmVlU2VydmljZUluc3RhbmNlID0gaW5zdGFuY2UoZmVlU2VydmljZU1vY2spO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIG1vY2sgQ29uZmlnTWFuYWdlclxyXG4gICAgICAgIGNvbnN0IGNvbmZpZ01hbmFnZXJNb2NrID0gbW9jayhDb25maWdNYW5hZ2VyKTtcclxuICAgICAgICB3aGVuKGNvbmZpZ01hbmFnZXJNb2NrLmdldEFkbWluQXBpS2V5KCkpLnRoZW5SZXR1cm4oQURNSU5fQVBJX0tFWSk7XHJcbiAgICAgICAgd2hlbihjb25maWdNYW5hZ2VyTW9jay5nZXRSZnFtQXBpS2V5V2hpdGVsaXN0KCkpLnRoZW5SZXR1cm4obmV3IFNldChbQVBJX0tFWV0pKTtcclxuICAgICAgICB3aGVuKGNvbmZpZ01hbmFnZXJNb2NrLmdldEludGVncmF0b3JJZEZvckFwaUtleShBUElfS0VZKSkudGhlblJldHVybihJTlRFR1JBVE9SX0lEKTtcclxuICAgICAgICB3aGVuKGNvbmZpZ01hbmFnZXJNb2NrLmdldEludGVncmF0b3JCeUlkT3JUaHJvdyhJTlRFR1JBVE9SX0lEKSkudGhlblJldHVybih7XHJcbiAgICAgICAgICAgIGludGVncmF0b3JJZDogSU5URUdSQVRPUl9JRCxcclxuICAgICAgICAgICAgYXBpS2V5czogW0FQSV9LRVldLFxyXG4gICAgICAgICAgICBhbGxvd2VkQ2hhaW5JZHM6IFsxMzM3XSxcclxuICAgICAgICAgICAgbGFiZWw6ICdUZXN0JyxcclxuICAgICAgICAgICAgcmZxbTogdHJ1ZSxcclxuICAgICAgICAgICAgcGxwOiBmYWxzZSxcclxuICAgICAgICAgICAgcmZxdDogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgY29uZmlnTWFuYWdlciA9IGluc3RhbmNlKGNvbmZpZ01hbmFnZXJNb2NrKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIEF4aW9zIGNsaWVudCBhbmQgbW9ja1xyXG4gICAgICAgIGF4aW9zQ2xpZW50ID0gQXhpb3MuY3JlYXRlKCk7XHJcbiAgICAgICAgbW9ja0F4aW9zID0gbmV3IEF4aW9zTW9ja0FkYXB0ZXIoYXhpb3NDbGllbnQpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIG1vY2sgcmZxQmxvY2tjaGFpblV0aWxzXHJcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3BvbnNlOiBbQmlnTnVtYmVyLCBCaWdOdW1iZXJdID0gW25ldyBCaWdOdW1iZXIoMSksIG5ldyBCaWdOdW1iZXIoMSldO1xyXG4gICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsc01vY2sgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XHJcbiAgICAgICAgd2hlbihcclxuICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzTW9jay5nZW5lcmF0ZU1ldGFUcmFuc2FjdGlvbihhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSxcclxuICAgICAgICApLnRoZW5DYWxsKChfcmZxT3JkZXIsIF9zaWduYXR1cmUsIF90YWtlciwgX3Rha2VyQW1vdW50LCBjaGFpbklkKSA9PiBuZXcgTWV0YVRyYW5zYWN0aW9uKHsgY2hhaW5JZCB9KSk7XHJcbiAgICAgICAgd2hlbihyZnFCbG9ja2NoYWluVXRpbHNNb2NrLmdlbmVyYXRlTWV0YVRyYW5zYWN0aW9uQ2FsbERhdGEoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXR1cm4oXHJcbiAgICAgICAgICAgIE1PQ0tfTUVUQV9UWF9DQUxMX0RBVEEsXHJcbiAgICAgICAgKTtcclxuICAgICAgICB3aGVuKFxyXG4gICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHNNb2NrLnZhbGlkYXRlTWV0YVRyYW5zYWN0aW9uT3JUaHJvd0FzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpLFxyXG4gICAgICAgICkudGhlblJlc29sdmUodmFsaWRhdGlvblJlc3BvbnNlKTtcclxuICAgICAgICB3aGVuKHJmcUJsb2NrY2hhaW5VdGlsc01vY2suZ2V0VG9rZW5CYWxhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbbmV3IEJpZ051bWJlcigxKV0pO1xyXG4gICAgICAgIHdoZW4ocmZxQmxvY2tjaGFpblV0aWxzTW9jay5nZXRNaW5PZkJhbGFuY2VzQW5kQWxsb3dhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbbmV3IEJpZ051bWJlcigxKV0pO1xyXG4gICAgICAgIHdoZW4ocmZxQmxvY2tjaGFpblV0aWxzTW9jay5nZXROb25jZUFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSgxKTtcclxuICAgICAgICB3aGVuKHJmcUJsb2NrY2hhaW5VdGlsc01vY2suZXN0aW1hdGVHYXNGb3JBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoR0FTX0VTVElNQVRFKTtcclxuICAgICAgICB3aGVuKHJmcUJsb2NrY2hhaW5VdGlsc01vY2suc2lnblRyYW5zYWN0aW9uQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHtcclxuICAgICAgICAgICAgc2lnbmVkVHJhbnNhY3Rpb246IEZJUlNUX1NJR05FRF9UUkFOU0FDVElPTixcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiBGSVJTVF9UUkFOU0FDVElPTl9IQVNILFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdoZW4ocmZxQmxvY2tjaGFpblV0aWxzTW9jay5zdWJtaXRTaWduZWRUcmFuc2FjdGlvbkFzeW5jKEZJUlNUX1NJR05FRF9UUkFOU0FDVElPTikpLnRoZW5SZXNvbHZlKFxyXG4gICAgICAgICAgICBGSVJTVF9UUkFOU0FDVElPTl9IQVNILFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd2hlbihyZnFCbG9ja2NoYWluVXRpbHNNb2NrLmdldFJlY2VpcHRzQXN5bmMoZGVlcEVxdWFsKFtGSVJTVF9UUkFOU0FDVElPTl9IQVNIXSkpKS50aGVuUmVzb2x2ZShbXHJcbiAgICAgICAgICAgIFNVQ0NFU1NGVUxfVFJBTlNBQ1RJT05fUkVDRUlQVCxcclxuICAgICAgICBdKTtcclxuICAgICAgICB3aGVuKHJmcUJsb2NrY2hhaW5VdGlsc01vY2suZ2V0Q3VycmVudEJsb2NrQXN5bmMoKSkudGhlblJlc29sdmUoQ1VSUkVOVF9CTE9DSyk7XHJcbiAgICAgICAgd2hlbihyZnFCbG9ja2NoYWluVXRpbHNNb2NrLmdldEV4Y2hhbmdlUHJveHlBZGRyZXNzKCkpLnRoZW5SZXR1cm4oTU9DS19FWENIQU5HRV9QUk9YWSk7XHJcbiAgICAgICAgd2hlbihcclxuICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzTW9jay5kZWNvZGVNZXRhVHJhbnNhY3Rpb25DYWxsRGF0YUFuZFZhbGlkYXRlQXN5bmMoYW55U3RyaW5nKCksIGFueVN0cmluZygpLCBhbnl0aGluZygpKSxcclxuICAgICAgICApLnRoZW5SZXNvbHZlKHZhbGlkYXRpb25SZXNwb25zZSk7XHJcbiAgICAgICAgd2hlbihyZnFCbG9ja2NoYWluVXRpbHNNb2NrLmdldERlY29kZWRSZnFPcmRlckZpbGxFdmVudExvZ0Zyb21Mb2dzKGFueXRoaW5nKCkpKS50aGVuUmV0dXJuKFxyXG4gICAgICAgICAgICBURVNUX0RFQ09ERURfUkZRX09SREVSX0ZJTExFRF9FVkVOVF9MT0csXHJcbiAgICAgICAgKTtcclxuICAgICAgICB3aGVuKHJmcUJsb2NrY2hhaW5VdGlsc01vY2suZ2V0QWNjb3VudEJhbGFuY2VBc3luYyhNT0NLX1dPUktFUl9SRUdJU1RSWV9BRERSRVNTKSkudGhlblJlc29sdmUoXHJcbiAgICAgICAgICAgIFdPUktFUl9GVUxMX0JBTEFOQ0VfV0VJLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgcmZxQmxvY2tjaGFpblV0aWxzID0gaW5zdGFuY2UocmZxQmxvY2tjaGFpblV0aWxzTW9jayk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRva2VuTWV0YWRhdGFNYW5hZ2VyTW9jayA9IG1vY2soVG9rZW5NZXRhZGF0YU1hbmFnZXIpO1xyXG4gICAgICAgIHdoZW4odG9rZW5NZXRhZGF0YU1hbmFnZXJNb2NrLmdldFRva2VuRGVjaW1hbHNBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoMTgpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuTWV0YWRhdGFNYW5hZ2VyID0gaW5zdGFuY2UodG9rZW5NZXRhZGF0YU1hbmFnZXJNb2NrKTtcclxuXHJcbiAgICAgICAgaW50ZXJmYWNlIFNxc1Jlc3BvbnNlIHtcclxuICAgICAgICAgICAgSWQ6IHN0cmluZztcclxuICAgICAgICAgICAgTUQ1T2ZNZXNzYWdlQm9keTogc3RyaW5nO1xyXG4gICAgICAgICAgICBNZXNzYWdlSWQ6IHN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3FzUmVzcG9uc2U6IFNxc1Jlc3BvbnNlW10gPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIElkOiAnaWQnLFxyXG4gICAgICAgICAgICAgICAgTUQ1T2ZNZXNzYWdlQm9keTogJ01ENU9mTWVzc2FnZUJvZHknLFxyXG4gICAgICAgICAgICAgICAgTWVzc2FnZUlkOiAnTWVzc2FnZUlkJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGRiVXRpbHNcclxuICAgICAgICBkYXRhU291cmNlID0gYXdhaXQgaW5pdERiRGF0YVNvdXJjZUFzeW5jKCk7XHJcbiAgICAgICAgZGJVdGlscyA9IG5ldyBSZnFtRGJVdGlscyhkYXRhU291cmNlKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBtb2NrIHNxc1Byb2R1Y2VyXHJcbiAgICAgICAgY29uc3Qgc3FzUHJvZHVjZXJNb2NrID0gbW9jayhQcm9kdWNlcik7XHJcbiAgICAgICAgd2hlbihzcXNQcm9kdWNlck1vY2suc2VuZChhbnl0aGluZygpKSkudGhlblJlc29sdmUoc3FzUmVzcG9uc2UpO1xyXG4gICAgICAgIHdoZW4oc3FzUHJvZHVjZXJNb2NrLnF1ZXVlU2l6ZSgpKS50aGVuUmVzb2x2ZSgwKTtcclxuICAgICAgICBjb25zdCBzcXNQcm9kdWNlciA9IGluc3RhbmNlKHNxc1Byb2R1Y2VyTW9jayk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgcXVvdGUgc2VydmVyIGNsaWVudFxyXG4gICAgICAgIGNvbnN0IHF1b3RlU2VydmVyQ2xpZW50ID0gbmV3IFF1b3RlU2VydmVyQ2xpZW50KGF4aW9zQ2xpZW50KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBDYWNoZUNsaWVudFxyXG4gICAgICAgIGNvbnN0IHJlZGlzID0gbmV3IFJlZGlzKCk7XHJcbiAgICAgICAgY2FjaGVDbGllbnQgPSBuZXcgQ2FjaGVDbGllbnQocmVkaXMpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIG1ha2VyIGJhbGFuY2UgY2FjaGUgc2VydmljZVxyXG4gICAgICAgIGNvbnN0IHJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZU1vY2sgPSBtb2NrKFJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSk7XHJcbiAgICAgICAgd2hlbihyZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2VNb2NrLmdldEVSQzIwT3duZXJCYWxhbmNlc0FzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShcclxuICAgICAgICAgICAgW25ldyBCaWdOdW1iZXIoMjAwMDAwMDAwMDAwMDAwMDAwKV0sXHJcbiAgICAgICAgICAgIFtuZXcgQmlnTnVtYmVyKDIwMDAwMDAwMDAwMDAwMDAwMCksIG5ldyBCaWdOdW1iZXIoMjAwMDAwMDAwMDAwMDAwMDAwKV0sXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCByZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UgPSBpbnN0YW5jZShyZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2VNb2NrKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBtb2NrIFJmcU1ha2VyTWFuYWdlclxyXG4gICAgICAgIGNvbnN0IHJmcU1ha2VyTWFuYWdlck1vY2sgPSBtb2NrKFJmcU1ha2VyTWFuYWdlcik7XHJcbiAgICAgICAgd2hlbihcclxuICAgICAgICAgICAgcmZxTWFrZXJNYW5hZ2VyTW9jay5nZXRSZnFtVjJNYWtlclVyaXNGb3JQYWlyKGFueVN0cmluZygpLCBhbnlTdHJpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSksXHJcbiAgICAgICAgKS50aGVuUmV0dXJuKFtNQVJLRVRfTUFLRVJfMiwgTUFSS0VUX01BS0VSXzNdKTtcclxuICAgICAgICB3aGVuKHJmcU1ha2VyTWFuYWdlck1vY2suZ2V0UmZxbVYyTWFrZXJPZmZlcmluZ3MoKSkudGhlblJldHVybih7XHJcbiAgICAgICAgICAgICdodHRwczovL21vY2stcmZxbTEuY2x1Yic6IFtcclxuICAgICAgICAgICAgICAgIFsnMHg4NzFkZDdjMmI0YjI1ZTFhYTE4NzI4ZTlkNWYyYWY0YzRlNDMxZjVjJywgJzB4MGIxYmEwYWY4MzJkN2MwNWZkNjQxNjFlMGRiNzhlODU5NzhlODA4MiddLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHJmcU1ha2VyTWFuYWdlciA9IGluc3RhbmNlKHJmcU1ha2VyTWFuYWdlck1vY2spO1xyXG4gICAgICAgIHJmcW1TZXJ2aWNlQ2hhaW5JZDEzMzcgPSBuZXcgUmZxbVNlcnZpY2UoXHJcbiAgICAgICAgICAgIDEzMzcsXHJcbiAgICAgICAgICAgIGZlZVNlcnZpY2VJbnN0YW5jZSxcclxuICAgICAgICAgICAgLyogZmVlTW9kZWxWZXJzaW9uICovIDAsXHJcbiAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzc2VzLFxyXG4gICAgICAgICAgICBNT0NLX1dPUktFUl9SRUdJU1RSWV9BRERSRVNTLFxyXG4gICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHMsXHJcbiAgICAgICAgICAgIGRiVXRpbHMsXHJcbiAgICAgICAgICAgIHNxc1Byb2R1Y2VyLFxyXG4gICAgICAgICAgICBxdW90ZVNlcnZlckNsaWVudCxcclxuICAgICAgICAgICAgREVGQVVMVF9NSU5fRVhQSVJZX0RVUkFUSU9OX01TLFxyXG4gICAgICAgICAgICBjYWNoZUNsaWVudCxcclxuICAgICAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlLFxyXG4gICAgICAgICAgICByZnFNYWtlck1hbmFnZXIsXHJcbiAgICAgICAgICAgIHRva2VuTWV0YWRhdGFNYW5hZ2VyLFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhbm90aGVyIFJGUU0gU2VydmljZSBmb3IgY2hhaW4gSUQgMyB0aGF0IHJldHVybnMgMCBvZmZlcmluZ1xyXG4gICAgICAgIGNvbnN0IHJmcU1ha2VyTWFuYWdlckNoYWluM01vY2sgPSBtb2NrKFJmcU1ha2VyTWFuYWdlcik7XHJcbiAgICAgICAgd2hlbihyZnFNYWtlck1hbmFnZXJDaGFpbjNNb2NrLmdldFJmcW1WMk1ha2VyT2ZmZXJpbmdzKCkpLnRoZW5SZXR1cm4oe1xyXG4gICAgICAgICAgICAnaHR0cHM6Ly9tb2NrLXJmcW0xLmNsdWInOiBbXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCByZnFNYWtlck1hbmFnZXJDaGFpbklkMyA9IGluc3RhbmNlKHJmcU1ha2VyTWFuYWdlckNoYWluM01vY2spO1xyXG4gICAgICAgIHJmcW1TZXJ2aWNlQ2hhaW5JZDMgPSBuZXcgUmZxbVNlcnZpY2UoXHJcbiAgICAgICAgICAgIDMsXHJcbiAgICAgICAgICAgIGZlZVNlcnZpY2VJbnN0YW5jZSxcclxuICAgICAgICAgICAgLyogZmVlTW9kZWxWZXJzaW9uICovIDAsXHJcbiAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzc2VzLFxyXG4gICAgICAgICAgICBNT0NLX1dPUktFUl9SRUdJU1RSWV9BRERSRVNTLFxyXG4gICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHMsXHJcbiAgICAgICAgICAgIGRiVXRpbHMsXHJcbiAgICAgICAgICAgIHNxc1Byb2R1Y2VyLFxyXG4gICAgICAgICAgICBxdW90ZVNlcnZlckNsaWVudCxcclxuICAgICAgICAgICAgREVGQVVMVF9NSU5fRVhQSVJZX0RVUkFUSU9OX01TLFxyXG4gICAgICAgICAgICBjYWNoZUNsaWVudCxcclxuICAgICAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlLFxyXG4gICAgICAgICAgICByZnFNYWtlck1hbmFnZXJDaGFpbklkMyxcclxuICAgICAgICAgICAgdG9rZW5NZXRhZGF0YU1hbmFnZXIsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmZxQWRtaW5TZXJ2aWNlID0gYnVpbGRSZnFBZG1pblNlcnZpY2UoZGJVdGlscyk7XHJcbiAgICAgICAgY29uc3QgcmZxTWFrZXJTZXJ2aWNlID0gYnVpbGRSZnFNYWtlclNlcnZpY2UobmV3IFJmcU1ha2VyRGJVdGlscyhkYXRhU291cmNlKSwgY29uZmlnTWFuYWdlcik7XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBzZXJ2ZXJcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBydW5IdHRwUmZxbVNlcnZpY2VBc3luYyhcclxuICAgICAgICAgICAgbmV3IE1hcChbXHJcbiAgICAgICAgICAgICAgICBbMTMzNywgcmZxbVNlcnZpY2VDaGFpbklkMTMzN10sXHJcbiAgICAgICAgICAgICAgICBbMywgcmZxbVNlcnZpY2VDaGFpbklkM10sXHJcbiAgICAgICAgICAgIF0pLFxyXG4gICAgICAgICAgICBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgIHJmcUFkbWluU2VydmljZSxcclxuICAgICAgICAgICAgcmZxTWFrZXJTZXJ2aWNlLFxyXG4gICAgICAgICAgICBjb25maWdNYW5hZ2VyLFxyXG4gICAgICAgICAgICBjb25maWcuZGVmYXVsdEh0dHBTZXJ2aWNlQ29uZmlnLFxyXG4gICAgICAgICAgICBkYXRhU291cmNlLFxyXG4gICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICApO1xyXG4gICAgICAgIGFwcCA9IHJlcy5hcHA7XHJcbiAgICAgICAgc2VydmVyID0gcmVzLnNlcnZlcjtcclxuICAgIH0pO1xyXG5cclxuICAgIGFmdGVyRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgYXdhaXQgZGF0YVNvdXJjZS5xdWVyeSgnVFJVTkNBVEUgVEFCTEUgcmZxbV9xdW90ZXMgQ0FTQ0FERTsnKTtcclxuICAgICAgICBhd2FpdCBkYXRhU291cmNlLnF1ZXJ5KCdUUlVOQ0FURSBUQUJMRSByZnFtX2pvYnMgQ0FTQ0FERTsnKTtcclxuICAgICAgICBhd2FpdCBkYXRhU291cmNlLnF1ZXJ5KCdUUlVOQ0FURSBUQUJMRSByZnFtX3RyYW5zYWN0aW9uX3N1Ym1pc3Npb25zIENBU0NBREU7Jyk7XHJcbiAgICAgICAgYXdhaXQgZGF0YVNvdXJjZS5xdWVyeSgnVFJVTkNBVEUgVEFCTEUgcmZxbV92Ml9xdW90ZXMgQ0FTQ0FERTsnKTtcclxuICAgICAgICBhd2FpdCBkYXRhU291cmNlLnF1ZXJ5KCdUUlVOQ0FURSBUQUJMRSByZnFtX3YyX2pvYnMgQ0FTQ0FERTsnKTtcclxuICAgICAgICBhd2FpdCBkYXRhU291cmNlLnF1ZXJ5KCdUUlVOQ0FURSBUQUJMRSByZnFtX3YyX3RyYW5zYWN0aW9uX3N1Ym1pc3Npb25zIENBU0NBREU7Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZnRlckFsbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBzZXJ2ZXIuY2xvc2UoKGVycj86IEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGF3YWl0IGNhY2hlQ2xpZW50LmNsb3NlQXN5bmMoKTtcclxuICAgICAgICBpZiAoIXRlYXJkb3duRGVwZW5kZW5jaWVzKCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdGVhciBkb3duIGRlcGVuZGVuY2llcycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdyZnFtL3YxL2hlYWx0aHonLCAoKSA9PiB7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSAyMDAgT0sgd2l0aCBhY3RpdmUgcGFpcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGAke1JGUU1fUEFUSH0vaGVhbHRoemApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1jaGFpbi1pZCcsICcxMzM3JylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5PSylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnBhaXJzWzBdWzBdKS50by5lcXVhbCgnMHgwYjFiYTBhZjgzMmQ3YzA1ZmQ2NDE2MWUwZGI3OGU4NTk3OGU4MDgyJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnBhaXJzWzBdWzFdKS50by5lcXVhbCgnMHg4NzFkZDdjMmI0YjI1ZTFhYTE4NzI4ZTlkNWYyYWY0YzRlNDMxZjVjJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgdGVzdCBpcyB0byBjb3ZlciB0aGlzIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vMHhQcm9qZWN0LzB4LXJmcS1hcGkvcHVsbC8yMDBcclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBjb3JyZWN0IHZhbHVlcyBmb3IgZGlmZmVyZW50IGNoYWlucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2hhaW5JZDNIZWFsdGh6UmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5nZXQoYCR7UkZRTV9QQVRIfS9oZWFsdGh6YClcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzMnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLk9LKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby11bnVzZWQtZXhwcmVzc2lvblxyXG4gICAgICAgICAgICBleHBlY3QoY2hhaW5JZDNIZWFsdGh6UmVzcG9uc2UuYm9keS5wYWlycykudG8uYmUuYW4oJ2FycmF5JykudGhhdC5pcy5lbXB0eTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNoYWluSWQxMzM3SGVhbHRoelJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGAke1JGUU1fUEFUSH0vaGVhbHRoemApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1jaGFpbi1pZCcsICcxMzM3JylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5PSylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChjaGFpbklkMTMzN0hlYWx0aHpSZXNwb25zZS5ib2R5LnBhaXJzWzBdWzBdKS50by5lcXVhbCgnMHgwYjFiYTBhZjgzMmQ3YzA1ZmQ2NDE2MWUwZGI3OGU4NTk3OGU4MDgyJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChjaGFpbklkMTMzN0hlYWx0aHpSZXNwb25zZS5ib2R5LnBhaXJzWzBdWzFdKS50by5lcXVhbCgnMHg4NzFkZDdjMmI0YjI1ZTFhYTE4NzI4ZTlkNWYyYWY0YzRlNDMxZjVjJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgncmZxbS92MS9wcmljZScsICgpID0+IHtcclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhIDIwMCBPSyB3aXRoIGFuIGluZGljYXRpdmUgcXVvdGUgZm9yIGJ1eXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1eUFtb3VudCA9IDIwMDAwMDAwMDAwMDAwMDAwMDtcclxuICAgICAgICAgICAgY29uc3Qgd2lubmluZ1F1b3RlID0gMTAwMDAwMDAwMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBjb25zdCBsb3NpbmdRdW90ZSA9IDE1MDAwMDAwMDAwMDAwMDAwMDtcclxuICAgICAgICAgICAgY29uc3QgemVyb0V4QXBpUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XHJcbiAgICAgICAgICAgICAgICBidXlUb2tlbjogJ1pSWCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsVG9rZW46ICdXRVRIJyxcclxuICAgICAgICAgICAgICAgIGJ1eUFtb3VudDogYnV5QW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnRlbnRPbkZpbGxpbmc6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbjogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VSZXNwb25zZSA9IHtcclxuICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiBidXlBbW91bnQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46IGNvbnRyYWN0QWRkcmVzc2VzLnpyeFRva2VuLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogY29udHJhY3RBZGRyZXNzZXMuZXRoZXJUb2tlbixcclxuICAgICAgICAgICAgICAgIGV4cGlyeTogJzE5MDM2MjA1NDgnLCAvLyBpbiB0aGUgeWVhciAyMDMwXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBtb2NrQXhpb3Mub25HZXQoYCR7TUFSS0VUX01BS0VSXzJ9L3JmcW0vdjIvcHJpY2VgKS5yZXBseU9uY2UoSHR0cFN0YXR1cy5PSywge1xyXG4gICAgICAgICAgICAgICAgLi4uYmFzZVJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6IHdpbm5pbmdRdW90ZS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbWFrZXI6IE1BUktFVF9NQUtFUl8yX0FERFIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBtb2NrQXhpb3Mub25HZXQoYCR7TUFSS0VUX01BS0VSXzN9L3JmcW0vdjIvcHJpY2VgKS5yZXBseU9uY2UoSHR0cFN0YXR1cy5PSywge1xyXG4gICAgICAgICAgICAgICAgLi4uYmFzZVJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6IGxvc2luZ1F1b3RlLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICBtYWtlcjogTUFSS0VUX01BS0VSXzNfQUREUixcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhcHBSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLmdldChgJHtSRlFNX1BBVEh9L3ByaWNlPyR7emVyb0V4QXBpUGFyYW1zLnRvU3RyaW5nKCl9YClcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWFwaS1rZXknLCBBUElfS0VZKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtY2hhaW4taWQnLCAnMTMzNycpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KEh0dHBTdGF0dXMuT0spXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvanNvbi8pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRQcmljZSA9ICcwLjUnO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5saXF1aWRpdHlBdmFpbGFibGUpLnRvLmVxdWFsKHRydWUpO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5wcmljZSkudG8uZXF1YWwoZXhwZWN0ZWRQcmljZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgMjAwIE9LIHdpdGggYW4gaW5kaWNhdGl2ZSBxdW90ZSBmb3Igc2VsbHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpbm5pbmdRdW90ZSA9IDIwMDAwMDAwMDAwMDAwMDAwMDtcclxuICAgICAgICAgICAgY29uc3QgbG9zaW5nUXVvdGUgPSAxNTAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHplcm9FeEFwaVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnV0VUSCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnRlbnRPbkZpbGxpbmc6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbjogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VSZXNwb25zZSA9IHtcclxuICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICBtYWtlclRva2VuOiBjb250cmFjdEFkZHJlc3Nlcy56cnhUb2tlbixcclxuICAgICAgICAgICAgICAgIHRha2VyVG9rZW46IGNvbnRyYWN0QWRkcmVzc2VzLmV0aGVyVG9rZW4sXHJcbiAgICAgICAgICAgICAgICBleHBpcnk6ICcxOTAzNjIwNTQ4JywgLy8gaW4gdGhlIHllYXIgMjAzMFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgbW9ja0F4aW9zLm9uR2V0KGAke01BUktFVF9NQUtFUl8yfS9yZnFtL3YyL3ByaWNlYCkucmVwbHlPbmNlKEh0dHBTdGF0dXMuT0ssIHtcclxuICAgICAgICAgICAgICAgIC4uLmJhc2VSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiB3aW5uaW5nUXVvdGUudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIG1ha2VyOiBNQVJLRVRfTUFLRVJfMl9BRERSLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbW9ja0F4aW9zLm9uR2V0KGAke01BUktFVF9NQUtFUl8zfS9yZnFtL3YyL3ByaWNlYCkucmVwbHlPbmNlKEh0dHBTdGF0dXMuT0ssIHtcclxuICAgICAgICAgICAgICAgIC4uLmJhc2VSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiBsb3NpbmdRdW90ZS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbWFrZXI6IE1BUktFVF9NQUtFUl8zX0FERFIsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYXBwUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5nZXQoYCR7UkZRTV9QQVRIfS9wcmljZT8ke3plcm9FeEFwaVBhcmFtcy50b1N0cmluZygpfWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEzMzcnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLk9LKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkUHJpY2UgPSAnMic7XHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LmxpcXVpZGl0eUF2YWlsYWJsZSkudG8uZXF1YWwodHJ1ZSk7XHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnByaWNlKS50by5lcXVhbChleHBlY3RlZFByaWNlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSAyMDAgT0ssIGxpcXVpZGl0eUF2YWlsYWJsZSA9PT0gZmFsc2UgaWYgbm8gdmFsaWQgcXVvdGVzIGZvdW5kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxsQW1vdW50ID0gMTAwMDAwMDAwMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBjb25zdCBxdW90ZWRBbW91bnQgPSAyMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnV0VUSCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnRlbnRPbkZpbGxpbmc6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbjogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG1vY2tBeGlvcy5vbkdldChgJHtNQVJLRVRfTUFLRVJfMn0vcmZxbS92Mi9wcmljZWApLnJlcGx5T25jZShIdHRwU3RhdHVzLk9LLCB7XHJcbiAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogcXVvdGVkQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogc2VsbEFtb3VudC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogY29udHJhY3RBZGRyZXNzZXMuenJ4VG9rZW4sXHJcbiAgICAgICAgICAgICAgICB0YWtlclRva2VuOiBjb250cmFjdEFkZHJlc3Nlcy5ldGhlclRva2VuLFxyXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiAnMCcsIC8vIGFscmVhZHkgZXhwaXJlZFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGAke1JGUU1fUEFUSH0vcHJpY2U/JHtwYXJhbXMudG9TdHJpbmcoKX1gKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtYXBpLWtleScsIEFQSV9LRVkpXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1jaGFpbi1pZCcsICcxMzM3JylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5PSylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5saXF1aWRpdHlBdmFpbGFibGUpLnRvLmVxdWFsKGZhbHNlKTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkucHJpY2UpLnRvLmVxdWFsKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgNDAwIEJBRCBSRVFVRVNUIGlmIEFQSSBLZXkgaXMgbm90IHBlcm1pdHRlZCBhY2Nlc3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnV0VUSCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnRlbnRPbkZpbGxpbmc6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbjogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgYXBwUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5nZXQoYCR7UkZRTV9QQVRIfS9wcmljZT8ke3BhcmFtcy50b1N0cmluZygpfWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgJ3Vua25vd24ta2V5JylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5CQURfUkVRVUVTVClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5yZWFzb24pLnRvLmVxdWFsKCdJbnZhbGlkIEFQSSBrZXknKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSA0MDAgQkFEIFJFUVVFU1QgaWYgQVBJIEtleSBkb2VzIG5vdCBoYXZlIGFjY2VzcyB0byB0aGUgY2hhaW4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnV0VUSCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnRlbnRPbkZpbGxpbmc6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbjogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgYXBwUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5nZXQoYCR7UkZRTV9QQVRIfS9wcmljZT8ke3BhcmFtcy50b1N0cmluZygpfWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnJlYXNvbikudG8uZXF1YWwoJ0ludmFsaWQgQVBJIGtleScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhIDQwMCBCQUQgUkVRVUVTVCBWYWxpZGF0aW9uIEVycm9yIGlmIENoYWluIElkIGNhbm5vdCBiZSBwYXJzZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnV0VUSCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnRlbnRPbkZpbGxpbmc6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbjogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGAke1JGUU1fUEFUSH0vcHJpY2U/JHtwYXJhbXMudG9TdHJpbmcoKX1gKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtYXBpLWtleScsIEFQSV9LRVkpXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1jaGFpbi1pZCcsICdpbnZhbGlkLWlkJylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5CQURfUkVRVUVTVClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5yZWFzb24pLnRvLmVxdWFsKCdWYWxpZGF0aW9uIEZhaWxlZCcpO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS52YWxpZGF0aW9uRXJyb3JzWzBdLnJlYXNvbikudG8uZXF1YWwoJ0ludmFsaWQgY2hhaW4gaWQnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSA0MDAgQkFEIFJFUVVFU1QgVmFsaWRhdGlvbiBFcnJvciBpZiBzZW5kaW5nIEVUSCwgbm90IFdFVEgnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnRVRIJyxcclxuICAgICAgICAgICAgICAgIHNlbGxBbW91bnQ6IHNlbGxBbW91bnQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzcyxcclxuICAgICAgICAgICAgICAgIGludGVudE9uRmlsbGluZzogJ2ZhbHNlJyxcclxuICAgICAgICAgICAgICAgIHNraXBWYWxpZGF0aW9uOiAndHJ1ZScsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYXBwUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5nZXQoYCR7UkZRTV9QQVRIfS9wcmljZT8ke3BhcmFtcy50b1N0cmluZygpfWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEzMzcnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnJlYXNvbikudG8uZXF1YWwoJ1ZhbGlkYXRpb24gRmFpbGVkJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnZhbGlkYXRpb25FcnJvcnNbMF0ucmVhc29uKS50by5lcXVhbChcclxuICAgICAgICAgICAgICAgICdVbndyYXBwZWQgTmF0aXZlIEFzc2V0IGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBXRVRIIGluc3RlYWQnLFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhIDQwMCBCQUQgUkVRVUVTVCBpZiBidXlUb2tlbiBpcyBtaXNzaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxsQW1vdW50ID0gMTAwMDAwMDAwMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcclxuICAgICAgICAgICAgICAgIHNlbGxUb2tlbjogJ1dFVEgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbEFtb3VudDogc2VsbEFtb3VudC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgYXBwUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5nZXQoYCR7UkZRTV9QQVRIfS9wcmljZT8ke3BhcmFtcy50b1N0cmluZygpfWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5CQURfUkVRVUVTVClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5yZWFzb24pLnRvLmVxdWFsKCdWYWxpZGF0aW9uIEZhaWxlZCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhIDQwMCBCQUQgUkVRVUVTVCBpZiBzZWxsVG9rZW4gaXMgbWlzc2luZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsbEFtb3VudCA9IDEwMDAwMDAwMDAwMDAwMDAwMDtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XHJcbiAgICAgICAgICAgICAgICBidXlUb2tlbjogJ1pSWCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBhcHBSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLmdldChgJHtSRlFNX1BBVEh9L3ByaWNlPyR7cGFyYW1zLnRvU3RyaW5nKCl9YClcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWFwaS1rZXknLCBBUElfS0VZKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnJlYXNvbikudG8uZXF1YWwoJ1ZhbGlkYXRpb24gRmFpbGVkJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgNDAwIEJBRCBSRVFVRVNUIGlmIGJvdGggc2VsbEFtb3VudCBhbmQgYnV5QW1vdW50IGFyZSBtaXNzaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcclxuICAgICAgICAgICAgICAgIGJ1eVRva2VuOiAnWlJYJyxcclxuICAgICAgICAgICAgICAgIHNlbGxUb2tlbjogJ1dFVEgnLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgYXBwUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5nZXQoYCR7UkZRTV9QQVRIfS9wcmljZT8ke3BhcmFtcy50b1N0cmluZygpfWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5CQURfUkVRVUVTVClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5yZWFzb24pLnRvLmVxdWFsKCdWYWxpZGF0aW9uIEZhaWxlZCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhIDQwMCBCQUQgUkVRVUVTVCBFcnJvciBpZiB0cmFkaW5nIGFuIHVua25vd24gdG9rZW4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IFVOS05PV05fVE9LRU4gPSAnUkFDQ09PTlNfRk9SRVZFUic7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiBVTktOT1dOX1RPS0VOLFxyXG4gICAgICAgICAgICAgICAgc2VsbEFtb3VudDogc2VsbEFtb3VudC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgaW50ZW50T25GaWxsaW5nOiAnZmFsc2UnLFxyXG4gICAgICAgICAgICAgICAgc2tpcFZhbGlkYXRpb246ICd0cnVlJyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhcHBSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLmdldChgJHtSRlFNX1BBVEh9L3ByaWNlPyR7cGFyYW1zLnRvU3RyaW5nKCl9YClcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWFwaS1rZXknLCBBUElfS0VZKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtY2hhaW4taWQnLCAnMTMzNycpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KEh0dHBTdGF0dXMuQkFEX1JFUVVFU1QpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvanNvbi8pO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkucmVhc29uKS50by5lcXVhbCgnVmFsaWRhdGlvbiBGYWlsZWQnKTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkudmFsaWRhdGlvbkVycm9yc1swXS5yZWFzb24pLnRvLmVxdWFsKFxyXG4gICAgICAgICAgICAgICAgYFRva2VuICR7VU5LTk9XTl9UT0tFTn0gaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkYCxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdyZnFtL3YxL3F1b3RlJywgKCkgPT4ge1xyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgMjAwIE9LLCBsaXF1aWRpdHlBdmFpbGFibGUgPT09IGZhbHNlIGlmIG5vIHZhbGlkIGZpcm0gcXVvdGVzIGZvdW5kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxsQW1vdW50ID0gMTAwMDAwMDAwMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBjb25zdCBpbnN1ZmZpY2llbnRTZWxsQW1vdW50ID0gMTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnV0VUSCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnRlbnRPbkZpbGxpbmc6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbjogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VSZXNwb25zZSA9IHtcclxuICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46IGNvbnRyYWN0QWRkcmVzc2VzLnpyeFRva2VuLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogY29udHJhY3RBZGRyZXNzZXMuZXRoZXJUb2tlbixcclxuICAgICAgICAgICAgICAgIGV4cGlyeTogJzE5MDM2MjA1NDgnLCAvLyBpbiB0aGUgeWVhciAyMDMwXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBtb2NrQXhpb3Mub25HZXQoYCR7TUFSS0VUX01BS0VSXzJ9L3JmcW0vdjIvcHJpY2VgKS5yZXBseU9uY2UoSHR0cFN0YXR1cy5PSywge1xyXG4gICAgICAgICAgICAgICAgLi4uYmFzZVJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6IGluc3VmZmljaWVudFNlbGxBbW91bnQsXHJcbiAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogaW5zdWZmaWNpZW50U2VsbEFtb3VudCxcclxuICAgICAgICAgICAgICAgIG1ha2VyOiBNQVJLRVRfTUFLRVJfMl9BRERSLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGAke1JGUU1fUEFUSH0vcXVvdGU/JHtwYXJhbXMudG9TdHJpbmcoKX1gKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtYXBpLWtleScsIEFQSV9LRVkpXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1jaGFpbi1pZCcsICcxMzM3JylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5PSylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5saXF1aWRpdHlBdmFpbGFibGUpLnRvLmVxdWFsKGZhbHNlKTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkucHJpY2UpLnRvLmVxdWFsKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgMjAwIE9LIHdpdGggYSBmaXJtIHF1b3RlIGZvciBidXlzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBidXlBbW91bnQgPSAyMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpbm5pbmdRdW90ZSA9IDEwMDAwMDAwMDAwMDAwMDAwMDtcclxuICAgICAgICAgICAgY29uc3QgbG9zaW5nUXVvdGUgPSAxNTAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHplcm9FeEFwaVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnV0VUSCcsXHJcbiAgICAgICAgICAgICAgICBidXlBbW91bnQ6IGJ1eUFtb3VudC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgaW50ZW50T25GaWxsaW5nOiAndHJ1ZScsXHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbjogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLFxyXG4gICAgICAgICAgICAgICAgJzB4LWFwaS1rZXknOiBJTlRFR1JBVE9SX0lELFxyXG4gICAgICAgICAgICAgICAgJzB4LWludGVncmF0b3ItaWQnOiBJTlRFR1JBVE9SX0lELFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYmFzZVJlc3BvbnNlID0ge1xyXG4gICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6IGJ1eUFtb3VudC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogY29udHJhY3RBZGRyZXNzZXMuenJ4VG9rZW4sXHJcbiAgICAgICAgICAgICAgICB0YWtlclRva2VuOiBjb250cmFjdEFkZHJlc3Nlcy5ldGhlclRva2VuLFxyXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiAnMTkwMzYyMDU0OCcsIC8vIGluIHRoZSB5ZWFyIDIwMzBcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIG1vY2tBeGlvcy5vbkdldChgJHtNQVJLRVRfTUFLRVJfMn0vcmZxbS92Mi9wcmljZWAsIHsgaGVhZGVycyB9KS5yZXBseU9uY2UoSHR0cFN0YXR1cy5PSywge1xyXG4gICAgICAgICAgICAgICAgLi4uYmFzZVJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6IHdpbm5pbmdRdW90ZS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbWFrZXI6IE1BUktFVF9NQUtFUl8yX0FERFIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBtb2NrQXhpb3Mub25HZXQoYCR7TUFSS0VUX01BS0VSXzN9L3JmcW0vdjIvcHJpY2VgLCB7IGhlYWRlcnMgfSkucmVwbHlPbmNlKEh0dHBTdGF0dXMuT0ssIHtcclxuICAgICAgICAgICAgICAgIC4uLmJhc2VSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiBsb3NpbmdRdW90ZS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbWFrZXI6IE1BUktFVF9NQUtFUl8zX0FERFIsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYXBwUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5nZXQoYCR7UkZRTV9QQVRIfS9xdW90ZT8ke3plcm9FeEFwaVBhcmFtcy50b1N0cmluZygpfWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEzMzcnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLk9LKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkUHJpY2UgPSAnMC41JztcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkucHJpY2UpLnRvLmVxdWFsKGV4cGVjdGVkUHJpY2UpO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS50eXBlKS50by5lcXVhbChHYXNsZXNzVHlwZXMuT3RjT3JkZXIpO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5vcmRlckhhc2gpLnRvLm1hdGNoKC9eMHhbMC05YS1mQS1GXSsvKTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkub3JkZXIubWFrZXIpLnRvLmVxdWFsKE1BUktFVF9NQUtFUl8yX0FERFIpO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5hcHByb3ZhbCkudG8uZXF1YWwodW5kZWZpbmVkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSAyMDAgT0sgd2l0aCBhIGZpcm0gcXVvdGUgd2hlbiBPdGNPcmRlciBwcmljaW5nIGlzIGF2YWlsYWJsZSBmb3Igc2VsbHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpbm5pbmdRdW90ZSA9IDIwMDAwMDAwMDAwMDAwMDAwMDtcclxuICAgICAgICAgICAgY29uc3QgbG9zaW5nUXVvdGUgPSAxNTAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHplcm9FeEFwaVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnV0VUSCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnRlbnRPbkZpbGxpbmc6ICd0cnVlJyxcclxuICAgICAgICAgICAgICAgIHNraXBWYWxpZGF0aW9uOiAndHJ1ZScsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHtcclxuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXHJcbiAgICAgICAgICAgICAgICAnMHgtYXBpLWtleSc6IElOVEVHUkFUT1JfSUQsXHJcbiAgICAgICAgICAgICAgICAnMHgtaW50ZWdyYXRvci1pZCc6IElOVEVHUkFUT1JfSUQsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBiYXNlUmVzcG9uc2UgPSB7XHJcbiAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogc2VsbEFtb3VudC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogY29udHJhY3RBZGRyZXNzZXMuenJ4VG9rZW4sXHJcbiAgICAgICAgICAgICAgICB0YWtlclRva2VuOiBjb250cmFjdEFkZHJlc3Nlcy5ldGhlclRva2VuLFxyXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiAnMTkwMzYyMDU0OCcsIC8vIGluIHRoZSB5ZWFyIDIwMzBcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIG1vY2tBeGlvcy5vbkdldChgJHtNQVJLRVRfTUFLRVJfMn0vcmZxbS92Mi9wcmljZWAsIHsgaGVhZGVycyB9KS5yZXBseU9uY2UoSHR0cFN0YXR1cy5PSywge1xyXG4gICAgICAgICAgICAgICAgLi4uYmFzZVJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6IHdpbm5pbmdRdW90ZS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbWFrZXI6IE1BUktFVF9NQUtFUl8yX0FERFIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBtb2NrQXhpb3Mub25HZXQoYCR7TUFSS0VUX01BS0VSXzN9L3JmcW0vdjIvcHJpY2VgLCB7IGhlYWRlcnMgfSkucmVwbHlPbmNlKEh0dHBTdGF0dXMuT0ssIHtcclxuICAgICAgICAgICAgICAgIC4uLmJhc2VSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiBsb3NpbmdRdW90ZS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbWFrZXI6IE1BUktFVF9NQUtFUl8zX0FERFIsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYXBwUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5nZXQoYCR7UkZRTV9QQVRIfS9xdW90ZT8ke3plcm9FeEFwaVBhcmFtcy50b1N0cmluZygpfWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEzMzcnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLk9LKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkUHJpY2UgPSAnMic7XHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnByaWNlKS50by5lcXVhbChleHBlY3RlZFByaWNlKTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkudHlwZSkudG8uZXF1YWwoR2FzbGVzc1R5cGVzLk90Y09yZGVyKTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkub3JkZXJIYXNoKS50by5tYXRjaCgvXjB4WzAtOWEtZkEtRl0rLyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5Lm9yZGVyLm1ha2VyKS50by5lcXVhbChNQVJLRVRfTUFLRVJfMl9BRERSKTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkuYXBwcm92YWwpLnRvLmVxdWFsKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgMjAwIE9LIHdpdGggYSBmaXJtIHF1b3RlIHdoZW4gT3RjT3JkZXIgcHJpY2luZyBpcyBhdmFpbGFibGUgZm9yIHNlbGxzIGFuZCBjaGVja0FwcHJvdmFsIGlzIHRydWUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHdoZW4ocmZxQmxvY2tjaGFpblV0aWxzTW9jay5nZXRBbGxvd2FuY2VBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoXHJcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDApLFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB3aGVuKHJmcUJsb2NrY2hhaW5VdGlsc01vY2suZ2V0R2FzbGVzc0FwcHJvdmFsQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFxyXG4gICAgICAgICAgICAgICAgTU9DS19FWEVDVVRFX01FVEFfVFJBTlNBQ1RJT05fQVBQUk9WQUwsXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzZWxsQW1vdW50ID0gMTAwMDAwMDAwMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBjb25zdCB3aW5uaW5nUXVvdGUgPSAyMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvc2luZ1F1b3RlID0gMTUwMDAwMDAwMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBjb25zdCB6ZXJvRXhBcGlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcclxuICAgICAgICAgICAgICAgIGJ1eVRva2VuOiAnWlJYJyxcclxuICAgICAgICAgICAgICAgIHNlbGxUb2tlbjogJ1dFVEgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbEFtb3VudDogc2VsbEFtb3VudC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgY2hlY2tBcHByb3ZhbDogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLFxyXG4gICAgICAgICAgICAgICAgJzB4LWFwaS1rZXknOiBJTlRFR1JBVE9SX0lELFxyXG4gICAgICAgICAgICAgICAgJzB4LWludGVncmF0b3ItaWQnOiBJTlRFR1JBVE9SX0lELFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYmFzZVJlc3BvbnNlID0ge1xyXG4gICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6IHNlbGxBbW91bnQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46IGNvbnRyYWN0QWRkcmVzc2VzLnpyeFRva2VuLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogY29udHJhY3RBZGRyZXNzZXMuZXRoZXJUb2tlbixcclxuICAgICAgICAgICAgICAgIGV4cGlyeTogJzE5MDM2MjA1NDgnLCAvLyBpbiB0aGUgeWVhciAyMDMwXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBtb2NrQXhpb3Mub25HZXQoYCR7TUFSS0VUX01BS0VSXzJ9L3JmcW0vdjIvcHJpY2VgLCB7IGhlYWRlcnMgfSkucmVwbHlPbmNlKEh0dHBTdGF0dXMuT0ssIHtcclxuICAgICAgICAgICAgICAgIC4uLmJhc2VSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiB3aW5uaW5nUXVvdGUudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIG1ha2VyOiBNQVJLRVRfTUFLRVJfMl9BRERSLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbW9ja0F4aW9zLm9uR2V0KGAke01BUktFVF9NQUtFUl8zfS9yZnFtL3YyL3ByaWNlYCwgeyBoZWFkZXJzIH0pLnJlcGx5T25jZShIdHRwU3RhdHVzLk9LLCB7XHJcbiAgICAgICAgICAgICAgICAuLi5iYXNlUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogbG9zaW5nUXVvdGUudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIG1ha2VyOiBNQVJLRVRfTUFLRVJfM19BRERSLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGAke1JGUU1fUEFUSH0vcXVvdGU/JHt6ZXJvRXhBcGlQYXJhbXMudG9TdHJpbmcoKX1gKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtYXBpLWtleScsIEFQSV9LRVkpXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1jaGFpbi1pZCcsICcxMzM3JylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5PSylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFByaWNlID0gJzInO1xyXG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZEFwcHJvdmFsID0ge1xyXG4gICAgICAgICAgICAgICAgaXNSZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzR2FzbGVzc0F2YWlsYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0FQUFJPVkFMLmtpbmQsXHJcbiAgICAgICAgICAgICAgICBlaXA3MTI6IE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0FQUFJPVkFMLmVpcDcxMixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkucHJpY2UpLnRvLmVxdWFsKGV4cGVjdGVkUHJpY2UpO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS50eXBlKS50by5lcXVhbChHYXNsZXNzVHlwZXMuT3RjT3JkZXIpO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5vcmRlckhhc2gpLnRvLm1hdGNoKC9eMHhbMC05YS1mQS1GXSsvKTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkub3JkZXIubWFrZXIpLnRvLmVxdWFsKE1BUktFVF9NQUtFUl8yX0FERFIpO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5hcHByb3ZhbCkudG8uZXFsKGV4cGVjdGVkQXBwcm92YWwpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhIDQwMCBCQUQgUkVRVUVTVCBpZiBhcGkga2V5IGlzIG1pc3NpbmcnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSAxMDAwMDAwMDAwMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgICAgICAgICAgYnV5VG9rZW46ICdaUlgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbFRva2VuOiAnV0VUSCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsQW1vdW50OiBzZWxsQW1vdW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnRlbnRPbkZpbGxpbmc6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbjogJ3RydWUnLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGAke1JGUU1fUEFUSH0vcXVvdGU/JHtwYXJhbXMudG9TdHJpbmcoKX1gKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnJlYXNvbikudG8uZXF1YWwoJ0ludmFsaWQgQVBJIGtleScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhIDQwMCBCQUQgUkVRVUVTVCBpZiB0YWtlckFkZHJlc3MgaXMgbWlzc2luZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsbEFtb3VudCA9IDEwMDAwMDAwMDAwMDAwMDAwMDtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XHJcbiAgICAgICAgICAgICAgICBidXlUb2tlbjogJ1pSWCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsVG9rZW46ICdXRVRIJyxcclxuICAgICAgICAgICAgICAgIHNlbGxBbW91bnQ6IHNlbGxBbW91bnQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhcHBSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLmdldChgJHtSRlFNX1BBVEh9L3F1b3RlPyR7cGFyYW1zLnRvU3RyaW5nKCl9YClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5CQURfUkVRVUVTVClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5yZWFzb24pLnRvLmVxdWFsKCdWYWxpZGF0aW9uIEZhaWxlZCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhIDQwMCBCQUQgUkVRVUVTVCBpZiBidXlUb2tlbiBpcyBtaXNzaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxsQW1vdW50ID0gMTAwMDAwMDAwMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcclxuICAgICAgICAgICAgICAgIHNlbGxUb2tlbjogJ1dFVEgnLFxyXG4gICAgICAgICAgICAgICAgc2VsbEFtb3VudDogc2VsbEFtb3VudC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGAke1JGUU1fUEFUSH0vcXVvdGU/JHtwYXJhbXMudG9TdHJpbmcoKX1gKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnJlYXNvbikudG8uZXF1YWwoJ1ZhbGlkYXRpb24gRmFpbGVkJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgNDAwIEJBRCBSRVFVRVNUIGlmIHNlbGxUb2tlbiBpcyBtaXNzaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxsQW1vdW50ID0gMTAwMDAwMDAwMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcclxuICAgICAgICAgICAgICAgIGJ1eVRva2VuOiAnWlJYJyxcclxuICAgICAgICAgICAgICAgIHNlbGxBbW91bnQ6IHNlbGxBbW91bnQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzcyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhcHBSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLmdldChgJHtSRlFNX1BBVEh9L3F1b3RlPyR7cGFyYW1zLnRvU3RyaW5nKCl9YClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5CQURfUkVRVUVTVClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5yZWFzb24pLnRvLmVxdWFsKCdWYWxpZGF0aW9uIEZhaWxlZCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhIDQwMCBCQUQgUkVRVUVTVCBpZiBib3RoIHNlbGxBbW91bnQgYW5kIGJ1eUFtb3VudCBhcmUgbWlzc2luZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XHJcbiAgICAgICAgICAgICAgICBidXlUb2tlbjogJ1pSWCcsXHJcbiAgICAgICAgICAgICAgICBzZWxsVG9rZW46ICdXRVRIJyxcclxuICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzcyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhcHBSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLmdldChgJHtSRlFNX1BBVEh9L3F1b3RlPyR7cGFyYW1zLnRvU3RyaW5nKCl9YClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5CQURfUkVRVUVTVClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5yZWFzb24pLnRvLmVxdWFsKCdWYWxpZGF0aW9uIEZhaWxlZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ3JmcW0vdjEvc3VibWl0JywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1vY2tTdG9yZWRGZWU6IFN0b3JlZEZlZSA9IHtcclxuICAgICAgICAgICAgdG9rZW46ICcweDEyMycsXHJcbiAgICAgICAgICAgIGFtb3VudDogJzEwMDAnLFxyXG4gICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgbW9ja1N0b3JlZE9yZGVyOiBTdG9yZWRPdGNPcmRlciA9IHtcclxuICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxyXG4gICAgICAgICAgICBvcmRlcjoge1xyXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogJzEzMzcnLFxyXG4gICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoU0FGRV9FWFBJUlkpLFxyXG4gICAgICAgICAgICAgICAgICAgIFpFUk8sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihTQUZFX0VYUElSWSksXHJcbiAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICBtYWtlcjogJzB4MTIzJyxcclxuICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMScsXHJcbiAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHgxMjMnLFxyXG4gICAgICAgICAgICAgICAgdGFrZXI6ICcweDEyMycsXHJcbiAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEnLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4MTIzJyxcclxuICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnMHgxMjMnLFxyXG4gICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcweDEyMycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBPdGNPcmRlciBUYWtlclxyXG4gICAgICAgIGNvbnN0IG90Y09yZGVyVGFrZXJBZGRyZXNzID0gJzB4ZEE5QUM0MjM0NDIxNjk1ODhERTZiNDMwNWY0RTgyMEQ3MDhkMGNFNSc7XHJcbiAgICAgICAgY29uc3Qgb3RjT3JkZXJUYWtlclByaXZhdGVLZXkgPSAnMHg2NTNmYTMyOGRmODFiZTE4MGI1OGU0MjczN2JjNGNlZjAzN2ExOWEzYjk2NzNiMTVkMjBlZTJlZWJiMmU1MDlkJztcclxuXHJcbiAgICAgICAgLy8gT3RjT3JkZXJcclxuICAgICAgICBjb25zdCBtb2NrU3RvcmVkT3RjT3JkZXI6IFN0b3JlZE90Y09yZGVyID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXHJcbiAgICAgICAgICAgIG9yZGVyOiB7XHJcbiAgICAgICAgICAgICAgICB0eE9yaWdpbjogJzB4MTIzJyxcclxuICAgICAgICAgICAgICAgIG1ha2VyOiAnMHgxMjMnLFxyXG4gICAgICAgICAgICAgICAgdGFrZXI6IG90Y09yZGVyVGFrZXJBZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4MTIzJyxcclxuICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweDEyMycsXHJcbiAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEnLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxJyxcclxuICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcclxuICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKFNBRkVfRVhQSVJZKSxcclxuICAgICAgICAgICAgICAgICAgICBaRVJPLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoU0FGRV9FWFBJUlkpLFxyXG4gICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogJzEzMzcnLFxyXG4gICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcweDEyMycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBvdGNPcmRlciA9IHN0b3JlZE90Y09yZGVyVG9PdGNPcmRlcihtb2NrU3RvcmVkT3RjT3JkZXIpO1xyXG4gICAgICAgIGl0KCdbdjJdIHNob3VsZCByZXR1cm4gc3RhdHVzIDIwMSBjcmVhdGVkIGFuZCBxdWV1ZSB1cCBhIGpvYiB3aXRoIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBPdGNPcmRlclxyXG4gICAgICAgICAgICBjb25zdCBvcmRlciA9IG90Y09yZGVyO1xyXG4gICAgICAgICAgICBjb25zdCBvcmRlckhhc2ggPSBvcmRlci5nZXRIYXNoKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBUYWtlciBTaWduYXR1cmVcclxuICAgICAgICAgICAgY29uc3QgdGFrZXJTaWduYXR1cmUgPSBldGhTaWduSGFzaFdpdGhLZXkob3JkZXJIYXNoLCBvdGNPcmRlclRha2VyUHJpdmF0ZUtleSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtb2NrUXVvdGUgPSBuZXcgUmZxbVYyUXVvdGVFbnRpdHkoe1xyXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoLFxyXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6IE1BUktFVF9NQUtFUl8xLFxyXG4gICAgICAgICAgICAgICAgZmVlOiBtb2NrU3RvcmVkRmVlLFxyXG4gICAgICAgICAgICAgICAgb3JkZXI6IG1vY2tTdG9yZWRPdGNPcmRlcixcclxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEzMzcsXHJcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiBNQVRDSEFfQUZGSUxJQVRFX0FERFJFU1MsXHJcbiAgICAgICAgICAgICAgICB0YWtlclNwZWNpZmllZFNpZGU6ICdtYWtlclRva2VuJyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB3cml0ZSBhIGNvcnJlc3BvbmRpbmcgcXVvdGUgZW50aXR5IHRvIHZhbGlkYXRlIGFnYWluc3RcclxuICAgICAgICAgICAgYXdhaXQgZGF0YVNvdXJjZS5nZXRSZXBvc2l0b3J5KFJmcW1WMlF1b3RlRW50aXR5KS5pbnNlcnQobW9ja1F1b3RlKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAucG9zdChgJHtSRlFNX1BBVEh9L3N1Ym1pdGApXHJcbiAgICAgICAgICAgICAgICAuc2VuZCh7IHR5cGU6IEdhc2xlc3NUeXBlcy5PdGNPcmRlciwgb3JkZXIsIHNpZ25hdHVyZTogdGFrZXJTaWduYXR1cmUgfSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWFwaS1rZXknLCBBUElfS0VZKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtY2hhaW4taWQnLCAnMTMzNycpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KEh0dHBTdGF0dXMuQ1JFQVRFRClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5vcmRlckhhc2gpLnRvLmVxdWFsKG9yZGVySGFzaCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYkpvYkVudGl0eSA9IGF3YWl0IGRhdGFTb3VyY2UuZ2V0UmVwb3NpdG9yeShSZnFtVjJKb2JFbnRpdHkpLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2gsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZXhwZWN0KGRiSm9iRW50aXR5KS50by5ub3QuZXF1YWwobnVsbCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChkYkpvYkVudGl0eT8ub3JkZXJIYXNoKS50by5lcXVhbChtb2NrUXVvdGUub3JkZXJIYXNoKTtcclxuICAgICAgICAgICAgZXhwZWN0KGRiSm9iRW50aXR5Py5tYWtlclVyaSkudG8uZXF1YWwoTUFSS0VUX01BS0VSXzEpO1xyXG4gICAgICAgICAgICBleHBlY3QoZGJKb2JFbnRpdHk/LmFmZmlsaWF0ZUFkZHJlc3MpLnRvLmVxdWFsKE1BVENIQV9BRkZJTElBVEVfQUREUkVTUyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChkYkpvYkVudGl0eT8udGFrZXJTaWduYXR1cmUpLnRvLmRlZXAuZXEodGFrZXJTaWduYXR1cmUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnW3YyXSBzaG91bGQgcmV0dXJuIHN0YXR1cyA0MDQgbm90IGZvdW5kIGlmIHRoZXJlIGlzIG5vdCBhIHByZS1leGlzdGluZyBxdW90ZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBvdGNPcmRlcjtcclxuXHJcbiAgICAgICAgICAgIC8vIFRha2VyIFNpZ25hdHVyZVxyXG4gICAgICAgICAgICBjb25zdCB0YWtlclNpZ25hdHVyZSA9IGV0aFNpZ25IYXNoV2l0aEtleShvcmRlci5nZXRIYXNoKCksIG90Y09yZGVyVGFrZXJQcml2YXRlS2V5KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAucG9zdChgJHtSRlFNX1BBVEh9L3N1Ym1pdGApXHJcbiAgICAgICAgICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogR2FzbGVzc1R5cGVzLk90Y09yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogdGFrZXJTaWduYXR1cmUsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtYXBpLWtleScsIEFQSV9LRVkpXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1jaGFpbi1pZCcsICcxMzM3JylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5OT1RfRk9VTkQpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvanNvbi8pO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkucmVhc29uKS50by5lcXVhbCgnTm90IEZvdW5kJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgNDAwIEJBRCBSRVFVRVNUIEVycm9yIHRoZSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludmFsaWRUeXBlID0gJ3YxMHJmcSc7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhcHBSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLnBvc3QoYCR7UkZRTV9QQVRIfS9zdWJtaXRgKVxyXG4gICAgICAgICAgICAgICAgLnNlbmQoeyB0eXBlOiBpbnZhbGlkVHlwZSwgb3JkZXI6IG1vY2tTdG9yZWRPcmRlciwgc2lnbmF0dXJlOiBSQU5ET01fVkFMSURfU0lHTkFUVVJFIH0pXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEzMzcnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnJlYXNvbikudG8uZXF1YWwoJ1ZhbGlkYXRpb24gRmFpbGVkJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChhcHBSZXNwb25zZS5ib2R5LnZhbGlkYXRpb25FcnJvcnNbMF0ucmVhc29uKS50by5lcXVhbChcclxuICAgICAgICAgICAgICAgIGAke2ludmFsaWRUeXBlfSBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciAndHlwZSdgLFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnW3YyXSBzaG91bGQgZmFpbCB3aXRoIHN0YXR1cyBjb2RlIDUwMCBpZiBhIHF1b3RlIGhhcyBhbHJlYWR5IGJlZW4gc3VibWl0dGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBPdGNPcmRlclxyXG4gICAgICAgICAgICBjb25zdCBvcmRlciA9IG90Y09yZGVyO1xyXG4gICAgICAgICAgICBjb25zdCBvcmRlckhhc2ggPSBvcmRlci5nZXRIYXNoKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBUYWtlciBTaWduYXR1cmVcclxuICAgICAgICAgICAgY29uc3QgdGFrZXJTaWduYXR1cmUgPSBldGhTaWduSGFzaFdpdGhLZXkob3JkZXJIYXNoLCBvdGNPcmRlclRha2VyUHJpdmF0ZUtleSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtb2NrUXVvdGUgPSBuZXcgUmZxbVYyUXVvdGVFbnRpdHkoe1xyXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoLFxyXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6IE1BUktFVF9NQUtFUl8xLFxyXG4gICAgICAgICAgICAgICAgZmVlOiBtb2NrU3RvcmVkRmVlLFxyXG4gICAgICAgICAgICAgICAgb3JkZXI6IG1vY2tTdG9yZWRPdGNPcmRlcixcclxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEzMzcsXHJcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiBNQVRDSEFfQUZGSUxJQVRFX0FERFJFU1MsXHJcbiAgICAgICAgICAgICAgICB0YWtlclNwZWNpZmllZFNpZGU6ICdtYWtlclRva2VuJyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB3cml0ZSBhIGNvcnJlc3BvbmRpbmcgcXVvdGUgZW50aXR5IHRvIHZhbGlkYXRlIGFnYWluc3RcclxuICAgICAgICAgICAgYXdhaXQgZGF0YVNvdXJjZS5nZXRSZXBvc2l0b3J5KFJmcW1WMlF1b3RlRW50aXR5KS5pbnNlcnQobW9ja1F1b3RlKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLnBvc3QoYCR7UkZRTV9QQVRIfS9zdWJtaXRgKVxyXG4gICAgICAgICAgICAgICAgLnNlbmQoeyB0eXBlOiBHYXNsZXNzVHlwZXMuT3RjT3JkZXIsIG9yZGVyLCBzaWduYXR1cmU6IHRha2VyU2lnbmF0dXJlIH0pXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEzMzcnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLkNSRUFURUQpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvanNvbi8pO1xyXG5cclxuICAgICAgICAgICAgLy8gdHJ5IHRvIHN1Ym1pdCBhZ2FpblxyXG4gICAgICAgICAgICBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5wb3N0KGAke1JGUU1fUEFUSH0vc3VibWl0YClcclxuICAgICAgICAgICAgICAgIC5zZW5kKHsgdHlwZTogR2FzbGVzc1R5cGVzLk90Y09yZGVyLCBvcmRlciwgc2lnbmF0dXJlOiB0YWtlclNpZ25hdHVyZSB9KVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtYXBpLWtleScsIEFQSV9LRVkpXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1jaGFpbi1pZCcsICcxMzM3JylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5JTlRFUk5BTF9TRVJWRVJfRVJST1IpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvanNvbi8pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnW3YyXSBzaG91bGQgZmFpbCB3aXRoIDQwMCBCQUQgUkVRVUVTVCBpZiBtZXRhIHR4IGlzIHRvbyBjbG9zZSB0byBleHBpcmF0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmRlciA9IG5ldyBPdGNPcmRlcih7XHJcbiAgICAgICAgICAgICAgICAuLi5vdGNPcmRlcixcclxuICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShaRVJPLCBaRVJPLCBaRVJPKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yZGVySGFzaCA9IG9yZGVyLmdldEhhc2goKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1vY2tRdW90ZSA9IG5ldyBSZnFtVjJRdW90ZUVudGl0eSh7XHJcbiAgICAgICAgICAgICAgICBvcmRlckhhc2gsXHJcbiAgICAgICAgICAgICAgICBtYWtlclVyaTogTUFSS0VUX01BS0VSXzEsXHJcbiAgICAgICAgICAgICAgICBmZWU6IG1vY2tTdG9yZWRGZWUsXHJcbiAgICAgICAgICAgICAgICBvcmRlcjogbW9ja1N0b3JlZE90Y09yZGVyLFxyXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMTMzNyxcclxuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6IE1BVENIQV9BRkZJTElBVEVfQUREUkVTUyxcclxuICAgICAgICAgICAgICAgIHRha2VyU3BlY2lmaWVkU2lkZTogJ21ha2VyVG9rZW4nLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IGRhdGFTb3VyY2UuZ2V0UmVwb3NpdG9yeShSZnFtVjJRdW90ZUVudGl0eSkuaW5zZXJ0KG1vY2tRdW90ZSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhcHBSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLnBvc3QoYCR7UkZRTV9QQVRIfS9zdWJtaXRgKVxyXG4gICAgICAgICAgICAgICAgLnNlbmQoeyB0eXBlOiBHYXNsZXNzVHlwZXMuT3RjT3JkZXIsIG9yZGVyLCBzaWduYXR1cmU6IFJBTkRPTV9WQUxJRF9TSUdOQVRVUkUgfSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWFwaS1rZXknLCBBUElfS0VZKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtY2hhaW4taWQnLCAnMTMzNycpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KEh0dHBTdGF0dXMuQkFEX1JFUVVFU1QpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvanNvbi8pO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkucmVhc29uKS50by5lcXVhbCgnVmFsaWRhdGlvbiBGYWlsZWQnKTtcclxuICAgICAgICAgICAgZXhwZWN0KGFwcFJlc3BvbnNlLmJvZHkudmFsaWRhdGlvbkVycm9yc1swXS5yZWFzb24pLnRvLmVxdWFsKGBvcmRlciB3aWxsIGV4cGlyZSB0b28gc29vbmApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnW3YyXSBzaG91bGQgZmFpbCB3aXRoIDQwMCBCQUQgUkVRVUVTVCBpZiBzaWduYXR1cmUgaXMgaW52YWxpZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBvdGNPcmRlcjtcclxuICAgICAgICAgICAgY29uc3Qgb3JkZXJIYXNoID0gb3JkZXIuZ2V0SGFzaCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbW9ja1F1b3RlID0gbmV3IFJmcW1WMlF1b3RlRW50aXR5KHtcclxuICAgICAgICAgICAgICAgIG9yZGVySGFzaCxcclxuICAgICAgICAgICAgICAgIG1ha2VyVXJpOiBNQVJLRVRfTUFLRVJfMSxcclxuICAgICAgICAgICAgICAgIGZlZTogbW9ja1N0b3JlZEZlZSxcclxuICAgICAgICAgICAgICAgIG9yZGVyOiBtb2NrU3RvcmVkT3RjT3JkZXIsXHJcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxMzM3LFxyXG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogTUFUQ0hBX0FGRklMSUFURV9BRERSRVNTLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJTcGVjaWZpZWRTaWRlOiAnbWFrZXJUb2tlbicsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgZGF0YVNvdXJjZS5nZXRSZXBvc2l0b3J5KFJmcW1WMlF1b3RlRW50aXR5KS5pbnNlcnQobW9ja1F1b3RlKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAucG9zdChgJHtSRlFNX1BBVEh9L3N1Ym1pdGApXHJcbiAgICAgICAgICAgICAgICAuc2VuZCh7IHR5cGU6IEdhc2xlc3NUeXBlcy5PdGNPcmRlciwgb3JkZXIsIHNpZ25hdHVyZTogUkFORE9NX1ZBTElEX1NJR05BVFVSRSB9KVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtYXBpLWtleScsIEFQSV9LRVkpXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1jaGFpbi1pZCcsICcxMzM3JylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5CQURfUkVRVUVTVClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5yZWFzb24pLnRvLmVxdWFsKCdWYWxpZGF0aW9uIEZhaWxlZCcpO1xyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS52YWxpZGF0aW9uRXJyb3JzWzBdLnJlYXNvbikudG8uZXF1YWwoYHNpZ25hdHVyZSBpcyBub3QgdmFsaWRgKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdyZnFtL3YxL3N1Ym1pdC13aXRoLWFwcHJvdmFsJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1vY2tTdG9yZWRGZWU6IFN0b3JlZEZlZSA9IHtcclxuICAgICAgICAgICAgdG9rZW46ICcweDEyMycsXHJcbiAgICAgICAgICAgIGFtb3VudDogJzEwMDAnLFxyXG4gICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIE90Y09yZGVyIFRha2VyXHJcbiAgICAgICAgY29uc3Qgb3RjT3JkZXJUYWtlckFkZHJlc3MgPSAnMHhkQTlBQzQyMzQ0MjE2OTU4OERFNmI0MzA1ZjRFODIwRDcwOGQwY0U1JztcclxuICAgICAgICBjb25zdCBvdGNPcmRlclRha2VyUHJpdmF0ZUtleSA9ICcweDY1M2ZhMzI4ZGY4MWJlMTgwYjU4ZTQyNzM3YmM0Y2VmMDM3YTE5YTNiOTY3M2IxNWQyMGVlMmVlYmIyZTUwOWQnO1xyXG5cclxuICAgICAgICAvLyBPdGNPcmRlclxyXG4gICAgICAgIGNvbnN0IG1vY2tTdG9yZWRPdGNPcmRlcjogU3RvcmVkT3RjT3JkZXIgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcclxuICAgICAgICAgICAgb3JkZXI6IHtcclxuICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnMHgxMjMnLFxyXG4gICAgICAgICAgICAgICAgbWFrZXI6ICcweDEyMycsXHJcbiAgICAgICAgICAgICAgICB0YWtlcjogb3RjT3JkZXJUYWtlckFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHgxMjMnLFxyXG4gICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4MTIzJyxcclxuICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMScsXHJcbiAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEnLFxyXG4gICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoU0FGRV9FWFBJUlkpLFxyXG4gICAgICAgICAgICAgICAgICAgIFpFUk8sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihTQUZFX0VYUElSWSksXHJcbiAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAnMTMzNycsXHJcbiAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJzB4MTIzJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBBcHByb3ZhbFxyXG4gICAgICAgIGNvbnN0IGFwcHJvdmFsID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBNT0NLX1BFUk1JVF9BUFBST1ZBTC5raW5kLFxyXG4gICAgICAgICAgICBlaXA3MTI6IE1PQ0tfUEVSTUlUX0FQUFJPVkFMLmVpcDcxMixcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IG90Y09yZGVyID0gc3RvcmVkT3RjT3JkZXJUb090Y09yZGVyKG1vY2tTdG9yZWRPdGNPcmRlcik7XHJcbiAgICAgICAgaXQoJ1t2Ml0gc2hvdWxkIHJldHVybiBzdGF0dXMgMjAxIGNyZWF0ZWQgYW5kIHF1ZXVlIHVwIGEgam9iIHdpdGggYSBzdWNjZXNzZnVsIHJlcXVlc3QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIE90Y09yZGVyXHJcbiAgICAgICAgICAgIGNvbnN0IG9yZGVyID0gb3RjT3JkZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yZGVySGFzaCA9IG9yZGVyLmdldEhhc2goKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRha2VyIFNpZ25hdHVyZVxyXG4gICAgICAgICAgICBjb25zdCB0YWtlclNpZ25hdHVyZSA9IGV0aFNpZ25IYXNoV2l0aEtleShvcmRlckhhc2gsIG90Y09yZGVyVGFrZXJQcml2YXRlS2V5KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFwcHJvdmFsIHNpZ25hdHVyZVxyXG4gICAgICAgICAgICBjb25zdCBzaWduZXIgPSBuZXcgZXRoZXJzLldhbGxldChvdGNPcmRlclRha2VyUHJpdmF0ZUtleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGVzQ29weTogUGFydGlhbDxQZXJtaXRFaXA3MTJUeXBlcz4gPSB7IC4uLmFwcHJvdmFsLmVpcDcxMi50eXBlcyB9O1xyXG4gICAgICAgICAgICBkZWxldGUgdHlwZXNDb3B5LkVJUDcxMkRvbWFpbjtcclxuICAgICAgICAgICAgY29uc3QgcmF3QXBwcm92YWxTaWduYXR1cmUgPSBhd2FpdCBzaWduZXIuX3NpZ25UeXBlZERhdGEoXHJcbiAgICAgICAgICAgICAgICBhcHByb3ZhbC5laXA3MTIuZG9tYWluLFxyXG4gICAgICAgICAgICAgICAgLy8gJGVzbGludC1maXgtbWUgaHR0cHM6Ly9naXRodWIuY29tL3JoaW5vZGF2aWQvZXNsaW50LWZpeC1tZVxyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgIHR5cGVzQ29weSBhcyBhbnksXHJcbiAgICAgICAgICAgICAgICBhcHByb3ZhbC5laXA3MTIubWVzc2FnZSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3QgeyB2LCByLCBzIH0gPSBldGhlcnMudXRpbHMuc3BsaXRTaWduYXR1cmUocmF3QXBwcm92YWxTaWduYXR1cmUpO1xyXG4gICAgICAgICAgICBjb25zdCBhcHByb3ZhbFNpZ25hdHVyZSA9IHtcclxuICAgICAgICAgICAgICAgIHYsXHJcbiAgICAgICAgICAgICAgICByLFxyXG4gICAgICAgICAgICAgICAgcyxcclxuICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IDMsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtb2NrUXVvdGUgPSBuZXcgUmZxbVYyUXVvdGVFbnRpdHkoe1xyXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoLFxyXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6IE1BUktFVF9NQUtFUl8xLFxyXG4gICAgICAgICAgICAgICAgZmVlOiBtb2NrU3RvcmVkRmVlLFxyXG4gICAgICAgICAgICAgICAgb3JkZXI6IG1vY2tTdG9yZWRPdGNPcmRlcixcclxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEzMzcsXHJcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiBNQVRDSEFfQUZGSUxJQVRFX0FERFJFU1MsXHJcbiAgICAgICAgICAgICAgICB0YWtlclNwZWNpZmllZFNpZGU6ICdtYWtlclRva2VuJyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB3cml0ZSBhIGNvcnJlc3BvbmRpbmcgcXVvdGUgZW50aXR5IHRvIHZhbGlkYXRlIGFnYWluc3RcclxuICAgICAgICAgICAgYXdhaXQgZGF0YVNvdXJjZS5nZXRSZXBvc2l0b3J5KFJmcW1WMlF1b3RlRW50aXR5KS5pbnNlcnQobW9ja1F1b3RlKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFwcFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAucG9zdChgJHtSRlFNX1BBVEh9L3N1Ym1pdC13aXRoLWFwcHJvdmFsYClcclxuICAgICAgICAgICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFkZTogeyB0eXBlOiBHYXNsZXNzVHlwZXMuT3RjT3JkZXIsIG9yZGVyLCBzaWduYXR1cmU6IHRha2VyU2lnbmF0dXJlIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92YWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogR2FzbGVzc0FwcHJvdmFsVHlwZXMuUGVybWl0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlaXA3MTI6IGFwcHJvdmFsLmVpcDcxMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBhcHByb3ZhbFNpZ25hdHVyZSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWFwaS1rZXknLCBBUElfS0VZKVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtY2hhaW4taWQnLCAnMTMzNycpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KEh0dHBTdGF0dXMuQ1JFQVRFRClcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QoYXBwUmVzcG9uc2UuYm9keS5vcmRlckhhc2gpLnRvLmVxdWFsKG9yZGVySGFzaCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYkpvYkVudGl0eSA9IGF3YWl0IGRhdGFTb3VyY2UuZ2V0UmVwb3NpdG9yeShSZnFtVjJKb2JFbnRpdHkpLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2gsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdChkYkpvYkVudGl0eSkudG8ubm90LmVxdWFsKG51bGwpO1xyXG4gICAgICAgICAgICBleHBlY3QoZGJKb2JFbnRpdHk/Lm9yZGVySGFzaCkudG8uZXF1YWwobW9ja1F1b3RlLm9yZGVySGFzaCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChkYkpvYkVudGl0eT8ubWFrZXJVcmkpLnRvLmVxdWFsKE1BUktFVF9NQUtFUl8xKTtcclxuICAgICAgICAgICAgZXhwZWN0KGRiSm9iRW50aXR5Py5hZmZpbGlhdGVBZGRyZXNzKS50by5lcXVhbChNQVRDSEFfQUZGSUxJQVRFX0FERFJFU1MpO1xyXG4gICAgICAgICAgICBleHBlY3QoZGJKb2JFbnRpdHk/LnRha2VyU2lnbmF0dXJlKS50by5kZWVwLmVxKHRha2VyU2lnbmF0dXJlKTtcclxuICAgICAgICAgICAgZXhwZWN0KGRiSm9iRW50aXR5Py5hcHByb3ZhbD8uZWlwNzEyKS50by5kZWVwLmVxKGFwcHJvdmFsLmVpcDcxMik7XHJcbiAgICAgICAgICAgIGV4cGVjdChkYkpvYkVudGl0eT8uYXBwcm92YWw/LmtpbmQpLnRvLmRlZXAuZXEoYXBwcm92YWwudHlwZSk7XHJcbiAgICAgICAgICAgIGV4cGVjdChkYkpvYkVudGl0eT8uYXBwcm92YWxTaWduYXR1cmUpLnRvLmRlZXAuZXEoYXBwcm92YWxTaWduYXR1cmUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ3JmcW0vdjEvc3RhdHVzLzpvcmRlckhhc2gnLCAoKSA9PiB7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSA0MDQgTk9UIEZPVU5EIGlmIHRoZSBvcmRlciBoYXNoIGlzIG5vdCBmb3VuZCcsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JkZXJIYXNoID0gJzB4MDAnO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdChhcHApXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGAke1JGUU1fUEFUSH0vc3RhdHVzLyR7b3JkZXJIYXNofWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEzMzcnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLk5PVF9GT1VORCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgMjAwIHdoZW4gdGhlIG9yZGVyIGV4aXN0cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy53cml0ZVYySm9iQXN5bmMoTU9DS19SRlFNX0pPQik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLmdldChgJHtSRlFNX1BBVEh9L3N0YXR1cy8ke01PQ0tfUkZRTV9KT0Iub3JkZXJIYXNofWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEzMzcnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLk9LKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc3BvbnNlIGRldGFpbHMgYXJlIGNvdmVyZWQgYnkgdGhlIHNlcnZpY2UgdGVzdCwgYnV0IGRvIG9uZSBzbWFsbCBjaGVjayBmb3Igc2FuaXR5XHJcbiAgICAgICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN0YXR1cykudG8uZXF1YWwoJ3N1Ym1pdHRlZCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBzdGF0dXMgcmVhc29uIGZvciBmYWlsdXJlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy53cml0ZVYySm9iQXN5bmMoe1xyXG4gICAgICAgICAgICAgICAgLi4uTU9DS19SRlFNX0pPQixcclxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5GYWlsZWRSZXZlcnRlZENvbmZpcm1lZCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLmdldChgJHtSRlFNX1BBVEh9L3N0YXR1cy8ke01PQ0tfUkZRTV9KT0Iub3JkZXJIYXNofWApXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hcGkta2V5JywgQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWNoYWluLWlkJywgJzEzMzcnKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLk9LKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc3BvbnNlIGRldGFpbHMgYXJlIGNvdmVyZWQgYnkgdGhlIHNlcnZpY2UgdGVzdCwgYnV0IGRvIG9uZSBzbWFsbCBjaGVjayBmb3Igc2FuaXR5XHJcbiAgICAgICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnJlYXNvbikudG8uZXF1YWwoJ3RyYW5zYWN0aW9uX3JldmVydGVkJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnL2FkbWluL3YxL2NsZWFudXAnLCAoKSA9PiB7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSA0MDAgQkFEIFJFUVVFU1QgaWYgdGhlIG9yZGVyIGhhc2ggaXMgbm90IGZvdW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmRlckhhc2ggPSAnMHgwMCc7XHJcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5wb3N0KGAke0FETUlOX1BBVEh9L2NsZWFudXBgKVxyXG4gICAgICAgICAgICAgICAgLnNlbmQoeyBvcmRlckhhc2hlczogW29yZGVySGFzaF0gfSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWFkbWluLWFwaS1rZXknLCBBRE1JTl9BUElfS0VZKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSA0MDAgQkFEIFJFUVVFU1QgaWYgbm8gb3JkZXIgaGFzaGVzIGFyZSBzZW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5wb3N0KGAke0FETUlOX1BBVEh9L2NsZWFudXBgKVxyXG4gICAgICAgICAgICAgICAgLnNlbmQoeyBvcmRlckhhc2hlczogW10gfSlcclxuICAgICAgICAgICAgICAgIC5zZXQoJzB4LWFkbWluLWFwaS1rZXknLCBBRE1JTl9BUElfS0VZKVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLkJBRF9SRVFVRVNUKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSA0MDAgQkFEIFJFUVVFU1QgaWYgYWxsIGpvYiB1cGRhdGVzIGZhaWwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF3YWl0IGRiVXRpbHMud3JpdGVWMkpvYkFzeW5jKHsgLi4uTU9DS19SRlFNX0pPQiwgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZCB9KTtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAgICAgICAgIC5wb3N0KGAke0FETUlOX1BBVEh9L2NsZWFudXBgKVxyXG4gICAgICAgICAgICAgICAgLnNlbmQoeyBvcmRlckhhc2hlczogW01PQ0tfUkZRTV9KT0Iub3JkZXJIYXNoXSB9KVxyXG4gICAgICAgICAgICAgICAgLnNldCgnMHgtYWRtaW4tYXBpLWtleScsIEFETUlOX0FQSV9LRVkpXHJcbiAgICAgICAgICAgICAgICAuZXhwZWN0KEh0dHBTdGF0dXMuQkFEX1JFUVVFU1QpO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkudW5tb2RpZmllZEpvYnNbMF0pLnRvLmVxdWFsKE1PQ0tfUkZRTV9KT0Iub3JkZXJIYXNoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSA0MDEgVU5BVVRIT1JJWkVEIGlmIHRoZSBBUEkga2V5IGlzIG5vdCBhbiBhZG1pbiBrZXknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF3YWl0IGRiVXRpbHMud3JpdGVWMkpvYkFzeW5jKE1PQ0tfUkZRTV9KT0IpO1xyXG4gICAgICAgICAgICBjb25zdCBiYWRBcGlLZXkgPSAnMHhiYWRhcGlrZXknO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLnBvc3QoYCR7QURNSU5fUEFUSH0vY2xlYW51cGApXHJcbiAgICAgICAgICAgICAgICAuc2VuZCh7IG9yZGVySGFzaGVzOiBbTU9DS19SRlFNX0pPQi5vcmRlckhhc2hdIH0pXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hZG1pbi1hcGkta2V5JywgYmFkQXBpS2V5KVxyXG4gICAgICAgICAgICAgICAgLmV4cGVjdChIdHRwU3RhdHVzLlVOQVVUSE9SSVpFRCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgMjAwIE9LIHdoZW4gdGhlIGpvYnMgYXJlIHN1Y2Nlc3NmdWxseSBzZXQgdG8gZmFpbHVyZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy53cml0ZVYySm9iQXN5bmMoe1xyXG4gICAgICAgICAgICAgICAgLi4uTU9DS19SRlFNX0pPQixcclxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihEYXRlLm5vdygpIC0gNjBfMDAwKS5kaXZpZGVkQnkoT05FX1NFQ09ORF9NUykuZGVjaW1hbFBsYWNlcygwKSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLnBvc3QoYCR7QURNSU5fUEFUSH0vY2xlYW51cGApXHJcbiAgICAgICAgICAgICAgICAuc2VuZCh7IG9yZGVySGFzaGVzOiBbTU9DS19SRlFNX0pPQi5vcmRlckhhc2hdIH0pXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hZG1pbi1hcGkta2V5JywgQURNSU5fQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5PSylcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5tb2RpZmllZEpvYnNbMF0pLnRvLmVxdWFsKE1PQ0tfUkZRTV9KT0Iub3JkZXJIYXNoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSAyMDcgTVVMVEkgU1RBVFVTIGlmIHNvbWUgam9icyBzdWNjZWVkIGFuZCBzb21lIGpvYnMgZmFpbCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgZGJVdGlscy53cml0ZVYySm9iQXN5bmMoe1xyXG4gICAgICAgICAgICAgICAgLi4uTU9DS19SRlFNX0pPQixcclxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQsXHJcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGF3YWl0IGRiVXRpbHMud3JpdGVWMkpvYkFzeW5jKHtcclxuICAgICAgICAgICAgICAgIC4uLk1PQ0tfUkZRTV9KT0IsXHJcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoRGF0ZS5ub3coKSAtIDYwXzAwMCkuZGl2aWRlZEJ5KE9ORV9TRUNPTkRfTVMpLmRlY2ltYWxQbGFjZXMoMCksXHJcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAyJyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgICAgICAgICAgLnBvc3QoYCR7QURNSU5fUEFUSH0vY2xlYW51cGApXHJcbiAgICAgICAgICAgICAgICAuc2VuZCh7IG9yZGVySGFzaGVzOiBbJzB4MDEnLCAnMHgwMiddIH0pXHJcbiAgICAgICAgICAgICAgICAuc2V0KCcweC1hZG1pbi1hcGkta2V5JywgQURNSU5fQVBJX0tFWSlcclxuICAgICAgICAgICAgICAgIC5leHBlY3QoSHR0cFN0YXR1cy5NVUxUSV9TVEFUVVMpO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkudW5tb2RpZmllZEpvYnNbMF0pLnRvLmVxdWFsKCcweDAxJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5Lm1vZGlmaWVkSm9ic1swXSkudG8uZXF1YWwoJzB4MDInKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KTtcclxuIl0sInZlcnNpb24iOjN9