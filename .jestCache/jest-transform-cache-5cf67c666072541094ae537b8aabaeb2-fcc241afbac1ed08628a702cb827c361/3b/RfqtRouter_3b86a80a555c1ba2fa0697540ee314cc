7943dd73c6d5cf1893bc9328681849a5
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createRfqtV2Router = exports.createRfqtV1Router = void 0;
const express = require("express");
const asyncHandler = require("express-async-handler");
const RfqtHandlers_1 = require("../handlers/RfqtHandlers");
/**
 * Creates an express router for RFQt v1 related routes
 */
function createRfqtV1Router(rfqtServices, configManager) {
    const router = express.Router();
    const handlers = new RfqtHandlers_1.RfqtHandlers(rfqtServices, configManager);
    router.post('/prices', asyncHandler(handlers.getV1PricesAsync.bind(handlers)));
    router.post('/quotes', asyncHandler(handlers.getV1QuotesAsync.bind(handlers)));
    return router;
}
exports.createRfqtV1Router = createRfqtV1Router;
/**
 * Creates an express router for RFQt v2 related routes
 */
function createRfqtV2Router(rfqtServices, configManager) {
    const router = express.Router();
    const handlers = new RfqtHandlers_1.RfqtHandlers(rfqtServices, configManager);
    router.post('/prices', asyncHandler(handlers.getV2PricesAsync.bind(handlers)));
    router.post('/quotes', asyncHandler(handlers.getV2QuotesAsync.bind(handlers)));
    return router;
}
exports.createRfqtV2Router = createRfqtV2Router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3NyYy9yb3V0ZXJzL1JmcXRSb3V0ZXIudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQW1DO0FBQ25DLHNEQUFzRDtBQUV0RCwyREFBd0Q7QUFJeEQ7O0dBRUc7QUFDSCxTQUFnQixrQkFBa0IsQ0FBQyxZQUEwQixFQUFFLGFBQTRCO0lBQ3ZGLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNoQyxNQUFNLFFBQVEsR0FBRyxJQUFJLDJCQUFZLENBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBRS9ELE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvRSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFL0UsT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQVJELGdEQVFDO0FBRUQ7O0dBRUc7QUFDSCxTQUFnQixrQkFBa0IsQ0FBQyxZQUEwQixFQUFFLGFBQTRCO0lBQ3ZGLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNoQyxNQUFNLFFBQVEsR0FBRyxJQUFJLDJCQUFZLENBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBRS9ELE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvRSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFL0UsT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQVJELGdEQVFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZHdhbHNoL2NvZGUtbG9jYWwvMHgtcmZxLWFwaS9zcmMvcm91dGVycy9SZnF0Um91dGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgKiBhcyBhc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcblxuaW1wb3J0IHsgUmZxdEhhbmRsZXJzIH0gZnJvbSAnLi4vaGFuZGxlcnMvUmZxdEhhbmRsZXJzJztcbmltcG9ydCB7IENvbmZpZ01hbmFnZXIgfSBmcm9tICcuLi91dGlscy9jb25maWdfbWFuYWdlcic7XG5pbXBvcnQgeyBSZnF0U2VydmljZXMgfSBmcm9tICcuLi91dGlscy9yZnF0U2VydmljZUJ1aWxkZXInO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gZXhwcmVzcyByb3V0ZXIgZm9yIFJGUXQgdjEgcmVsYXRlZCByb3V0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJmcXRWMVJvdXRlcihyZnF0U2VydmljZXM6IFJmcXRTZXJ2aWNlcywgY29uZmlnTWFuYWdlcjogQ29uZmlnTWFuYWdlcik6IGV4cHJlc3MuUm91dGVyIHtcbiAgICBjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuICAgIGNvbnN0IGhhbmRsZXJzID0gbmV3IFJmcXRIYW5kbGVycyhyZnF0U2VydmljZXMsIGNvbmZpZ01hbmFnZXIpO1xuXG4gICAgcm91dGVyLnBvc3QoJy9wcmljZXMnLCBhc3luY0hhbmRsZXIoaGFuZGxlcnMuZ2V0VjFQcmljZXNBc3luYy5iaW5kKGhhbmRsZXJzKSkpO1xuICAgIHJvdXRlci5wb3N0KCcvcXVvdGVzJywgYXN5bmNIYW5kbGVyKGhhbmRsZXJzLmdldFYxUXVvdGVzQXN5bmMuYmluZChoYW5kbGVycykpKTtcblxuICAgIHJldHVybiByb3V0ZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBleHByZXNzIHJvdXRlciBmb3IgUkZRdCB2MiByZWxhdGVkIHJvdXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmZxdFYyUm91dGVyKHJmcXRTZXJ2aWNlczogUmZxdFNlcnZpY2VzLCBjb25maWdNYW5hZ2VyOiBDb25maWdNYW5hZ2VyKTogZXhwcmVzcy5Sb3V0ZXIge1xuICAgIGNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4gICAgY29uc3QgaGFuZGxlcnMgPSBuZXcgUmZxdEhhbmRsZXJzKHJmcXRTZXJ2aWNlcywgY29uZmlnTWFuYWdlcik7XG5cbiAgICByb3V0ZXIucG9zdCgnL3ByaWNlcycsIGFzeW5jSGFuZGxlcihoYW5kbGVycy5nZXRWMlByaWNlc0FzeW5jLmJpbmQoaGFuZGxlcnMpKSk7XG4gICAgcm91dGVyLnBvc3QoJy9xdW90ZXMnLCBhc3luY0hhbmRsZXIoaGFuZGxlcnMuZ2V0VjJRdW90ZXNBc3luYy5iaW5kKGhhbmRsZXJzKSkpO1xuXG4gICAgcmV0dXJuIHJvdXRlcjtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==