{"file":"/Users/davidwalsh/code-local/0x-rfq-api/src/handlers/__tests__/RfqtHandlers.test.ts","mappings":"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","names":[],"sources":["/Users/davidwalsh/code-local/0x-rfq-api/src/handlers/__tests__/RfqtHandlers.test.ts"],"sourcesContent":["// tslint:disable: max-file-line-count\nimport { ContractAddresses } from '@0x/contract-addresses';\nimport { OtcOrder } from '@0x/protocol-utils';\nimport { SignatureType } from '@0x/protocol-utils/lib/src/signature_utils';\nimport { FillQuoteTransformerOrderType } from '@0x/protocol-utils/lib/src/transformer_utils';\nimport { BigNumber } from '@0x/utils';\nimport * as express from 'express';\nimport * as asyncHandler from 'express-async-handler';\nimport * as HttpStatus from 'http-status-codes';\nimport { mapValues } from 'lodash';\nimport * as supertest from 'supertest';\n\nimport { Integrator } from '../../config';\nimport { QuoteRequestor, V4RFQIndicativeQuoteMM } from '../../quoteRequestor/QuoteRequestor';\nimport { FeeService } from '../../services/fee_service';\nimport { RfqtService } from '../../services/RfqtService';\nimport { RfqMakerBalanceCacheService } from '../../services/rfq_maker_balance_cache_service';\nimport type { RfqtV2Price, RfqtV2Quote, SignedNativeOrder } from '../../core/types';\nimport { ConfigManager } from '../../utils/config_manager';\nimport { QuoteServerClient } from '../../utils/quote_server_client';\nimport { RfqMakerManager } from '../../utils/rfq_maker_manager';\nimport { TokenMetadataManager } from '../../utils/TokenMetadataManager';\nimport { RfqtHandlers } from '../RfqtHandlers';\nimport { RfqBlockchainUtils } from '../../utils/rfq_blockchain_utils';\nimport { DEFAULT_MIN_EXPIRY_DURATION_MS } from '../../core/constants';\nimport { CacheClient } from '../../utils/cache_client';\n\njest.mock('../../services/RfqtService', () => {\n    return {\n        RfqtService: jest.fn().mockImplementation(() => {\n            return {\n                getV1PricesAsync: jest.fn(),\n                getV1QuotesAsync: jest.fn(),\n                getV2PricesAsync: jest.fn(),\n                getV2QuotesAsync: jest.fn(),\n            };\n        }),\n    };\n});\n\njest.mock('../../utils/config_manager', () => {\n    return {\n        ConfigManager: jest.fn().mockImplementation(() => {\n            return {\n                getIntegratorByIdOrThrow: jest.fn(),\n            };\n        }),\n    };\n});\n\n// tslint:disable: no-object-literal-type-assertion\nconst mockRfqtService = jest.mocked(\n    new RfqtService(\n        0,\n        {} as RfqMakerManager,\n        {} as QuoteRequestor,\n        {} as QuoteServerClient,\n        DEFAULT_MIN_EXPIRY_DURATION_MS,\n        {} as RfqBlockchainUtils,\n        {} as TokenMetadataManager,\n        {} as ContractAddresses,\n        {} as FeeService,\n        1,\n        {} as RfqMakerBalanceCacheService,\n        {} as CacheClient,\n    ),\n);\n// Jest workaround for getter\nmockRfqtService.feeModelVersion = 1;\nmockRfqtService.getTokenDecimalsAsync = jest.fn().mockResolvedValue(18);\n\nconst mockConfigManager = jest.mocked(new ConfigManager());\n// tslint:enable: no-object-literal-type-assertion\n\n// tslint:disable-next-line: custom-no-magic-numbers\nconst rfqtHandlers = new RfqtHandlers(new Map([[1337, mockRfqtService]]), mockConfigManager);\n\n/**\n * Verifies the proper response to a request using a mocked `RfqtService`.\n *\n * Each case sets up its own little Express app to avoid coupiling this\n * test to the upstream router.\n */\ndescribe('RfqtHandlers', () => {\n    describe('parameter verification with _parseV1RequestParameters', () => {\n        it('throws if a required parameter is missing', async () => {\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set('Content-type', 'application/json')\n                .send({ makerToken: '0xmakertoken' });\n\n            expect(response.body.error).toContain('missing parameters');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n\n        it('throws if the chain ID is invalid', async () => {\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 'liger' })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 'liger',\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Trade', // Invalid\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-integrator-id',\n                });\n\n            expect(response.body.error).toContain('Chain ID is invalid');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n\n        it('throws with an invalid market operation', async () => {\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Trade', // Invalid\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-integrator-id',\n                });\n\n            expect(response.body.error).toContain('invalid market operation');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n\n        it('throws when the integrator does not exist', async () => {\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                throw new Error(\"explodes because the integrator doesn't exist\");\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-ghost-integrator-id',\n                });\n\n            expect(response.body.error).toContain('No integrator found for integrator ID');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n\n        it('throws if there is no RFQt service for the chain id', async () => {\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 21 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 21, // No RFQt service exists for 21\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(response.body.error).toContain('No configuration exists for chain');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n    });\n\n    describe('getV1PriceAsync', () => {\n        it('responds with an error if the underlying service call fails', async () => {\n            mockRfqtService.getV1PricesAsync.mockRejectedValueOnce(new Error('The service blew up'));\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n            expect(response.body.error).toContain('blew up');\n            expect(response.statusCode).toEqual(HttpStatus.INTERNAL_SERVER_ERROR);\n        });\n\n        it('passes calls on to RfqtService', async () => {\n            mockRfqtService.getV1PricesAsync.mockResolvedValue([]);\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(mockRfqtService.getV1PricesAsync.mock.calls[0]).toMatchInlineSnapshot(`\n                Array [\n                  Object {\n                    \"altRfqAssetOfferings\": Object {},\n                    \"assetFillAmount\": \"100\",\n                    \"chainId\": 1337,\n                    \"comparisonPrice\": undefined,\n                    \"integrator\": Object {\n                      \"allowedChainIds\": Array [\n                        1337,\n                      ],\n                      \"apiKeys\": Array [],\n                      \"integratorId\": \"uuid-integrator-id\",\n                      \"label\": \"Polygon Swap Machine\",\n                      \"plp\": false,\n                      \"rfqm\": false,\n                      \"rfqt\": true,\n                    },\n                    \"integratorId\": \"uuid-polygon-swap-machine\",\n                    \"intentOnFilling\": false,\n                    \"makerToken\": \"0xmakertoken\",\n                    \"marketOperation\": \"Buy\",\n                    \"takerAddress\": \"0xtakeraddress\",\n                    \"takerToken\": \"0xtakertoken\",\n                    \"txOrigin\": \"0xtxorigin\",\n                  },\n                ]\n            `);\n        });\n\n        it('returns prices from RFQt Service', async () => {\n            const price: V4RFQIndicativeQuoteMM = {\n                makerUri: 'http://maker-uri',\n                makerToken: '0xmakertoken',\n                makerAmount: new BigNumber(1234),\n                takerToken: '0xtakertoken',\n                takerAmount: new BigNumber(9876),\n                expiry: new BigNumber(6969642069),\n            };\n\n            mockRfqtService.getV1PricesAsync.mockResolvedValue([price]);\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(response.body.prices[0]).toStrictEqual(convertBigNumbersToJson(price));\n            expect(response.statusCode).toEqual(HttpStatus.OK);\n        });\n    });\n\n    describe('getV1QuotesAsync', () => {\n        it('responds with an error if the underlying service call fails', async () => {\n            mockRfqtService.getV1QuotesAsync.mockRejectedValueOnce(new Error('The service blew up'));\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1QuotesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: true,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n            expect(response.body.error).toContain('blew up');\n            expect(response.statusCode).toEqual(HttpStatus.INTERNAL_SERVER_ERROR);\n        });\n\n        it('passes calls on to RfqtService', async () => {\n            mockRfqtService.getV1QuotesAsync.mockResolvedValue([]);\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1QuotesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: true,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(mockRfqtService.getV1QuotesAsync.mock.calls[0]).toMatchInlineSnapshot(`\n                Array [\n                  Object {\n                    \"altRfqAssetOfferings\": Object {},\n                    \"assetFillAmount\": \"100\",\n                    \"chainId\": 1337,\n                    \"comparisonPrice\": undefined,\n                    \"integrator\": Object {\n                      \"allowedChainIds\": Array [\n                        1337,\n                      ],\n                      \"apiKeys\": Array [],\n                      \"integratorId\": \"uuid-integrator-id\",\n                      \"label\": \"Polygon Swap Machine\",\n                      \"plp\": false,\n                      \"rfqm\": false,\n                      \"rfqt\": true,\n                    },\n                    \"integratorId\": \"uuid-polygon-swap-machine\",\n                    \"intentOnFilling\": true,\n                    \"makerToken\": \"0xmakertoken\",\n                    \"marketOperation\": \"Buy\",\n                    \"takerAddress\": \"0xtakeraddress\",\n                    \"takerToken\": \"0xtakertoken\",\n                    \"txOrigin\": \"0xtxorigin\",\n                  },\n                ]\n            `);\n        });\n\n        it('returns quotes from RFQt Service', async () => {\n            const quote: SignedNativeOrder = {\n                order: {\n                    txOrigin: '0xtxorigin',\n                    pool: '0xswimmingpool',\n                    salt: new BigNumber(21),\n                    makerToken: '0xmakertoken',\n                    makerAmount: new BigNumber(1234),\n                    takerToken: '0xtakertoken',\n                    takerAmount: new BigNumber(9876),\n                    expiry: new BigNumber(6969642069),\n                    maker: '0xmakeraddress',\n                    taker: '0xtakeraddress',\n                    chainId: 1337,\n                    verifyingContract: '0xdef1',\n                },\n                type: FillQuoteTransformerOrderType.Rfq,\n                signature: {\n                    v: 1,\n                    r: '',\n                    s: '',\n                    signatureType: SignatureType.EthSign,\n                },\n            };\n\n            mockRfqtService.getV1QuotesAsync.mockResolvedValue([quote]);\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV1QuotesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(response.body.quotes[0]).toStrictEqual(convertBigNumbersToJson(quote));\n            expect(response.statusCode).toEqual(HttpStatus.OK);\n        });\n    });\n\n    describe('parameter verification with _retrieveQuoteContext', () => {\n        it('throws if a required parameter is missing', async () => {\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({ makerToken: '0xmakertoken' });\n\n            expect(response.body.error).toContain('missing parameter');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n\n        it('throws if the chain ID is invalid', async () => {\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 'liger' })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 'liger',\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Trade', // Invalid\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-integrator-id',\n                });\n\n            expect(response.body.error).toContain('Chain ID is invalid');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n\n        it('throws with an invalid market operation', async () => {\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Trade', // Invalid\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-integrator-id',\n                });\n\n            expect(response.body.error).toContain('invalid market operation');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n\n        it('throws when the integrator does not exist', async () => {\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                throw new Error(\"explodes because the integrator doesn't exist\");\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-ghost-integrator-id',\n                });\n\n            expect(response.body.error).toContain('No integrator found for integrator ID');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n\n        it('throws if there is no RFQt service for the chain id', async () => {\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 21 })\n                .send({\n                    altRfqAssetOfferings: {},\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 21, // No RFQt service exists for 21\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(response.body.error).toContain('No configuration exists for chain');\n            expect(response.statusCode).toEqual(HttpStatus.BAD_REQUEST);\n        });\n    });\n\n    describe('getV2PriceAsync', () => {\n        it('responds with an error if the underlying service call fails', async () => {\n            mockRfqtService.getV2PricesAsync.mockRejectedValueOnce(new Error('The service blew up'));\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n            expect(response.body.error).toContain('blew up');\n            expect(response.statusCode).toEqual(HttpStatus.INTERNAL_SERVER_ERROR);\n        });\n\n        it('passes calls on to RfqtService', async () => {\n            mockRfqtService.getV2PricesAsync.mockResolvedValue([]);\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(mockRfqtService.getV2PricesAsync.mock.calls[0]).toMatchInlineSnapshot(`\n                Array [\n                  Object {\n                    \"assetFillAmount\": \"100\",\n                    \"bucket\": undefined,\n                    \"chainId\": 1337,\n                    \"feeModelVersion\": 1,\n                    \"integrator\": Object {\n                      \"allowedChainIds\": Array [\n                        1337,\n                      ],\n                      \"apiKeys\": Array [],\n                      \"integratorId\": \"uuid-integrator-id\",\n                      \"label\": \"Polygon Swap Machine\",\n                      \"plp\": false,\n                      \"rfqm\": false,\n                      \"rfqt\": true,\n                    },\n                    \"isFirm\": false,\n                    \"isSelling\": false,\n                    \"isUnwrap\": false,\n                    \"makerAmount\": \"100\",\n                    \"makerToken\": \"0xmakertoken\",\n                    \"makerTokenDecimals\": 18,\n                    \"originalMakerToken\": \"0xmakertoken\",\n                    \"takerAddress\": \"0xtakeraddress\",\n                    \"takerAmount\": undefined,\n                    \"takerToken\": \"0xtakertoken\",\n                    \"takerTokenDecimals\": 18,\n                    \"trader\": \"0xtakeraddress\",\n                    \"txOrigin\": \"0xtxorigin\",\n                    \"workflow\": \"rfqt\",\n                  },\n                ]\n            `);\n        });\n\n        it('returns prices from RFQt Service', async () => {\n            const prices: RfqtV2Price[] = [\n                {\n                    makerId: 'maker1',\n                    makerUri: 'http://maker-uri',\n                    makerAddress: 'maker-address',\n                    makerToken: '0xmakertoken',\n                    makerAmount: new BigNumber(1234),\n                    takerToken: '0xtakertoken',\n                    takerAmount: new BigNumber(9876),\n                    expiry: new BigNumber(6969642069),\n                },\n            ];\n\n            mockRfqtService.getV2PricesAsync.mockResolvedValue(prices);\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2PricesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(response.body.prices[0]).toStrictEqual(convertBigNumbersToJson(prices[0]));\n            expect(response.statusCode).toEqual(HttpStatus.OK);\n        });\n    });\n\n    describe('getV2QuotesAsync', () => {\n        it('responds with an error if the underlying service call fails', async () => {\n            mockRfqtService.getV2QuotesAsync.mockRejectedValueOnce(new Error('The service blew up'));\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2QuotesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: true,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n            expect(response.body.error).toContain('blew up');\n            expect(response.statusCode).toEqual(HttpStatus.INTERNAL_SERVER_ERROR);\n        });\n\n        it('passes calls on to RfqtService', async () => {\n            mockRfqtService.getV2QuotesAsync.mockResolvedValue([]);\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2QuotesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: true,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(mockRfqtService.getV2QuotesAsync.mock.calls[0]).toMatchInlineSnapshot(`\n                Array [\n                  Object {\n                    \"assetFillAmount\": \"100\",\n                    \"bucket\": undefined,\n                    \"chainId\": 1337,\n                    \"feeModelVersion\": 1,\n                    \"integrator\": Object {\n                      \"allowedChainIds\": Array [\n                        1337,\n                      ],\n                      \"apiKeys\": Array [],\n                      \"integratorId\": \"uuid-integrator-id\",\n                      \"label\": \"Polygon Swap Machine\",\n                      \"plp\": false,\n                      \"rfqm\": false,\n                      \"rfqt\": true,\n                    },\n                    \"isFirm\": true,\n                    \"isSelling\": false,\n                    \"isUnwrap\": false,\n                    \"makerAmount\": \"100\",\n                    \"makerToken\": \"0xmakertoken\",\n                    \"makerTokenDecimals\": 18,\n                    \"originalMakerToken\": \"0xmakertoken\",\n                    \"takerAddress\": \"0xtakeraddress\",\n                    \"takerAmount\": undefined,\n                    \"takerToken\": \"0xtakertoken\",\n                    \"takerTokenDecimals\": 18,\n                    \"trader\": \"0xtakeraddress\",\n                    \"txOrigin\": \"0xtxorigin\",\n                    \"workflow\": \"rfqt\",\n                  },\n                ]\n            `);\n        });\n\n        it('returns quotes from RFQt Service', async () => {\n            const quotes: RfqtV2Quote[] = [\n                {\n                    fillableMakerAmount: new BigNumber(1234),\n                    fillableTakerAmount: new BigNumber(9876),\n                    fillableTakerFeeAmount: new BigNumber(0),\n                    makerId: 'maker1',\n                    makerUri: 'https://maker-uri',\n                    order: new OtcOrder({\n                        txOrigin: '0xtxorigin',\n                        makerToken: '0xmakertoken',\n                        makerAmount: new BigNumber(1234),\n                        takerToken: '0xtakertoken',\n                        takerAmount: new BigNumber(9876),\n                        expiryAndNonce: new BigNumber(6969642069),\n                        maker: '0xmakeraddress',\n                        taker: '0xtakeraddress',\n                        chainId: 1337,\n                        verifyingContract: '0xdef1',\n                    }),\n                    signature: {\n                        v: 1,\n                        r: '',\n                        s: '',\n                        signatureType: SignatureType.EthSign,\n                    },\n                },\n            ];\n\n            mockRfqtService.getV2QuotesAsync.mockResolvedValue(quotes);\n\n            mockConfigManager.getIntegratorByIdOrThrow.mockImplementationOnce(() => {\n                const integrator: Integrator = {\n                    apiKeys: [],\n                    integratorId: 'uuid-integrator-id',\n                    // tslint:disable-next-line: custom-no-magic-numbers\n                    allowedChainIds: [1337],\n                    label: 'Polygon Swap Machine',\n                    plp: false,\n                    rfqm: false,\n                    rfqt: true,\n                };\n                return integrator;\n            });\n\n            const response = await supertest(\n                express()\n                    .use(express.json())\n                    .post('/', asyncHandler(rfqtHandlers.getV2QuotesAsync.bind(rfqtHandlers))),\n            )\n                .post('/')\n                .set({ 'Content-type': 'application/json', '0x-chain-id': 1337 })\n                .send({\n                    assetFillAmount: new BigNumber(100),\n                    chainId: 1337,\n                    makerToken: '0xmakertoken',\n                    marketOperation: 'Buy',\n                    takerToken: '0xtakertoken',\n                    takerAddress: '0xtakeraddress',\n                    txOrigin: '0xtxorigin',\n                    intentOnFilling: false,\n                    integratorId: 'uuid-polygon-swap-machine',\n                });\n\n            expect(response.body.quotes[0]).toStrictEqual(convertBigNumbersToJson(quotes[0]));\n            expect(response.statusCode).toEqual(HttpStatus.OK);\n        });\n    });\n});\n\n/**\n * Deeply transforms object keys from BigNumber to JSON\n */\n// $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction convertBigNumbersToJson(x: Record<string, any>): Record<string, any> {\n    return mapValues(x, (v) => {\n        if (v instanceof BigNumber) {\n            return v.toJSON();\n        }\n        if (v instanceof Object) {\n            return convertBigNumbersToJson(v);\n        }\n        return v;\n    });\n}\n"],"version":3}