549c553657c68e42f23b898ed7956a2a
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const protocol_utils_1 = require("@0x/protocol-utils");
const utils_1 = require("@0x/utils");
const chai_1 = require("chai");
const ethers_1 = require("ethers");
const _ = require("lodash");
const sqs_producer_1 = require("sqs-producer");
const ts_mockito_1 = require("ts-mockito");
const constants_1 = require("../../src/core/constants");
const entities_1 = require("../../src/entities");
const MetaTransactionSubmissionEntity_1 = require("../../src/entities/MetaTransactionSubmissionEntity");
const types_1 = require("../../src/entities/types");
const logger_1 = require("../../src/logger");
const rfq_maker_balance_cache_service_1 = require("../../src/services/rfq_maker_balance_cache_service");
const WorkerService_1 = require("../../src/services/WorkerService");
const cache_client_1 = require("../../src/utils/cache_client");
const GasStationAttendantEthereum_1 = require("../../src/utils/GasStationAttendantEthereum");
const quote_server_client_1 = require("../../src/utils/quote_server_client");
const rfqm_db_utils_1 = require("../../src/utils/rfqm_db_utils");
const rfq_blockchain_utils_1 = require("../../src/utils/rfq_blockchain_utils");
const rfq_maker_manager_1 = require("../../src/utils/rfq_maker_manager");
const signature_utils_1 = require("../../src/utils/signature_utils");
const SubmissionContext_1 = require("../../src/utils/SubmissionContext");
const constants_2 = require("../constants");
// $eslint-fix-me https://github.com/rhinodavid/eslint-fix-me
// eslint-disable-next-line @typescript-eslint/no-loss-of-precision
const MOCK_WORKER_REGISTRY_ADDRESS = '0x1023331a469c6391730ff1E2749422CE8873EC38';
const MOCK_GAS_PRICE = new utils_1.BigNumber(100);
const TEST_RFQM_TRANSACTION_WATCHER_SLEEP_TIME_MS = 50;
const WORKER_FULL_BALANCE_WEI = new utils_1.BigNumber(1).shiftedBy(constants_1.ETH_DECIMALS);
let loggerSpy;
const buildWorkerServiceForUnitTest = (overrides = {}) => {
    const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
    (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(MOCK_GAS_PRICE);
    const gasStationAttendantInstance = (0, ts_mockito_1.instance)(gasStationAttendantMock);
    const rfqBlockchainUtilsMock = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
    (0, ts_mockito_1.when)(rfqBlockchainUtilsMock.getAccountBalanceAsync(MOCK_WORKER_REGISTRY_ADDRESS)).thenResolve(WORKER_FULL_BALANCE_WEI);
    const sqsMock = (0, ts_mockito_1.mock)(sqs_producer_1.Producer);
    (0, ts_mockito_1.when)(sqsMock.queueSize()).thenResolve(0);
    const quoteServerClientMock = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
    const cacheClientMock = (0, ts_mockito_1.mock)(cache_client_1.CacheClient);
    const defaultDbUtilsMock = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
    const rfqMakerBalanceCacheServiceMock = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
    const rfqMakerManagerMock = (0, ts_mockito_1.mock)(rfq_maker_manager_1.RfqMakerManager);
    return new WorkerService_1.WorkerService(1, overrides.gasStationAttendant || gasStationAttendantInstance, MOCK_WORKER_REGISTRY_ADDRESS, overrides.rfqBlockchainUtils || (0, ts_mockito_1.instance)(rfqBlockchainUtilsMock), overrides.dbUtils || (0, ts_mockito_1.instance)(defaultDbUtilsMock), overrides.quoteServerClient || quoteServerClientMock, TEST_RFQM_TRANSACTION_WATCHER_SLEEP_TIME_MS, overrides.cacheClient || cacheClientMock, overrides.rfqMakerBalanceCacheService || (0, ts_mockito_1.instance)(rfqMakerBalanceCacheServiceMock), overrides.rfqMakerManager || rfqMakerManagerMock, overrides.initialMaxPriorityFeePerGasGwei || 2, overrides.maxFeePerGasGwei || 128, overrides.enableAccessList);
};
const createMeaTrsanctionJobEntity = (opts, id) => {
    const job = new entities_1.MetaTransactionJobEntity(opts);
    job.id = id;
    return job;
};
const createMetaTransactionSubmissionEntity = (opts, id) => {
    const submission = new MetaTransactionSubmissionEntity_1.MetaTransactionSubmissionEntity(opts);
    submission.id = id;
    return submission;
};
const fakeClockMs = 1637722898000;
const fakeOneMinuteAgoS = fakeClockMs / constants_1.ONE_SECOND_MS - 60;
const fakeFiveMinutesLater = fakeClockMs / constants_1.ONE_SECOND_MS + 300;
const maker = '0xbb004090d26845b672f17c6da4b7d162df3bfc5e';
const orderHash = '0x112160fb0933ecde720f63b50b303ce64e52ded702bef78b9c20361f3652a462';
// This sig actually belongs to the maker above
const validEIP712Sig = {
    signatureType: protocol_utils_1.SignatureType.EIP712,
    v: 28,
    r: '0xdc158f7b53b940863bc7b001552a90282e51033f29b73d44a2701bd16faa19d2',
    s: '0x55f6c5470e41b39a5ddeb63c22f8ba1d34748f93265715b9dc4a0f10138985a6',
};
// This is a real signature that had a missing byte
const missingByteSig = {
    r: '0x568b31076e1c65954adb1bccc723718b3460f1b699ce1252f8a83bda0d521005',
    s: '0x0307cc7f4161df812f7e5a651b23dbd33981c0410df0dd820a52f61be7a5ab',
    v: 28,
    signatureType: protocol_utils_1.SignatureType.EthSign,
};
jest.setTimeout(constants_1.ONE_SECOND_MS * 120);
describe('WorkerService', () => {
    beforeEach(() => {
        loggerSpy = (0, ts_mockito_1.spy)(logger_1.logger);
    });
    describe('workerBeforeLogicAsync', () => {
        it('calls `processJobAsync` with the correct arguments', async () => {
            const workerIndex = 0;
            const workerAddress = MOCK_WORKER_REGISTRY_ADDRESS;
            const jobId = 'jobId';
            const metaTransactionJob = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const rfqmV2Job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress,
            });
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const blockchainUtilsMock = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(blockchainUtilsMock.getAccountBalanceAsync(workerAddress)).thenResolve(WORKER_FULL_BALANCE_WEI);
            const dbUtilsMock = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(dbUtilsMock.findV2UnresolvedJobsAsync(workerAddress, (0, ts_mockito_1.anything)())).thenResolve([rfqmV2Job]);
            (0, ts_mockito_1.when)(dbUtilsMock.findUnresolvedMetaTransactionJobsAsync(workerAddress, (0, ts_mockito_1.anything)())).thenResolve([
                metaTransactionJob,
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(dbUtilsMock),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(blockchainUtilsMock),
                gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
            });
            const spiedRfqmService = (0, ts_mockito_1.spy)(rfqmService);
            (0, ts_mockito_1.when)(spiedRfqmService.processJobAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve();
            await rfqmService.workerBeforeLogicAsync(workerIndex, workerAddress);
            (0, ts_mockito_1.verify)(spiedRfqmService.processJobAsync(orderHash, workerAddress, 'rfqm_v2_job')).once();
            (0, ts_mockito_1.verify)(spiedRfqmService.processJobAsync(jobId, workerAddress, 'meta_transaction_job')).once();
        });
    });
    describe('processJobAsync', () => {
        it('fails if no rfqm v2 job is found', async () => {
            // Return `undefined` for v1 and v2 job for orderhash
            const dbUtilsMock = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(dbUtilsMock.findV2JobByOrderHashAsync('0x01234567')).thenResolve(null);
            const rfqmService = buildWorkerServiceForUnitTest({ dbUtils: (0, ts_mockito_1.instance)(dbUtilsMock) });
            await rfqmService.processJobAsync('0x01234567', '0xworkeraddress');
            (0, chai_1.expect)((0, ts_mockito_1.capture)(loggerSpy.error).last()[0]).to.include({
                errorMessage: 'No job found for identifier',
            });
        });
        it('fails if a worker ends up with a job assigned to a different worker for a rfqm v2 job', async () => {
            const dbUtilsMock = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(dbUtilsMock.findV2JobByOrderHashAsync('0x01234567')).thenResolve(new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeOneMinuteAgoS),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeOneMinuteAgoS.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '',
                        makerAmount: '',
                        makerToken: '',
                        taker: '',
                        takerAmount: '',
                        takerToken: '',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                updatedAt: new Date(),
                workerAddress: '0xwrongworkeraddress',
            }));
            const rfqmService = buildWorkerServiceForUnitTest({ dbUtils: (0, ts_mockito_1.instance)(dbUtilsMock) });
            await rfqmService.processJobAsync('0x01234567', '0xworkeraddress');
            (0, chai_1.expect)((0, ts_mockito_1.capture)(loggerSpy.error).last()[0]).to.include({
                errorMessage: 'Worker was sent a job claimed by a different worker',
            });
        });
        it('fails if no meta-transaction job is found', async () => {
            const dbUtilsMock = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const jobId = 'jobId';
            (0, ts_mockito_1.when)(dbUtilsMock.findMetaTransactionJobByIdAsync(jobId)).thenResolve(null);
            const rfqmService = buildWorkerServiceForUnitTest({ dbUtils: (0, ts_mockito_1.instance)(dbUtilsMock) });
            await rfqmService.processJobAsync(jobId, '0xworkeraddress', 'meta_transaction_job');
            (0, chai_1.expect)((0, ts_mockito_1.capture)(loggerSpy.error).last()[0]).to.include({
                errorMessage: 'No job found for identifier',
            });
        });
        it('fails if a worker ends up with a job assigned to a different worker for a meta-transaction job', async () => {
            const jobId = 'jobId';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: 'inputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xwrongworkeraddress',
                approval: constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL,
                approvalSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
            }, jobId);
            const dbUtilsMock = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(dbUtilsMock.findMetaTransactionJobByIdAsync(jobId)).thenResolve(job);
            const rfqmService = buildWorkerServiceForUnitTest({ dbUtils: (0, ts_mockito_1.instance)(dbUtilsMock) });
            await rfqmService.processJobAsync(jobId, '0xworkeraddress', 'meta_transaction_job');
            (0, chai_1.expect)((0, ts_mockito_1.capture)(loggerSpy.error).last()[0]).to.include({
                errorMessage: 'Worker was sent a job claimed by a different worker',
            });
        });
    });
    describe('processApprovalAndTradeAsync', () => {
        it('throws if non-approval job is supplied to the method for a rfqm v2 job', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const rfqmService = buildWorkerServiceForUnitTest();
            try {
                await rfqmService.processApprovalAndTradeAsync(job, '0xworkeraddress');
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Non-approval job should not be processed by `processApprovalAndTradeAsync`');
            }
        });
        it('should not proceed to trade transaction if the status of approval transaction is not `SucceededConfirmed` for a rfqm v2 job', async () => {
            const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(nowS + 10),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(nowS + 10), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
                approval: constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL,
                approvalSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
            });
            const mockPresubmitTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                createdAt: new Date(1233),
                from: '0xworkeraddress',
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                orderHash: '0x01234567',
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xpresubmittransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Approval,
            });
            const mockTransactionReceipt = {
                blockHash: '0xblockhash',
                blockNumber: 1,
                byzantium: true,
                confirmations: 3,
                contractAddress: '0xexchangeproxyaddress',
                cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                effectiveGasPrice: ethers_1.BigNumber.from(1000),
                from: '0xworkeraddress',
                gasUsed: ethers_1.BigNumber.from(10000),
                logs: [],
                logsBloom: '',
                status: 0,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xpresubmittransactionhash',
                transactionIndex: 0,
                type: 2,
            };
            const mockMinedBlock = {
                _difficulty: ethers_1.BigNumber.from(2),
                difficulty: 2,
                extraData: '',
                gasLimit: ethers_1.BigNumber.from(1000),
                gasUsed: ethers_1.BigNumber.from(1000),
                hash: '0xblockhash',
                miner: '0xminer',
                nonce: '0x000',
                number: 21,
                parentHash: '0xparentblockhash',
                timestamp: 12345,
                transactions: ['0xpresubmittransactionhash'],
            };
            const mockNonce = 0;
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            // when(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync(anything())).thenResolve([]);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync((0, ts_mockito_1.anything)(), types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([mockPresubmitTransaction]);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(validEIP712Sig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.isValidOrderSignerAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(true);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getTokenBalancesAsync((0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(1000000000)]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve('0xcalldata');
            (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xpresubmittransactionhash']))).thenResolve([
                mockTransactionReceipt,
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getBlockAsync('0xblockhash')).thenResolve(mockMinedBlock);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getDecodedRfqOrderFillEventLogFromLogs((0, ts_mockito_1.anything)())).thenReturn({
                event: '',
                logIndex: null,
                transactionIndex: null,
                transactionHash: '',
                blockHash: '',
                address: '',
                data: '',
                blockNumber: 0,
                topics: [],
                args: {
                    maker: '',
                    makerToken: '',
                    makerTokenFilledAmount: new utils_1.BigNumber(1234),
                    orderHash: '',
                    pool: '',
                    taker: '',
                    takerToken: '',
                    takerTokenFilledAmount: new utils_1.BigNumber(5),
                },
            });
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            await rfqmService.processApprovalAndTradeAsync(job, '0xworkeraddress');
            (0, chai_1.expect)(updateRfqmJobCalledArgs[0].status).to.equal(types_1.RfqmJobStatus.PendingProcessing);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[1].status).to.equal(types_1.RfqmJobStatus.PendingLastLookAccepted);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[updateRfqmJobCalledArgs.length - 1].status).to.equal(types_1.RfqmJobStatus.FailedRevertedConfirmed);
            (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.FailedRevertedConfirmed);
        });
        it('should proceed to trade transaction if the status of approval transaction is `SucceededConfirmed` for a rfqm v2 job', async () => {
            const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(nowS + 10),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(nowS + 10), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
                approval: constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL,
                approvalSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
            });
            const mockPresubmitApprovalTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                createdAt: new Date(1233),
                from: '0xworkeraddress',
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                orderHash: '0x01234567',
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xpresubmittransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Approval,
            });
            const mockPresubmitTradeTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                createdAt: new Date(1233),
                from: '0xworkeraddress',
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                orderHash: '0x01234567',
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xpresubmittransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Trade,
            });
            const mockTransactionReceipt = {
                blockHash: '0xblockhash',
                blockNumber: 1,
                byzantium: true,
                confirmations: 3,
                contractAddress: '0xexchangeproxyaddress',
                cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                effectiveGasPrice: ethers_1.BigNumber.from(1000),
                from: '0xworkeraddress',
                gasUsed: ethers_1.BigNumber.from(10000),
                logs: [],
                logsBloom: '',
                status: 1,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xpresubmittransactionhash',
                transactionIndex: 0,
                type: 2,
            };
            const mockMinedBlock = {
                _difficulty: ethers_1.BigNumber.from(2),
                difficulty: 2,
                extraData: '',
                gasLimit: ethers_1.BigNumber.from(1000),
                gasUsed: ethers_1.BigNumber.from(1000),
                hash: '0xblockhash',
                miner: '0xminer',
                nonce: '0x000',
                number: 21,
                parentHash: '0xparentblockhash',
                timestamp: 12345,
                transactions: ['0xpresubmittransactionhash'],
            };
            const mockNonce = 0;
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            // when(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync(anything())).thenResolve([]);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync((0, ts_mockito_1.anything)(), types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([mockPresubmitApprovalTransaction]);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync((0, ts_mockito_1.anything)(), types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([mockPresubmitTradeTransaction]);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync((0, ts_mockito_1.anything)())).thenResolve([
                mockPresubmitTradeTransaction,
            ]);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(validEIP712Sig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.isValidOrderSignerAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(true);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getTokenBalancesAsync((0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(1000000000)]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForFillTakerSignedOtcOrderAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(0);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateTakerSignedOtcOrderCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xcalldata');
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve('0xcalldata');
            (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xpresubmittransactionhash']))).thenResolve([
                mockTransactionReceipt,
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getBlockAsync('0xblockhash')).thenResolve(mockMinedBlock);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getDecodedRfqOrderFillEventLogFromLogs((0, ts_mockito_1.anything)())).thenReturn({
                event: '',
                logIndex: null,
                transactionIndex: null,
                transactionHash: '',
                blockHash: '',
                address: '',
                data: '',
                blockNumber: 0,
                topics: [],
                args: {
                    maker: '',
                    makerToken: '',
                    makerTokenFilledAmount: new utils_1.BigNumber(1234),
                    orderHash: '',
                    pool: '',
                    taker: '',
                    takerToken: '',
                    takerTokenFilledAmount: new utils_1.BigNumber(5),
                },
            });
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            await rfqmService.processApprovalAndTradeAsync(job, '0xworkeraddress');
            (0, chai_1.expect)(updateRfqmJobCalledArgs[0].status).to.equal(types_1.RfqmJobStatus.PendingProcessing);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[1].status).to.equal(types_1.RfqmJobStatus.PendingLastLookAccepted);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[2].status).to.equal(types_1.RfqmJobStatus.PendingSubmitted);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[updateRfqmJobCalledArgs.length - 1].status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
            (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
        });
        it('throws if non-approval job is supplied to the method for a meta-transaction job', async () => {
            const jobId = 'jobId';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const rfqmService = buildWorkerServiceForUnitTest();
            try {
                await rfqmService.processApprovalAndTradeAsync(job, '0xworkeraddress');
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Non-approval job should not be processed by `processApprovalAndTradeAsync`');
            }
        });
        it('should not proceed to trade transaction if the status of approval transaction is not `SucceededConfirmed` for a meta-transaction job', async () => {
            const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
            const jobId = 'jobId';
            const transactionSubmissionId = 'submissionId';
            const inputToken = '0xinputToken';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(nowS + 600),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken,
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
                approval: constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL,
                approvalSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
            }, jobId);
            const mockTransaction = createMetaTransactionSubmissionEntity({
                from: '0xworkeraddress',
                metaTransactionJobId: jobId,
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Approval,
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
            }, transactionSubmissionId);
            const mockTransactionReceipt = {
                blockHash: '0xblockhash',
                blockNumber: 1,
                byzantium: true,
                confirmations: 3,
                contractAddress: '0xexchangeproxyaddress',
                cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                effectiveGasPrice: ethers_1.BigNumber.from(1000),
                from: '0xworkeraddress',
                gasUsed: ethers_1.BigNumber.from(10000),
                logs: [],
                logsBloom: '',
                status: 0,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash',
                transactionIndex: 0,
                type: 2,
            };
            const mockMinedBlock = {
                _difficulty: ethers_1.BigNumber.from(2),
                difficulty: 2,
                extraData: '',
                gasLimit: ethers_1.BigNumber.from(1000),
                gasUsed: ethers_1.BigNumber.from(1000),
                hash: '0xblockhash',
                miner: '0xminer',
                nonce: '0x000',
                number: 21,
                parentHash: '0xparentblockhash',
                timestamp: 12345,
                transactions: ['0xsignedtransactionhash'],
            };
            const mockNonce = 0;
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([mockTransaction]);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.isValidOrderSignerAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(true);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getTokenBalancesAsync((0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(1000000000)]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync(inputToken, (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve('0xcalldata');
            (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                mockTransactionReceipt,
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getBlockAsync('0xblockhash')).thenResolve(mockMinedBlock);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            await rfqmService.processApprovalAndTradeAsync(job, '0xworkeraddress');
            (0, chai_1.expect)(updateRfqmJobCalledArgs[0].status).to.equal(types_1.RfqmJobStatus.PendingProcessing);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[updateRfqmJobCalledArgs.length - 1].status).to.equal(types_1.RfqmJobStatus.FailedRevertedConfirmed);
            (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.FailedRevertedConfirmed);
        });
        it('should proceed to trade transaction if the status of approval transaction is `SucceededConfirmed` for a meta-transaction job', async () => {
            const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
            const jobId = 'jobId';
            const transactionSubmissionId1 = 'submissionId1';
            const transactionSubmissionId2 = 'submissionId2';
            const inputToken = '0xinputToken';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(nowS + 600),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken,
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
                approval: constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL,
                approvalSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
            }, jobId);
            const mockApprovalTransaction = createMetaTransactionSubmissionEntity({
                from: '0xworkeraddress',
                metaTransactionJobId: jobId,
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash1',
                type: types_1.RfqmTransactionSubmissionType.Approval,
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
            }, transactionSubmissionId1);
            const mockTradeTransaction = createMetaTransactionSubmissionEntity({
                from: '0xworkeraddress',
                metaTransactionJobId: jobId,
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash2',
                type: types_1.RfqmTransactionSubmissionType.Trade,
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
            }, transactionSubmissionId2);
            const mockApprovalTransactionReceipt = {
                blockHash: '0xblockhash',
                blockNumber: 1,
                byzantium: true,
                confirmations: 3,
                contractAddress: '0xexchangeproxyaddress',
                cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                effectiveGasPrice: ethers_1.BigNumber.from(1000),
                from: '0xworkeraddress',
                gasUsed: ethers_1.BigNumber.from(10000),
                logs: [],
                logsBloom: '',
                status: 1,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash1',
                transactionIndex: 0,
                type: 2,
            };
            const mockTradeTransactionReceipt = {
                blockHash: '0xblockhash',
                blockNumber: 1,
                byzantium: true,
                confirmations: 3,
                contractAddress: '0xexchangeproxyaddress',
                cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                effectiveGasPrice: ethers_1.BigNumber.from(1000),
                from: '0xworkeraddress',
                gasUsed: ethers_1.BigNumber.from(10000),
                logs: [],
                logsBloom: '',
                status: 1,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash2',
                transactionIndex: 0,
                type: 2,
            };
            const mockMinedBlock = {
                _difficulty: ethers_1.BigNumber.from(2),
                difficulty: 2,
                extraData: '',
                gasLimit: ethers_1.BigNumber.from(1000),
                gasUsed: ethers_1.BigNumber.from(1000),
                hash: '0xblockhash',
                miner: '0xminer',
                nonce: '0x000',
                number: 21,
                parentHash: '0xparentblockhash',
                timestamp: 12345,
                transactions: ['0xsignedtransactionhash1', '0xsignedtransactionhash2'],
            };
            const mockNonce = 0;
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([mockApprovalTransaction]);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([mockTradeTransaction]);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId)).thenResolve([mockTradeTransaction]);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.isValidOrderSignerAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(true);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getTokenBalancesAsync((0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(1000000000)]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(0);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateMetaTransactionCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xcalldata');
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve('0xcalldata');
            (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash1']))).thenResolve([
                mockApprovalTransactionReceipt,
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash2']))).thenResolve([
                mockTradeTransactionReceipt,
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getBlockAsync('0xblockhash')).thenResolve(mockMinedBlock);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            await rfqmService.processApprovalAndTradeAsync(job, '0xworkeraddress');
            (0, chai_1.expect)(updateRfqmJobCalledArgs[0].status).to.equal(types_1.RfqmJobStatus.PendingProcessing);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[1].status).to.equal(types_1.RfqmJobStatus.PendingSubmitted);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[updateRfqmJobCalledArgs.length - 1].status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
            (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
        });
    });
    describe('processTradeAsync', () => {
        it('should process a rfqm v2 job trade successfully', async () => {
            const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(nowS + 10),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(nowS + 10), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '0xworkeraddress',
            });
            const mockTransactionRequest = {};
            const mockTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                from: '0xworkeraddress',
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                orderHash: '0x01234567',
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Trade,
            });
            const mockTransactionReceipt = {
                blockHash: '0xblockhash',
                blockNumber: 1,
                byzantium: true,
                confirmations: 3,
                contractAddress: '0xexchangeproxyaddress',
                cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                effectiveGasPrice: ethers_1.BigNumber.from(1000),
                from: '0xworkeraddress',
                gasUsed: ethers_1.BigNumber.from(10000),
                logs: [],
                logsBloom: '',
                status: 1,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash',
                transactionIndex: 0,
                type: 2,
            };
            const mockMinedBlock = {
                _difficulty: ethers_1.BigNumber.from(2),
                difficulty: 2,
                extraData: '',
                gasLimit: ethers_1.BigNumber.from(1000),
                gasUsed: ethers_1.BigNumber.from(1000),
                hash: '0xblockhash',
                miner: '0xminer',
                nonce: '0x000',
                number: 21,
                parentHash: '0xparentblockhash',
                timestamp: 12345,
                transactions: ['0xpresubmittransactionhash'],
            };
            const mockNonce = 0;
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync((0, ts_mockito_1.anything)())).thenResolve([]);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync((0, ts_mockito_1.anything)(), types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([]);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionByTransactionHashAsync('0xsignedtransactionhash')).thenResolve(_.cloneDeep(mockTransaction));
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(validEIP712Sig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getExchangeProxyAddress()).thenReturn('0xexchangeproxyaddress');
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateTakerSignedOtcOrderCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xcalldata');
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForFillTakerSignedOtcOrderAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(0);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(100);
            (0, ts_mockito_1.when)(mockBlockchainUtils.transformTxDataToTransactionRequest((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(mockTransactionRequest);
            (0, ts_mockito_1.when)(mockBlockchainUtils.submitSignedTransactionAsync((0, ts_mockito_1.anything)())).thenResolve('0xsignedtransactionhash');
            (0, ts_mockito_1.when)(mockBlockchainUtils.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
                signedTransaction: 'signedTransaction',
                transactionHash: '0xsignedtransactionhash',
            });
            (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                mockTransactionReceipt,
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getBlockAsync('0xblockhash')).thenResolve(mockMinedBlock);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            await rfqmService.processTradeAsync(job, '0xworkeraddress');
            (0, chai_1.expect)(updateRfqmJobCalledArgs[0].status).to.equal(types_1.RfqmJobStatus.PendingProcessing);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[1].status).to.equal(types_1.RfqmJobStatus.PendingLastLookAccepted);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[2].status).to.equal(types_1.RfqmJobStatus.PendingSubmitted);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[updateRfqmJobCalledArgs.length - 1].status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
            (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
        });
        it('should process a meta-transaction job trade successfully', async () => {
            const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
            const jobId = 'jobId';
            const transactionSubmissionId = 'submissionId';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(nowS + 600),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const mockTransactionRequest = {};
            const mockTransaction = createMetaTransactionSubmissionEntity({
                from: '0xworkeraddress',
                metaTransactionJobId: jobId,
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Trade,
            }, transactionSubmissionId);
            const mockTransactionReceipt = {
                blockHash: '0xblockhash',
                blockNumber: 1,
                byzantium: true,
                confirmations: 3,
                contractAddress: '0xexchangeproxyaddress',
                cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                effectiveGasPrice: ethers_1.BigNumber.from(1000),
                from: '0xworkeraddress',
                gasUsed: ethers_1.BigNumber.from(10000),
                logs: [],
                logsBloom: '',
                status: 1,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash',
                transactionIndex: 0,
                type: 2,
            };
            const mockMinedBlock = {
                _difficulty: ethers_1.BigNumber.from(2),
                difficulty: 2,
                extraData: '',
                gasLimit: ethers_1.BigNumber.from(1000),
                gasUsed: ethers_1.BigNumber.from(1000),
                hash: '0xblockhash',
                miner: '0xminer',
                nonce: '0x000',
                number: 21,
                parentHash: '0xparentblockhash',
                timestamp: 12345,
                transactions: ['0xpresubmittransactionhash'],
            };
            const mockNonce = 0;
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId)).thenResolve([]);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([]);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByTransactionHashAsync('0xsignedtransactionhash', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([_.cloneDeep(mockTransaction)]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getExchangeProxyAddress()).thenReturn('0xexchangeproxyaddress');
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateMetaTransactionCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xcalldata');
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(0);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
            (0, ts_mockito_1.when)(mockBlockchainUtils.transformTxDataToTransactionRequest((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(mockTransactionRequest);
            (0, ts_mockito_1.when)(mockBlockchainUtils.submitSignedTransactionAsync((0, ts_mockito_1.anything)())).thenResolve('0xsignedtransactionhash');
            (0, ts_mockito_1.when)(mockBlockchainUtils.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
                signedTransaction: 'signedTransaction',
                transactionHash: '0xsignedtransactionhash',
            });
            (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                mockTransactionReceipt,
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getBlockAsync('0xblockhash')).thenResolve(mockMinedBlock);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            await rfqmService.processTradeAsync(job, '0xworkeraddress');
            (0, chai_1.expect)(updateRfqmJobCalledArgs[0].status).to.equal(types_1.RfqmJobStatus.PendingProcessing);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[1].status).to.equal(types_1.RfqmJobStatus.PendingSubmitted);
            (0, chai_1.expect)(updateRfqmJobCalledArgs[updateRfqmJobCalledArgs.length - 1].status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
            (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
        });
    });
    describe('validate job methods', () => {
        it('should return null for valid, unexpired v2 jobs', () => {
            const fakeInFiveMinutesS = fakeClockMs / constants_1.ONE_SECOND_MS + 360;
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeInFiveMinutesS),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(
                        /* expiry */ new utils_1.BigNumber(fakeInFiveMinutesS), 
                        /* nonceBucket */ new utils_1.BigNumber(21), 
                        /* nonce */ new utils_1.BigNumber(0)).toString(),
                        maker: '',
                        makerAmount: '',
                        makerToken: '',
                        taker: '',
                        takerAmount: '',
                        takerToken: '',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const result = WorkerService_1.WorkerService.validateRfqmV2Job(job, new Date(fakeClockMs));
            (0, chai_1.expect)(result).to.equal(null);
        });
        it('should return a No Taker Signature status for v2 jobs with no taker signature', () => {
            const fakeInFiveMinutesS = fakeClockMs / constants_1.ONE_SECOND_MS + 360;
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeInFiveMinutesS),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(
                        /* expiry */ new utils_1.BigNumber(fakeInFiveMinutesS), 
                        /* nonceBucket */ new utils_1.BigNumber(21), 
                        /* nonce */ new utils_1.BigNumber(0)).toString(),
                        maker: '',
                        makerAmount: '',
                        makerToken: '',
                        taker: '',
                        takerAmount: '',
                        takerToken: '',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: null,
                updatedAt: new Date(),
                workerAddress: '',
            });
            const result = WorkerService_1.WorkerService.validateRfqmV2Job(job, new Date(fakeClockMs));
            (0, chai_1.expect)(result).to.equal(types_1.RfqmJobStatus.FailedValidationNoTakerSignature);
        });
        it('should return null for a valid, unexpired meta-transaction job', () => {
            const fakeInFiveMinutesS = fakeClockMs / constants_1.ONE_SECOND_MS + 360;
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeInFiveMinutesS),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, 'jobId');
            const result = WorkerService_1.WorkerService.validateMetaTransactionJob(job, new Date(fakeClockMs));
            (0, chai_1.expect)(result).to.equal(null);
        });
        it('should return a failed expired status for a meta-transaction job that expires', () => {
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeClockMs / constants_1.ONE_SECOND_MS),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, 'jobId');
            const result = WorkerService_1.WorkerService.validateMetaTransactionJob(job, new Date(fakeClockMs + 1000000));
            (0, chai_1.expect)(result).to.equal(types_1.RfqmJobStatus.FailedExpired);
        });
    });
    describe('shouldResubmitTransaction', () => {
        it('should return false if new gas price < 10% greater than previous', async () => {
            const gasFees = { maxFeePerGas: new utils_1.BigNumber(100), maxPriorityFeePerGas: new utils_1.BigNumber(10) };
            const newGasPrice = new utils_1.BigNumber(105);
            (0, chai_1.expect)(WorkerService_1.WorkerService.shouldResubmitTransaction(gasFees, newGasPrice)).to.equal(false);
        });
        it('should return true if new gas price is 10% greater than previous', async () => {
            const gasFees = { maxFeePerGas: new utils_1.BigNumber(100), maxPriorityFeePerGas: new utils_1.BigNumber(10) };
            const newGasPrice = new utils_1.BigNumber(110);
            (0, chai_1.expect)(WorkerService_1.WorkerService.shouldResubmitTransaction(gasFees, newGasPrice)).to.equal(true);
        });
        it('should return true if new gas price > 10% greater than previous', async () => {
            const gasFees = { maxFeePerGas: new utils_1.BigNumber(100), maxPriorityFeePerGas: new utils_1.BigNumber(10) };
            const newGasPrice = new utils_1.BigNumber(120);
            (0, chai_1.expect)(WorkerService_1.WorkerService.shouldResubmitTransaction(gasFees, newGasPrice)).to.equal(true);
        });
    });
    describe('checkJobPreprocessingAsync', () => {
        it('should update job staus and throw error if job validation failed for a rfqm v2 job', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeOneMinuteAgoS),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeOneMinuteAgoS.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
            });
            try {
                await rfqmService.checkJobPreprocessingAsync(job, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Job failed validation');
                (0, chai_1.expect)(job.status).to.deep.equal(types_1.RfqmJobStatus.FailedExpired);
            }
        });
        it('should throw error if there is no taker signature for a rfqm v2 job', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: null,
                updatedAt: new Date(),
                workerAddress: '',
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
            });
            try {
                await rfqmService.checkJobPreprocessingAsync(job, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Job failed validation');
                (0, chai_1.expect)(job.status).to.deep.equal(types_1.RfqmJobStatus.FailedValidationNoTakerSignature);
            }
        });
        it('should update job staus to `PendingProcessing` if job status is `PendingEnqueued` for a rfqm v2 job', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
            });
            await rfqmService.checkJobPreprocessingAsync(job, new Date(fakeClockMs));
            (0, chai_1.expect)(job.status).to.deep.equal(types_1.RfqmJobStatus.PendingProcessing);
        });
        it('should update job staus and throw error if job validation failed for a meta-transaction job', async () => {
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeOneMinuteAgoS),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, 'jobId');
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
            });
            try {
                await rfqmService.checkJobPreprocessingAsync(job, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Job failed validation');
                (0, chai_1.expect)(job.status).to.deep.equal(types_1.RfqmJobStatus.FailedExpired);
            }
        });
        it('should update job staus to `PendingProcessing` if job status is `PendingEnqueued` for a meta-transaction job', async () => {
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, 'jobId');
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
            });
            await rfqmService.checkJobPreprocessingAsync(job, new Date(fakeClockMs));
            (0, chai_1.expect)(job.status).to.deep.equal(types_1.RfqmJobStatus.PendingProcessing);
        });
    });
    describe('prepareApprovalAsync', () => {
        it('should throw exception if there are submitted transactions but job maker signature is null for a rfqm v2 job', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const mockTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                createdAt: new Date(1233),
                from: '0xworkeraddress',
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                orderHash: '0x01234567',
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xpresubmittransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Trade,
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([mockTransaction]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            try {
                await rfqmService.prepareApprovalAsync(job, '0xtoken', constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL, {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                });
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Encountered a job with submissions but no maker signature');
            }
        });
        it('should return generated calldata if there are submitted transactions for a rfqm v2 job', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const mockTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                createdAt: new Date(1233),
                from: '0xworkeraddress',
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                orderHash: '0x01234567',
                status: types_1.RfqmTransactionSubmissionStatus.Submitted,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xpresubmittransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Trade,
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([mockTransaction]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            const calldata = await rfqmService.prepareApprovalAsync(job, '0xtoken', constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL, {
                signatureType: protocol_utils_1.SignatureType.EthSign,
                v: 27,
                r: '0x01',
                s: '0x02',
            });
            (0, chai_1.expect)(calldata).to.deep.equal(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
        });
        it('should throw exception if eth_call failed for a rfqm v2 job', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenThrow(new Error('error'));
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            try {
                await rfqmService.prepareApprovalAsync(job, '0xtoken', constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL, {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                });
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Eth call approval validation failed');
                (0, chai_1.expect)(job.status).to.deep.equal(types_1.RfqmJobStatus.FailedEthCallFailed);
            }
        });
        it('should return correct calldata if there is no submitted transaction for a rfqm v2 job', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(10);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            const calldata = await rfqmService.prepareApprovalAsync(job, '0xtoken', constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL, {
                signatureType: protocol_utils_1.SignatureType.EthSign,
                v: 27,
                r: '0x01',
                s: '0x02',
            });
            (0, chai_1.expect)(calldata).to.deep.equal(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
        });
        it('should return generated calldata if there are submitted transactions for a meta-transaction job', async () => {
            const jobId = 'jobId';
            const transactionSubmissionId = 'submissionId';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const mockTransaction = createMetaTransactionSubmissionEntity({
                from: '0xworkeraddress',
                metaTransactionJobId: jobId,
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Approval,
            }, transactionSubmissionId);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([mockTransaction]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            const calldata = await rfqmService.prepareApprovalAsync(job, '0xtoken', constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL, {
                signatureType: protocol_utils_1.SignatureType.EthSign,
                v: 27,
                r: '0x01',
                s: '0x02',
            });
            (0, chai_1.expect)(calldata).to.deep.equal(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
            (0, ts_mockito_1.verify)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).never();
        });
        it('should throw exception if eth_call failed for a meta-transaction job', async () => {
            const jobId = 'jobId';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenThrow(new Error('error'));
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            try {
                await rfqmService.prepareApprovalAsync(job, '0xtoken', constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL, {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                });
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Eth call approval validation failed');
                (0, chai_1.expect)(job.status).to.deep.equal(types_1.RfqmJobStatus.FailedEthCallFailed);
            }
        });
        it('should return correct calldata if there is no submitted transaction for a meta-transaction job', async () => {
            const jobId = 'jobId';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Approval)).thenResolve([]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateApprovalCalldataAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(10);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            const calldata = await rfqmService.prepareApprovalAsync(job, '0xtoken', constants_2.MOCK_EXECUTE_META_TRANSACTION_APPROVAL, {
                signatureType: protocol_utils_1.SignatureType.EthSign,
                v: 27,
                r: '0x01',
                s: '0x02',
            });
            (0, chai_1.expect)(calldata).to.deep.equal(constants_2.MOCK_EXECUTE_META_TRANSACTION_CALLDATA);
        });
    });
    describe('preparerfqmV2TradeAsync', () => {
        it('updates the job and throws upon validation failure when `shouldCheckLastLook` is true', async () => {
            const expiredJob = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeOneMinuteAgoS),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeOneMinuteAgoS.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '',
                        makerAmount: '',
                        makerToken: '',
                        taker: '',
                        takerAmount: '',
                        takerToken: '',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(expiredJob);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567')).thenResolve([]);
            const rfqmService = buildWorkerServiceForUnitTest({ dbUtils: (0, ts_mockito_1.instance)(mockDbUtils) });
            try {
                await rfqmService.preparerfqmV2TradeAsync(expiredJob, '0xworkeraddress', true, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Job failed validation');
                (0, chai_1.expect)(expiredJob).to.deep.equal({ ..._job, status: types_1.RfqmJobStatus.FailedExpired });
            }
        });
        it('handles a balance check failure', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567')).thenResolve([]);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(100)]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(5),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.preparerfqmV2TradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Order failed pre-sign validation');
                (0, chai_1.expect)(updateRfqmJobCalledArgs[0]).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.PendingProcessing,
                });
                (0, chai_1.expect)(updateRfqmJobCalledArgs[1]).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedPresignValidationFailed,
                });
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedPresignValidationFailed,
                });
            }
        });
        it('handles a decline to sign', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567')).thenResolve([]);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(undefined);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.preparerfqmV2TradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Market Maker declined to sign');
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    lastLookResult: false,
                    status: types_1.RfqmJobStatus.FailedLastLookDeclined,
                });
            }
        });
        it('handles a signature failure', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567')).thenResolve([]);
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReject(new Error('fake timeout'));
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.preparerfqmV2TradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Job failed during market maker sign attempt');
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedSignFailed,
                });
            }
        });
        it('handles signer is not the maker', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync(orderHash)).thenResolve([]);
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            const invalidEIP712Sig = _.cloneDeep(validEIP712Sig);
            invalidEIP712Sig.r = '0xdc158f7b53b940863bc7b001552a90282e51033f29b73d44a2701bd16faa19d3';
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(invalidEIP712Sig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.preparerfqmV2TradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Invalid order signer address');
                (0, chai_1.expect)(job.status).to.deep.equal(types_1.RfqmJobStatus.FailedSignFailed);
            }
        });
        it('handles an eth_call failure', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync(orderHash)).thenResolve([]);
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(validEIP712Sig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForFillTakerSignedOtcOrderAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReject(new Error('fake eth call failure'));
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.preparerfqmV2TradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Eth call validation failed');
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    lastLookResult: true,
                    makerSignature: validEIP712Sig,
                    status: types_1.RfqmJobStatus.FailedEthCallFailed,
                });
            }
        });
        it('updates market maker signatures missing bytes', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync((0, ts_mockito_1.anything)())).thenResolve([]);
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(missingByteSig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.isValidOrderSignerAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(true);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForFillTakerSignedOtcOrderAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(0);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateTakerSignedOtcOrderCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xvalidcalldata');
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            await rfqmService.preparerfqmV2TradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
            (0, chai_1.expect)(job).to.deep.equal({
                ..._job,
                lastLookResult: true,
                makerSignature: (0, signature_utils_1.padSignature)(missingByteSig),
                status: types_1.RfqmJobStatus.PendingLastLookAccepted,
            });
        });
        it('skips the eth_call for jobs with existing submissions', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: true,
                makerUri: 'http://foo.bar',
                makerSignature: validEIP712Sig,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const transaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                orderHash,
                to: '0xexchangeproxyaddress',
                from: '0xworkeraddress',
                transactionHash: '0xsignedtransactionhash',
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 21,
                type: types_1.RfqmTransactionSubmissionType.Trade,
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567')).thenResolve([transaction]);
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(validEIP712Sig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateTakerSignedOtcOrderCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xvalidcalldata');
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            const calldata = await rfqmService.preparerfqmV2TradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
            (0, chai_1.expect)(job).to.deep.equal({
                ..._job,
                lastLookResult: true,
                makerSignature: validEIP712Sig,
                status: types_1.RfqmJobStatus.PendingLastLookAccepted,
            });
            (0, chai_1.expect)(calldata).to.equal('0xvalidcalldata');
            (0, ts_mockito_1.verify)(mockBlockchainUtils.estimateGasForFillTakerSignedOtcOrderAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).never();
        });
        it('lets expired jobs with existing submissions fall through', async () => {
            // If the job isn't in a terminal status but there are existing submissions,
            // `prepareTradeAsync` will let the job continue to the submission step which
            // will allow the worker to check receipts for those submissions.
            const expiredJob = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeOneMinuteAgoS),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: true,
                makerUri: 'http://foo.bar',
                makerSignature: {
                    r: '0x01',
                    s: '0x02',
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                },
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeOneMinuteAgoS.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingSubmitted,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const transaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                orderHash: '0x01234567',
                to: '0xexchangeproxyaddress',
                from: '0xworkeraddress',
                transactionHash: '0xsignedtransactionhash',
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 21,
                type: types_1.RfqmTransactionSubmissionType.Trade,
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567')).thenResolve([transaction]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateTakerSignedOtcOrderCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xvalidcalldata');
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
            });
            await rfqmService.preparerfqmV2TradeAsync(expiredJob, '0xworkeraddress', true, new Date(fakeClockMs));
            (0, chai_1.expect)(expiredJob.status).to.equal(types_1.RfqmJobStatus.PendingSubmitted);
        });
        it('successfully prepares a job when checking last look', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '0xworkeraddress',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync(orderHash)).thenResolve([]);
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(validEIP712Sig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForFillTakerSignedOtcOrderAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(0);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateTakerSignedOtcOrderCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xvalidcalldata');
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            const calldata = await rfqmService.preparerfqmV2TradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
            (0, chai_1.expect)(job).to.deep.equal({
                ..._job,
                lastLookResult: true,
                makerSignature: validEIP712Sig,
                status: types_1.RfqmJobStatus.PendingLastLookAccepted,
            });
            (0, chai_1.expect)(calldata).to.equal('0xvalidcalldata');
            (0, chai_1.expect)(updateRfqmJobCalledArgs[0]).to.deep.equal({
                ..._job,
                status: types_1.RfqmJobStatus.PendingProcessing,
            });
            (0, chai_1.expect)(updateRfqmJobCalledArgs[1]).to.deep.equal({
                ..._job,
                lastLookResult: true,
                makerSignature: validEIP712Sig,
                status: types_1.RfqmJobStatus.PendingLastLookAccepted,
            });
        });
        it('successfully prepares a job if no last look is necessary', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: true,
                makerUri: 'http://foo.bar',
                makerSignature: validEIP712Sig,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '0xworkeraddress',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync(orderHash)).thenResolve([]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForFillTakerSignedOtcOrderAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(0);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateTakerSignedOtcOrderCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xvalidcalldata');
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            const spiedRfqmService = (0, ts_mockito_1.spy)(rfqmService);
            const calldata = await rfqmService.preparerfqmV2TradeAsync(job, '0xworkeraddress', false, new Date(fakeClockMs));
            (0, chai_1.expect)(job).to.deep.equal(_job);
            (0, chai_1.expect)(calldata).to.equal('0xvalidcalldata');
            (0, ts_mockito_1.verify)(spiedRfqmService.checkJobPreprocessingAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).never();
            (0, ts_mockito_1.verify)(spiedRfqmService.checkLastLookAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).never();
        });
    });
    describe('prepareMetaTransactionTradeAsync', () => {
        it('updates the job and throws upon validation failure if `shouldValidateJob` is true', async () => {
            const jobId = 'jobId';
            const expiredJob = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeOneMinuteAgoS),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const _job = _.cloneDeep(expiredJob);
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId)).thenResolve([]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
            });
            try {
                await rfqmService.prepareMetaTransactionTradeAsync(expiredJob, '0xworkeraddress', true, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Job failed validation');
                (0, chai_1.expect)(expiredJob).to.deep.equal({ ..._job, status: types_1.RfqmJobStatus.FailedExpired });
            }
        });
        it('handles an eth_call failure', async () => {
            const jobId = 'jobId';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const _job = _.cloneDeep(job);
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId)).thenResolve([]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenReject(new Error('fake eth call failure'));
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
            });
            try {
                await rfqmService.prepareMetaTransactionTradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Eth call validation failed');
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedEthCallFailed,
                });
            }
        });
        it('skips the eth_call for jobs with existing submissions', async () => {
            const jobId = 'jobId';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingProcessing,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const transaction = createMetaTransactionSubmissionEntity({
                from: '0xworkeraddress',
                metaTransactionJobId: jobId,
                maxFeePerGas: new utils_1.BigNumber(100000),
                maxPriorityFeePerGas: new utils_1.BigNumber(100),
                nonce: 0,
                to: '0xexchangeproxyaddress',
                transactionHash: '0xsignedtransactionhash',
                type: types_1.RfqmTransactionSubmissionType.Trade,
            }, 'submissionId');
            const _job = _.cloneDeep(job);
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId)).thenResolve([transaction]);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateMetaTransactionCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xvalidcalldata');
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
            });
            const calldata = await rfqmService.prepareMetaTransactionTradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
            (0, chai_1.expect)(job).to.deep.equal(_job);
            (0, chai_1.expect)(calldata).to.equal('0xvalidcalldata');
            (0, ts_mockito_1.verify)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).never();
        });
        it('successfully prepares a job if `shouldValidateJob` is true', async () => {
            const jobId = 'jobId';
            const job = createMeaTrsanctionJobEntity({
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: new utils_1.BigNumber(0),
                    token: '',
                    type: 'fixed',
                },
                inputToken: '0xinputToken',
                inputTokenAmount: new utils_1.BigNumber(10),
                integratorId: '0xintegrator',
                metaTransaction: constants_2.MOCK_META_TRANSACTION,
                metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                minOutputTokenAmount: new utils_1.BigNumber(10),
                outputToken: '0xoutputToken',
                takerAddress: '0xtakerAddress',
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                status: types_1.RfqmJobStatus.PendingEnqueued,
                workerAddress: '0xworkeraddress',
            }, jobId);
            const _job = _.cloneDeep(job);
            const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
            (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId)).thenResolve([]);
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(0);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateMetaTransactionCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xvalidcalldata');
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
            });
            const calldata = await rfqmService.prepareMetaTransactionTradeAsync(job, '0xworkeraddress', true, new Date(fakeClockMs));
            (0, chai_1.expect)(job).to.deep.equal({
                ..._job,
                status: types_1.RfqmJobStatus.PendingProcessing,
            });
            (0, chai_1.expect)(calldata).to.equal('0xvalidcalldata');
            (0, chai_1.expect)(updateRfqmJobCalledArgs[0]).to.deep.equal({
                ..._job,
                status: types_1.RfqmJobStatus.PendingProcessing,
            });
        });
    });
    describe('checkLastLookAsync', () => {
        it('should call `getMinOfBalancesAndAllowancesAsync` when `shouldCheckAllowance` is true and throws when balance check fails', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingProcessing,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(100)]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(5),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.checkLastLookAsync(job, '0xworkeraddress', true);
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Order failed pre-sign validation');
                (0, chai_1.expect)(updateRfqmJobCalledArgs[0]).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedPresignValidationFailed,
                });
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedPresignValidationFailed,
                });
                (0, ts_mockito_1.verify)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).once();
                (0, ts_mockito_1.verify)(mockBlockchainUtils.getTokenBalancesAsync((0, ts_mockito_1.anything)())).never();
            }
        });
        it('should call `getTokenBalancesAsync` when `shouldCheckAllowance` is false and throws when balance check fails', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingProcessing,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getTokenBalancesAsync((0, ts_mockito_1.anything)())).thenResolve([new utils_1.BigNumber(100)]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(5),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.checkLastLookAsync(job, '0xworkeraddress', false);
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Order failed pre-sign validation');
                (0, chai_1.expect)(updateRfqmJobCalledArgs[0]).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedPresignValidationFailed,
                });
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedPresignValidationFailed,
                });
                (0, ts_mockito_1.verify)(mockBlockchainUtils.getTokenBalancesAsync((0, ts_mockito_1.anything)())).once();
                (0, ts_mockito_1.verify)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).never();
            }
        });
        it('should throw when taker signature is not present', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingProcessing,
                takerSignature: null,
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.checkLastLookAsync(job, '0xworkeraddress', true);
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Order failed pre-sign validation due to empty takerSignature');
                (0, chai_1.expect)(updateRfqmJobCalledArgs[0]).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedPresignValidationFailed,
                });
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedPresignValidationFailed,
                });
            }
        });
        it('handles decline to sign', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567')).thenResolve([]);
            (0, ts_mockito_1.when)(mockDbUtils.findV2QuoteByOrderHashAsync('0x01234567')).thenResolve(new entities_1.RfqmV2QuoteEntity({
                createdAt: new Date(),
                chainId: job.chainId,
                fee: job.fee,
                makerUri: job.makerUri,
                order: job.order,
                orderHash: job.orderHash,
            }));
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(undefined);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const mockCacheClient = (0, ts_mockito_1.mock)(cache_client_1.CacheClient);
            const mockRfqMakerManager = (0, ts_mockito_1.mock)(rfq_maker_manager_1.RfqMakerManager);
            (0, ts_mockito_1.when)(mockRfqMakerManager.findMakerIdWithRfqmUri(job.makerUri)).thenReturn('makerId1');
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
                rfqMakerManager: (0, ts_mockito_1.instance)(mockRfqMakerManager),
                cacheClient: (0, ts_mockito_1.instance)(mockCacheClient),
            });
            try {
                await rfqmService.checkLastLookAsync(job, '0xworkeraddress', true);
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Market Maker declined to sign');
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    lastLookResult: false,
                    status: types_1.RfqmJobStatus.FailedLastLookDeclined,
                });
                (0, ts_mockito_1.verify)(mockCacheClient.addMakerToCooldownAsync('makerId1', (0, ts_mockito_1.anything)(), job.chainId, job.order.order.makerToken, job.order.order.takerToken)).once();
                (0, ts_mockito_1.verify)(mockDbUtils.writeV2LastLookRejectionCooldownAsync('makerId1', job.chainId, job.order.order.makerToken, job.order.order.takerToken, (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), job.orderHash)).once();
            }
        });
        it('handles a signature failure', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker: '0xmaker',
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash: '0x01234567',
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567')).thenResolve([]);
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReject(new Error('fake timeout'));
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.checkLastLookAsync(job, '0xworkeraddress', true);
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Job failed during market maker sign attempt');
                (0, chai_1.expect)(job).to.deep.equal({
                    ..._job,
                    status: types_1.RfqmJobStatus.FailedSignFailed,
                });
            }
        });
        it('handles signer is not the maker', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            const updateRfqmJobCalledArgs = [];
            (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
            });
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync(orderHash)).thenResolve([]);
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            const invalidEIP712Sig = _.cloneDeep(validEIP712Sig);
            invalidEIP712Sig.r = '0xdc158f7b53b940863bc7b001552a90282e51033f29b73d44a2701bd16faa19d3';
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(invalidEIP712Sig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            try {
                await rfqmService.checkLastLookAsync(job, '0xworkeraddress', true);
                chai_1.expect.fail();
            }
            catch (e) {
                (0, chai_1.expect)(e.message).to.contain('Invalid order signer address');
                (0, chai_1.expect)(job.status).to.deep.equal(types_1.RfqmJobStatus.FailedSignFailed);
            }
        });
        it('updates market maker signatures missing bytes', async () => {
            const job = new entities_1.RfqmV2JobEntity({
                affiliateAddress: '',
                chainId: 1,
                createdAt: new Date(),
                expiry: new utils_1.BigNumber(fakeFiveMinutesLater),
                fee: {
                    amount: '0',
                    token: '',
                    type: 'fixed',
                },
                integratorId: '',
                lastLookResult: null,
                makerUri: 'http://foo.bar',
                makerSignature: null,
                order: {
                    order: {
                        chainId: '1',
                        expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(fakeFiveMinutesLater.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                        maker,
                        makerAmount: '1000000',
                        makerToken: '0xmakertoken',
                        taker: '0xtaker',
                        takerAmount: '10000000',
                        takerToken: '0xtakertoken',
                        txOrigin: '',
                        verifyingContract: '',
                    },
                    type: types_1.RfqmOrderTypes.Otc,
                },
                orderHash,
                status: types_1.RfqmJobStatus.PendingEnqueued,
                takerSignature: {
                    signatureType: protocol_utils_1.SignatureType.EthSign,
                    v: 27,
                    r: '0x01',
                    s: '0x02',
                },
                updatedAt: new Date(),
                workerAddress: '',
            });
            const _job = _.cloneDeep(job);
            const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
            (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync((0, ts_mockito_1.anything)())).thenResolve([]);
            const mockQuoteServerClient = (0, ts_mockito_1.mock)(quote_server_client_1.QuoteServerClient);
            (0, ts_mockito_1.when)(mockQuoteServerClient.signV2Async((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(missingByteSig);
            const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
            (0, ts_mockito_1.when)(mockBlockchainUtils.isValidOrderSignerAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(true);
            (0, ts_mockito_1.when)(mockBlockchainUtils.getMinOfBalancesAndAllowancesAsync((0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForFillTakerSignedOtcOrderAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve(0);
            (0, ts_mockito_1.when)(mockBlockchainUtils.generateTakerSignedOtcOrderCallData((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn('0xvalidcalldata');
            const mockRfqMakerBalanceCacheService = (0, ts_mockito_1.mock)(rfq_maker_balance_cache_service_1.RfqMakerBalanceCacheService);
            (0, ts_mockito_1.when)(mockRfqMakerBalanceCacheService.getERC20OwnerBalancesAsync((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenResolve([
                new utils_1.BigNumber(1000000000),
            ]);
            const rfqmService = buildWorkerServiceForUnitTest({
                dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                quoteServerClient: (0, ts_mockito_1.instance)(mockQuoteServerClient),
                rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                rfqMakerBalanceCacheService: (0, ts_mockito_1.instance)(mockRfqMakerBalanceCacheService),
            });
            await rfqmService.checkLastLookAsync(job, '0xworkeraddress', true);
            (0, chai_1.expect)(job).to.deep.equal({
                ..._job,
                lastLookResult: true,
                makerSignature: (0, signature_utils_1.padSignature)(missingByteSig),
                status: types_1.RfqmJobStatus.PendingLastLookAccepted,
            });
        });
    });
    describe('submitToChainAsync', () => {
        describe('kind is `rfqm_v2_job`', () => {
            it('submits a transaction successfully when there is no previous transaction', async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const job = new entities_1.RfqmV2JobEntity({
                    affiliateAddress: '',
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(nowS + 600),
                    fee: {
                        amount: '0',
                        token: '',
                        type: 'fixed',
                    },
                    integratorId: '',
                    lastLookResult: true,
                    makerUri: 'http://foo.bar',
                    order: {
                        order: {
                            chainId: '1',
                            expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(nowS + 600), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                            maker: '0xmaker',
                            makerAmount: '1000000',
                            makerToken: '0xmakertoken',
                            taker: '0xtaker',
                            takerAmount: '10000000',
                            takerToken: '0xtakertoken',
                            txOrigin: '',
                            verifyingContract: '',
                        },
                        type: types_1.RfqmOrderTypes.Otc,
                    },
                    orderHash: '0x01234567',
                    status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                    updatedAt: new Date(),
                    workerAddress: '',
                });
                const mockTransactionRequest = {};
                const mockTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                    from: '0xworkeraddress',
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    orderHash: '0x01234567',
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xsignedtransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                });
                const mockTransactionReceipt = {
                    to: '0xto',
                    from: '0xfrom',
                    contractAddress: '0xexchangeproxyaddress',
                    transactionIndex: 0,
                    gasUsed: ethers_1.BigNumber.from(10000),
                    logsBloom: '',
                    blockHash: '0xblockhash',
                    transactionHash: '0xsignedtransactionhash',
                    logs: [],
                    blockNumber: 1,
                    confirmations: 3,
                    cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                    effectiveGasPrice: ethers_1.BigNumber.from(1000),
                    byzantium: true,
                    type: 2,
                    status: 1,
                };
                const mockNonce = 0;
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([]);
                const updateRfqmJobCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                    updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
                });
                const writeV2RfqmTransactionSubmissionToDbCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.writeV2RfqmTransactionSubmissionToDbAsync((0, ts_mockito_1.anything)())).thenCall(async (transactionArg) => {
                    writeV2RfqmTransactionSubmissionToDbCalledArgs.push(_.cloneDeep(transactionArg));
                    return _.cloneDeep(mockTransaction);
                });
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionByTransactionHashAsync('0xsignedtransactionhash')).thenResolve(_.cloneDeep(mockTransaction));
                const updateRfqmTransactionSubmissionsCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmTransactionSubmissionsAsync((0, ts_mockito_1.anything)())).thenCall(async (tranactionArg) => {
                    updateRfqmTransactionSubmissionsCalledArgs.push(_.cloneDeep(tranactionArg));
                });
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(100);
                (0, ts_mockito_1.when)(mockBlockchainUtils.transformTxDataToTransactionRequest((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(mockTransactionRequest);
                (0, ts_mockito_1.when)(mockBlockchainUtils.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
                    signedTransaction: 'signedTransaction',
                    transactionHash: '0xsignedtransactionhash',
                });
                (0, ts_mockito_1.when)(mockBlockchainUtils.getExchangeProxyAddress()).thenReturn('0xexchangeproxyaddress');
                (0, ts_mockito_1.when)(mockBlockchainUtils.submitSignedTransactionAsync((0, ts_mockito_1.anything)())).thenResolve('0xsignedtransactionhash');
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                    mockTransactionReceipt,
                ]);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getDecodedRfqOrderFillEventLogFromLogs((0, ts_mockito_1.anything)())).thenReturn({
                    event: '',
                    logIndex: null,
                    transactionIndex: null,
                    transactionHash: '',
                    blockHash: '',
                    address: '',
                    data: '',
                    blockNumber: 0,
                    topics: [],
                    args: {
                        maker: '',
                        makerToken: '',
                        makerTokenFilledAmount: new utils_1.BigNumber(1234),
                        orderHash: '',
                        pool: '',
                        taker: '',
                        takerToken: '',
                        takerTokenFilledAmount: new utils_1.BigNumber(5),
                    },
                });
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                await rfqmService.submitToChainAsync({
                    kind: job.kind,
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    calldata: '0xcalldata',
                    expiry: job.expiry,
                    identifier: job.orderHash,
                    submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                    onSubmissionContextStatusUpdate: callback,
                });
                (0, ts_mockito_1.verify)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)()));
                // eth_createAccessList should not be called when not enabled
                (0, ts_mockito_1.verify)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).never();
                (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
                (0, chai_1.expect)(writeV2RfqmTransactionSubmissionToDbCalledArgs[0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Presubmit);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[0][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Submitted);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[1][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
            });
            it("ignores an existing PRESUBMIT transaction which isn't found in the mempool or on chain", async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const job = new entities_1.RfqmV2JobEntity({
                    affiliateAddress: '',
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(nowS + 600),
                    fee: {
                        amount: '0',
                        token: '',
                        type: 'fixed',
                    },
                    integratorId: '',
                    lastLookResult: true,
                    makerUri: 'http://foo.bar',
                    order: {
                        order: {
                            chainId: '1',
                            expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(nowS + 600), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                            maker: '0xmaker',
                            makerAmount: '1000000',
                            makerToken: '0xmakertoken',
                            taker: '0xtaker',
                            takerAmount: '10000000',
                            takerToken: '0xtakertoken',
                            txOrigin: '',
                            verifyingContract: '',
                        },
                        type: types_1.RfqmOrderTypes.Otc,
                    },
                    orderHash: '0x01234567',
                    status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                    updatedAt: new Date(),
                    workerAddress: '',
                });
                const mockPresubmitTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                    createdAt: new Date(1233),
                    from: '0xworkeraddress',
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    orderHash: '0x01234567',
                    status: types_1.RfqmTransactionSubmissionStatus.Presubmit,
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xpresubmittransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                });
                const mockTransactionRequest = {};
                const mockTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                    from: '0xworkeraddress',
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    orderHash: '0x01234567',
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xsignedtransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                });
                const mockTransactionReceipt = {
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    contractAddress: '0xexchangeproxyaddress',
                    transactionIndex: 0,
                    gasUsed: ethers_1.BigNumber.from(10000),
                    logsBloom: '',
                    blockHash: '0xblockhash',
                    transactionHash: '0xsignedtransactionhash',
                    logs: [],
                    blockNumber: 1,
                    confirmations: 3,
                    cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                    effectiveGasPrice: ethers_1.BigNumber.from(1000),
                    byzantium: true,
                    type: 2,
                    status: 1,
                };
                const mockNonce = 0;
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([mockPresubmitTransaction]);
                const updateRfqmJobCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                    updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
                });
                const writeV2RfqmTransactionSubmissionToDbCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.writeV2RfqmTransactionSubmissionToDbAsync((0, ts_mockito_1.anything)())).thenCall(async (transactionArg) => {
                    writeV2RfqmTransactionSubmissionToDbCalledArgs.push(_.cloneDeep(transactionArg));
                    return _.cloneDeep(mockTransaction);
                });
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionByTransactionHashAsync('0xsignedtransactionhash')).thenResolve(_.cloneDeep(mockTransaction));
                const updateRfqmTransactionSubmissionsCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmTransactionSubmissionsAsync((0, ts_mockito_1.anything)())).thenCall(async (tranactionArg) => {
                    updateRfqmTransactionSubmissionsCalledArgs.push(_.cloneDeep(tranactionArg));
                });
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                // This mock response indicates that the presubmit transaction can't be found
                // on chain or in the mempool
                (0, ts_mockito_1.when)(mockBlockchainUtils.getTransactionAsync('0xpresubmittransactionhash')).thenResolve(null);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(100);
                (0, ts_mockito_1.when)(mockBlockchainUtils.transformTxDataToTransactionRequest((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(mockTransactionRequest);
                (0, ts_mockito_1.when)(mockBlockchainUtils.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
                    signedTransaction: 'signedTransaction',
                    transactionHash: '0xsignedtransactionhash',
                });
                (0, ts_mockito_1.when)(mockBlockchainUtils.getExchangeProxyAddress()).thenReturn('0xexchangeproxyaddress');
                (0, ts_mockito_1.when)(mockBlockchainUtils.submitSignedTransactionAsync((0, ts_mockito_1.anything)())).thenResolve('0xsignedtransactionhash');
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                    mockTransactionReceipt,
                ]);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getDecodedRfqOrderFillEventLogFromLogs((0, ts_mockito_1.anything)())).thenReturn({
                    event: '',
                    logIndex: null,
                    transactionIndex: null,
                    transactionHash: '',
                    blockHash: '',
                    address: '',
                    data: '',
                    blockNumber: 0,
                    topics: [],
                    args: {
                        maker: '',
                        makerToken: '',
                        makerTokenFilledAmount: new utils_1.BigNumber(1234),
                        orderHash: '',
                        pool: '',
                        taker: '',
                        takerToken: '',
                        takerTokenFilledAmount: new utils_1.BigNumber(5),
                    },
                });
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                await rfqmService.submitToChainAsync({
                    kind: job.kind,
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    calldata: '0xcalldata',
                    expiry: job.expiry,
                    identifier: job.orderHash,
                    submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                    onSubmissionContextStatusUpdate: callback,
                });
                // eth_createAccessList should not be called when not enabled
                (0, ts_mockito_1.verify)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).never();
                (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
                // Expectations are the same as if the presubmit transaction never existed
                (0, chai_1.expect)(writeV2RfqmTransactionSubmissionToDbCalledArgs[0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Presubmit);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[0][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Submitted);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[1][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
            });
            it("marks a PRESUBMIT job as expired when existing transactions aren't found in \
            the mempool or on chain and the expiration time has passed", async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const job = new entities_1.RfqmV2JobEntity({
                    affiliateAddress: '',
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(nowS - 60),
                    fee: {
                        amount: '0',
                        token: '',
                        type: 'fixed',
                    },
                    integratorId: '',
                    lastLookResult: true,
                    makerUri: 'http://foo.bar',
                    order: {
                        order: {
                            chainId: '1',
                            expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(nowS - 60), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                            maker: '0xmaker',
                            makerAmount: '1000000',
                            makerToken: '0xmakertoken',
                            taker: '0xtaker',
                            takerAmount: '10000000',
                            takerToken: '0xtakertoken',
                            txOrigin: '',
                            verifyingContract: '',
                        },
                        type: types_1.RfqmOrderTypes.Otc,
                    },
                    orderHash: '0x01234567',
                    status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                    updatedAt: new Date(),
                    workerAddress: '',
                });
                const mockPresubmitTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                    createdAt: new Date(1233),
                    from: '0xworkeraddress',
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    orderHash: '0x01234567',
                    status: types_1.RfqmTransactionSubmissionStatus.Presubmit,
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xpresubmittransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                });
                const mockTransactionRequest = {};
                const mockTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                    from: '0xworkeraddress',
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    orderHash: '0x01234567',
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xsignedtransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                });
                const mockTransactionReceipt = {
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    contractAddress: '0xexchangeproxyaddress',
                    transactionIndex: 0,
                    gasUsed: ethers_1.BigNumber.from(10000),
                    logsBloom: '',
                    blockHash: '0xblockhash',
                    transactionHash: '0xsignedtransactionhash',
                    logs: [],
                    blockNumber: 1,
                    confirmations: 3,
                    cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                    effectiveGasPrice: ethers_1.BigNumber.from(1000),
                    byzantium: true,
                    type: 2,
                    status: 1,
                };
                const mockNonce = 0;
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([mockPresubmitTransaction]);
                const updateRfqmJobCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                    updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
                });
                const writeV2RfqmTransactionSubmissionToDbCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.writeV2RfqmTransactionSubmissionToDbAsync((0, ts_mockito_1.anything)())).thenCall(async (transactionArg) => {
                    writeV2RfqmTransactionSubmissionToDbCalledArgs.push(_.cloneDeep(transactionArg));
                    return _.cloneDeep(mockTransaction);
                });
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionByTransactionHashAsync('0xsignedtransactionhash')).thenResolve(_.cloneDeep(mockTransaction));
                const updateRfqmTransactionSubmissionsCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmTransactionSubmissionsAsync((0, ts_mockito_1.anything)())).thenCall(async (tranactionArg) => {
                    updateRfqmTransactionSubmissionsCalledArgs.push(_.cloneDeep(tranactionArg));
                });
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                // This mock response indicates that the presubmit transaction can't be found
                // on chain or in the mempool
                (0, ts_mockito_1.when)(mockBlockchainUtils.getTransactionAsync('0xpresubmittransactionhash')).thenResolve(null);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(100);
                (0, ts_mockito_1.when)(mockBlockchainUtils.transformTxDataToTransactionRequest((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(mockTransactionRequest);
                (0, ts_mockito_1.when)(mockBlockchainUtils.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
                    signedTransaction: 'signedTransaction',
                    transactionHash: '0xsignedtransactionhash',
                });
                (0, ts_mockito_1.when)(mockBlockchainUtils.getExchangeProxyAddress()).thenReturn('0xexchangeproxyaddress');
                (0, ts_mockito_1.when)(mockBlockchainUtils.submitSignedTransactionAsync((0, ts_mockito_1.anything)())).thenResolve('0xsignedtransactionhash');
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                    mockTransactionReceipt,
                ]);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getDecodedRfqOrderFillEventLogFromLogs((0, ts_mockito_1.anything)())).thenReturn({
                    event: '',
                    logIndex: null,
                    transactionIndex: null,
                    transactionHash: '',
                    blockHash: '',
                    address: '',
                    data: '',
                    blockNumber: 0,
                    topics: [],
                    args: {
                        maker: '',
                        makerToken: '',
                        makerTokenFilledAmount: new utils_1.BigNumber(1234),
                        orderHash: '',
                        pool: '',
                        taker: '',
                        takerToken: '',
                        takerTokenFilledAmount: new utils_1.BigNumber(5),
                    },
                });
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                try {
                    await rfqmService.submitToChainAsync({
                        kind: job.kind,
                        to: '0xexchangeproxyaddress',
                        from: '0xworkeraddress',
                        calldata: '0xcalldata',
                        expiry: job.expiry,
                        identifier: job.orderHash,
                        submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                        onSubmissionContextStatusUpdate: callback,
                    });
                    chai_1.expect.fail();
                }
                catch (e) {
                    (0, chai_1.expect)(e.message).to.contain('Exceed expiry');
                    // eth_createAccessList should not be called when not enabled
                    (0, ts_mockito_1.verify)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).never();
                    (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.FailedExpired);
                }
            });
            it('recovers a PRESUBMIT transaction which actually submitted', async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const job = new entities_1.RfqmV2JobEntity({
                    affiliateAddress: '',
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(nowS + 600),
                    fee: {
                        amount: '0',
                        token: '',
                        type: 'fixed',
                    },
                    integratorId: '',
                    lastLookResult: true,
                    makerUri: 'http://foo.bar',
                    order: {
                        order: {
                            chainId: '1',
                            expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(nowS + 600), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                            maker: '0xmaker',
                            makerAmount: '1000000',
                            makerToken: '0xmakertoken',
                            taker: '0xtaker',
                            takerAmount: '10000000',
                            takerToken: '0xtakertoken',
                            txOrigin: '',
                            verifyingContract: '',
                        },
                        type: types_1.RfqmOrderTypes.Otc,
                    },
                    orderHash: '0x01234567',
                    status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                    updatedAt: new Date(),
                    workerAddress: '',
                });
                const mockPresubmitTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                    createdAt: new Date(1233),
                    from: '0xworkeraddress',
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    orderHash: '0x01234567',
                    status: types_1.RfqmTransactionSubmissionStatus.Presubmit,
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xpresubmittransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                });
                const mockTransactionReceipt = {
                    blockHash: '0xblockhash',
                    blockNumber: 1,
                    byzantium: true,
                    confirmations: 3,
                    contractAddress: '0xexchangeproxyaddress',
                    cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                    effectiveGasPrice: ethers_1.BigNumber.from(1000),
                    from: '0xworkeraddress',
                    gasUsed: ethers_1.BigNumber.from(10000),
                    logs: [],
                    logsBloom: '',
                    status: 1,
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xpresubmittransactionhash',
                    transactionIndex: 0,
                    type: 2,
                };
                const mockTransactionResponse = {
                    chainId: 1,
                    confirmations: 0,
                    data: '',
                    from: '0xworkeraddress',
                    gasLimit: ethers_1.BigNumber.from(1000000),
                    hash: '0xpresubmittransactionhash',
                    nonce: 0,
                    type: 2,
                    value: ethers_1.BigNumber.from(0),
                    wait: (_confirmations) => Promise.resolve(mockTransactionReceipt),
                };
                const mockMinedBlock = {
                    _difficulty: ethers_1.BigNumber.from(2),
                    difficulty: 2,
                    extraData: '',
                    gasLimit: ethers_1.BigNumber.from(1000),
                    gasUsed: ethers_1.BigNumber.from(1000),
                    hash: '0xblockhash',
                    miner: '0xminer',
                    nonce: '0x000',
                    number: 21,
                    parentHash: '0xparentblockhash',
                    timestamp: 12345,
                    transactions: ['0xpresubmittransactionhash'],
                };
                const mockNonce = 0;
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([mockPresubmitTransaction]);
                const updateRfqmTransactionSubmissionsCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmTransactionSubmissionsAsync((0, ts_mockito_1.anything)())).thenCall(async (tranactionArg) => {
                    updateRfqmTransactionSubmissionsCalledArgs.push(_.cloneDeep(tranactionArg));
                });
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                // This mock response indicates that the transaction is present in the mempool
                (0, ts_mockito_1.when)(mockBlockchainUtils.getTransactionAsync('0xpresubmittransactionhash')).thenResolve(mockTransactionResponse);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenReject(new Error('estimateGasForAsync called during recovery'));
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xpresubmittransactionhash']))).thenResolve([
                    mockTransactionReceipt,
                ]);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getBlockAsync('0xblockhash')).thenResolve(mockMinedBlock);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getDecodedRfqOrderFillEventLogFromLogs((0, ts_mockito_1.anything)())).thenReturn({
                    event: '',
                    logIndex: null,
                    transactionIndex: null,
                    transactionHash: '',
                    blockHash: '',
                    address: '',
                    data: '',
                    blockNumber: 0,
                    topics: [],
                    args: {
                        maker: '',
                        makerToken: '',
                        makerTokenFilledAmount: new utils_1.BigNumber(1234),
                        orderHash: '',
                        pool: '',
                        taker: '',
                        takerToken: '',
                        takerTokenFilledAmount: new utils_1.BigNumber(5),
                    },
                });
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                await rfqmService.submitToChainAsync({
                    kind: job.kind,
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    calldata: '0xcalldata',
                    expiry: job.expiry,
                    identifier: job.orderHash,
                    submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                    onSubmissionContextStatusUpdate: callback,
                });
                // eth_createAccessList should not be called when not enabled
                (0, ts_mockito_1.verify)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).never();
                // Logic should first check to see if the transaction was actually sent.
                // If it was (and it is being mock so in this test) then the logic first
                // updates the status of the transaction to "Submitted"
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[0][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Submitted);
                // The logic then enters the watch loop. On the first check, a transaction
                // receipt exists for this transaction and it will be marked "confirmed"
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[1][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
                (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
            });
            it('finalizes a job to FAILED_EXPIRED once the expiration window has passed', async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const ninetySecondsAgo = nowS - 100;
                const job = new entities_1.RfqmV2JobEntity({
                    affiliateAddress: '',
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(ninetySecondsAgo),
                    fee: {
                        amount: '0',
                        token: '',
                        type: 'fixed',
                    },
                    integratorId: '',
                    lastLookResult: true,
                    makerUri: 'http://foo.bar',
                    order: {
                        order: {
                            chainId: '1',
                            expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(ninetySecondsAgo.toString()), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                            maker: '0xmaker',
                            makerAmount: '1000000',
                            makerToken: '0xmakertoken',
                            taker: '0xtaker',
                            takerAmount: '10000000',
                            takerToken: '0xtakertoken',
                            txOrigin: '',
                            verifyingContract: '',
                        },
                        type: types_1.RfqmOrderTypes.Otc,
                    },
                    orderHash: '0x01234567',
                    status: types_1.RfqmJobStatus.PendingSubmitted,
                    updatedAt: new Date(),
                    workerAddress: '',
                });
                const mockTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                    createdAt: new Date(1233),
                    from: '0xworkeraddress',
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    orderHash: '0x01234567',
                    status: types_1.RfqmTransactionSubmissionStatus.Submitted,
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xpresubmittransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                });
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([mockTransaction]);
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(100);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xpresubmittransactionhash']))).thenResolve([]);
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                try {
                    await rfqmService.submitToChainAsync({
                        kind: job.kind,
                        to: '0xexchangeproxyaddress',
                        from: '0xworkeraddress',
                        calldata: '0xcalldata',
                        expiry: job.expiry,
                        identifier: job.orderHash,
                        submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                        onSubmissionContextStatusUpdate: callback,
                    });
                }
                catch (e) {
                    (0, chai_1.expect)(e.message).to.contain('Exceed expiry');
                    // eth_createAccessList should not be called when not enabled
                    (0, ts_mockito_1.verify)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).never();
                    (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.FailedExpired);
                }
            });
            it('should call createAccessListForAsync and should not affect the overall method when RPC returns properly', async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const job = new entities_1.RfqmV2JobEntity({
                    affiliateAddress: '',
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(nowS + 600),
                    fee: {
                        amount: '0',
                        token: '',
                        type: 'fixed',
                    },
                    integratorId: '',
                    lastLookResult: true,
                    makerUri: 'http://foo.bar',
                    order: {
                        order: {
                            chainId: '1',
                            expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(nowS + 600), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                            maker: '0xmaker',
                            makerAmount: '1000000',
                            makerToken: '0xmakertoken',
                            taker: '0xtaker',
                            takerAmount: '10000000',
                            takerToken: '0xtakertoken',
                            txOrigin: '',
                            verifyingContract: '',
                        },
                        type: types_1.RfqmOrderTypes.Otc,
                    },
                    orderHash: '0x01234567',
                    status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                    updatedAt: new Date(),
                    workerAddress: '',
                });
                const mockTransactionRequest = {};
                const mockTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                    from: '0xworkeraddress',
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    orderHash: '0x01234567',
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xsignedtransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                });
                const mockTransactionReceipt = {
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    contractAddress: '0xexchangeproxyaddress',
                    transactionIndex: 0,
                    gasUsed: ethers_1.BigNumber.from(10000),
                    logsBloom: '',
                    blockHash: '0xblockhash',
                    transactionHash: '0xsignedtransactionhash',
                    logs: [],
                    blockNumber: 1,
                    confirmations: 3,
                    cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                    effectiveGasPrice: ethers_1.BigNumber.from(1000),
                    byzantium: true,
                    type: 2,
                    status: 1,
                };
                const mockNonce = 0;
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([]);
                const updateRfqmJobCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                    updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
                });
                const writeV2RfqmTransactionSubmissionToDbCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.writeV2RfqmTransactionSubmissionToDbAsync((0, ts_mockito_1.anything)())).thenCall(async (transactionArg) => {
                    writeV2RfqmTransactionSubmissionToDbCalledArgs.push(_.cloneDeep(transactionArg));
                    return _.cloneDeep(mockTransaction);
                });
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionByTransactionHashAsync('0xsignedtransactionhash')).thenResolve(_.cloneDeep(mockTransaction));
                const updateRfqmTransactionSubmissionsCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmTransactionSubmissionsAsync((0, ts_mockito_1.anything)())).thenCall(async (tranactionArg) => {
                    updateRfqmTransactionSubmissionsCalledArgs.push(_.cloneDeep(tranactionArg));
                });
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(100);
                (0, ts_mockito_1.when)(mockBlockchainUtils.transformTxDataToTransactionRequest((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(mockTransactionRequest);
                (0, ts_mockito_1.when)(mockBlockchainUtils.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
                    signedTransaction: 'signedTransaction',
                    transactionHash: '0xsignedtransactionhash',
                });
                (0, ts_mockito_1.when)(mockBlockchainUtils.getExchangeProxyAddress()).thenReturn('0xexchangeproxyaddress');
                (0, ts_mockito_1.when)(mockBlockchainUtils.submitSignedTransactionAsync((0, ts_mockito_1.anything)())).thenResolve('0xsignedtransactionhash');
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                    mockTransactionReceipt,
                ]);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getDecodedRfqOrderFillEventLogFromLogs((0, ts_mockito_1.anything)())).thenReturn({
                    event: '',
                    logIndex: null,
                    transactionIndex: null,
                    transactionHash: '',
                    blockHash: '',
                    address: '',
                    data: '',
                    blockNumber: 0,
                    topics: [],
                    args: {
                        maker: '',
                        makerToken: '',
                        makerTokenFilledAmount: new utils_1.BigNumber(1234),
                        orderHash: '',
                        pool: '',
                        taker: '',
                        takerToken: '',
                        takerTokenFilledAmount: new utils_1.BigNumber(5),
                    },
                });
                (0, ts_mockito_1.when)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).thenResolve({
                    accessList: {
                        '0x1234': ['0x0'],
                        '0x12345': ['0x1'],
                    },
                    gasEstimate: 1000,
                });
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                    enableAccessList: true,
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                await rfqmService.submitToChainAsync({
                    kind: job.kind,
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    calldata: '0xcalldata',
                    expiry: job.expiry,
                    identifier: job.orderHash,
                    submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                    onSubmissionContextStatusUpdate: callback,
                });
                (0, ts_mockito_1.verify)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)()));
                (0, ts_mockito_1.verify)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).once();
                (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
                (0, chai_1.expect)(writeV2RfqmTransactionSubmissionToDbCalledArgs[0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Presubmit);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[0][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Submitted);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[1][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
            });
            it('should call createAccessListForAsync and should not affect the overall method when RPC errors out', async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const job = new entities_1.RfqmV2JobEntity({
                    affiliateAddress: '',
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(nowS + 600),
                    fee: {
                        amount: '0',
                        token: '',
                        type: 'fixed',
                    },
                    integratorId: '',
                    lastLookResult: true,
                    makerUri: 'http://foo.bar',
                    order: {
                        order: {
                            chainId: '1',
                            expiryAndNonce: protocol_utils_1.OtcOrder.encodeExpiryAndNonce(new utils_1.BigNumber(nowS + 600), new utils_1.BigNumber(1), new utils_1.BigNumber(1)).toString(),
                            maker: '0xmaker',
                            makerAmount: '1000000',
                            makerToken: '0xmakertoken',
                            taker: '0xtaker',
                            takerAmount: '10000000',
                            takerToken: '0xtakertoken',
                            txOrigin: '',
                            verifyingContract: '',
                        },
                        type: types_1.RfqmOrderTypes.Otc,
                    },
                    orderHash: '0x01234567',
                    status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                    updatedAt: new Date(),
                    workerAddress: '',
                });
                const mockTransactionRequest = {};
                const mockTransaction = new entities_1.RfqmV2TransactionSubmissionEntity({
                    from: '0xworkeraddress',
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    orderHash: '0x01234567',
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xsignedtransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                });
                const mockTransactionReceipt = {
                    to: '0xto',
                    from: '0xfrom',
                    contractAddress: '0xexchangeproxyaddress',
                    transactionIndex: 0,
                    gasUsed: ethers_1.BigNumber.from(10000),
                    logsBloom: '',
                    blockHash: '0xblockhash',
                    transactionHash: '0xsignedtransactionhash',
                    logs: [],
                    blockNumber: 1,
                    confirmations: 3,
                    cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                    effectiveGasPrice: ethers_1.BigNumber.from(1000),
                    byzantium: true,
                    type: 2,
                    status: 1,
                };
                const mockNonce = 0;
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionsByOrderHashAsync('0x01234567', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([]);
                const updateRfqmJobCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                    updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
                });
                const writeV2RfqmTransactionSubmissionToDbCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.writeV2RfqmTransactionSubmissionToDbAsync((0, ts_mockito_1.anything)())).thenCall(async (transactionArg) => {
                    writeV2RfqmTransactionSubmissionToDbCalledArgs.push(_.cloneDeep(transactionArg));
                    return _.cloneDeep(mockTransaction);
                });
                (0, ts_mockito_1.when)(mockDbUtils.findV2TransactionSubmissionByTransactionHashAsync('0xsignedtransactionhash')).thenResolve(_.cloneDeep(mockTransaction));
                const updateRfqmTransactionSubmissionsCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmTransactionSubmissionsAsync((0, ts_mockito_1.anything)())).thenCall(async (tranactionArg) => {
                    updateRfqmTransactionSubmissionsCalledArgs.push(_.cloneDeep(tranactionArg));
                });
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(100);
                (0, ts_mockito_1.when)(mockBlockchainUtils.transformTxDataToTransactionRequest((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(mockTransactionRequest);
                (0, ts_mockito_1.when)(mockBlockchainUtils.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
                    signedTransaction: 'signedTransaction',
                    transactionHash: '0xsignedtransactionhash',
                });
                (0, ts_mockito_1.when)(mockBlockchainUtils.getExchangeProxyAddress()).thenReturn('0xexchangeproxyaddress');
                (0, ts_mockito_1.when)(mockBlockchainUtils.submitSignedTransactionAsync((0, ts_mockito_1.anything)())).thenResolve('0xsignedtransactionhash');
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                    mockTransactionReceipt,
                ]);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getDecodedRfqOrderFillEventLogFromLogs((0, ts_mockito_1.anything)())).thenReturn({
                    event: '',
                    logIndex: null,
                    transactionIndex: null,
                    transactionHash: '',
                    blockHash: '',
                    address: '',
                    data: '',
                    blockNumber: 0,
                    topics: [],
                    args: {
                        maker: '',
                        makerToken: '',
                        makerTokenFilledAmount: new utils_1.BigNumber(1234),
                        orderHash: '',
                        pool: '',
                        taker: '',
                        takerToken: '',
                        takerTokenFilledAmount: new utils_1.BigNumber(5),
                    },
                });
                (0, ts_mockito_1.when)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).thenReject(new Error('error'));
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                    enableAccessList: true,
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                await rfqmService.submitToChainAsync({
                    kind: job.kind,
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    calldata: '0xcalldata',
                    expiry: job.expiry,
                    identifier: job.orderHash,
                    submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                    onSubmissionContextStatusUpdate: callback,
                });
                (0, ts_mockito_1.verify)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)()));
                (0, ts_mockito_1.verify)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).once();
                (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
                (0, chai_1.expect)(writeV2RfqmTransactionSubmissionToDbCalledArgs[0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Presubmit);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[0][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Submitted);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[1][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
            });
        });
        // Not all tests from test block 'kind is `rfqm_v2_job`' is included here as most of the tests are similiar.
        // The tests below specifically test if corresponding methods are called for job kind `meta_transaction_job`.
        describe('kind is `meta_transaction_job`', () => {
            it('submits a transaction successfully when there is no previous transaction', async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const jobId = 'jobId';
                const transactionSubmissionId = 'submissionId';
                const job = createMeaTrsanctionJobEntity({
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(nowS + 600),
                    fee: {
                        amount: new utils_1.BigNumber(0),
                        token: '',
                        type: 'fixed',
                    },
                    inputToken: '0xinputToken',
                    inputTokenAmount: new utils_1.BigNumber(10),
                    integratorId: '0xintegrator',
                    metaTransaction: constants_2.MOCK_META_TRANSACTION,
                    metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                    minOutputTokenAmount: new utils_1.BigNumber(10),
                    outputToken: '0xoutputToken',
                    takerAddress: '0xtakerAddress',
                    takerSignature: {
                        signatureType: protocol_utils_1.SignatureType.EthSign,
                        v: 27,
                        r: '0x01',
                        s: '0x02',
                    },
                    status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                    workerAddress: '0xworkeraddress',
                }, jobId);
                const mockTransactionRequest = {};
                const mockTransaction = createMetaTransactionSubmissionEntity({
                    from: '0xworkeraddress',
                    metaTransactionJobId: jobId,
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xsignedtransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                }, transactionSubmissionId);
                const mockTransactionReceipt = {
                    to: '0xto',
                    from: '0xfrom',
                    contractAddress: '0xexchangeproxyaddress',
                    transactionIndex: 0,
                    gasUsed: ethers_1.BigNumber.from(10000),
                    logsBloom: '',
                    blockHash: '0xblockhash',
                    transactionHash: '0xsignedtransactionhash',
                    logs: [],
                    blockNumber: 1,
                    confirmations: 3,
                    cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                    effectiveGasPrice: ethers_1.BigNumber.from(1000),
                    byzantium: true,
                    type: 2,
                    status: 1,
                };
                const mockNonce = 0;
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([]);
                const updateRfqmJobCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                    updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
                });
                const writeMetaTransactionSubmissionAsyncCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.writeMetaTransactionSubmissionAsync((0, ts_mockito_1.anything)())).thenCall(async (transactionArg) => {
                    writeMetaTransactionSubmissionAsyncCalledArgs.push(_.cloneDeep(transactionArg));
                    return _.cloneDeep(mockTransaction);
                });
                (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByTransactionHashAsync('0xsignedtransactionhash', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([_.cloneDeep(mockTransaction)]);
                const updateRfqmTransactionSubmissionsCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmTransactionSubmissionsAsync((0, ts_mockito_1.anything)())).thenCall(async (tranactionArg) => {
                    updateRfqmTransactionSubmissionsCalledArgs.push(_.cloneDeep(tranactionArg));
                });
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(100);
                (0, ts_mockito_1.when)(mockBlockchainUtils.transformTxDataToTransactionRequest((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(mockTransactionRequest);
                (0, ts_mockito_1.when)(mockBlockchainUtils.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
                    signedTransaction: 'signedTransaction',
                    transactionHash: '0xsignedtransactionhash',
                });
                (0, ts_mockito_1.when)(mockBlockchainUtils.getExchangeProxyAddress()).thenReturn('0xexchangeproxyaddress');
                (0, ts_mockito_1.when)(mockBlockchainUtils.submitSignedTransactionAsync((0, ts_mockito_1.anything)())).thenResolve('0xsignedtransactionhash');
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                    mockTransactionReceipt,
                ]);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                await rfqmService.submitToChainAsync({
                    kind: job.kind,
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    calldata: '0xcalldata',
                    expiry: job.expiry,
                    identifier: job.id,
                    submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                    onSubmissionContextStatusUpdate: callback,
                });
                (0, ts_mockito_1.verify)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)()));
                // eth_createAccessList should not be called when not enabled
                (0, ts_mockito_1.verify)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).never();
                (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
                (0, chai_1.expect)(writeMetaTransactionSubmissionAsyncCalledArgs[0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Presubmit);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[0][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Submitted);
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[1][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
            });
            it('recovers a PRESUBMIT transaction which actually submitted', async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const jobId = 'jobId';
                const transactionSubmissionId = 'submissionId';
                const job = createMeaTrsanctionJobEntity({
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(nowS + 600),
                    fee: {
                        amount: new utils_1.BigNumber(0),
                        token: '',
                        type: 'fixed',
                    },
                    inputToken: '0xinputToken',
                    inputTokenAmount: new utils_1.BigNumber(10),
                    integratorId: '0xintegrator',
                    metaTransaction: constants_2.MOCK_META_TRANSACTION,
                    metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                    minOutputTokenAmount: new utils_1.BigNumber(10),
                    outputToken: '0xoutputToken',
                    takerAddress: '0xtakerAddress',
                    takerSignature: {
                        signatureType: protocol_utils_1.SignatureType.EthSign,
                        v: 27,
                        r: '0x01',
                        s: '0x02',
                    },
                    status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                    workerAddress: '0xworkeraddress',
                }, jobId);
                const mockPresubmitTransaction = createMetaTransactionSubmissionEntity({
                    from: '0xworkeraddress',
                    metaTransactionJobId: jobId,
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    status: types_1.RfqmTransactionSubmissionStatus.Presubmit,
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xpresubmittransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                }, transactionSubmissionId);
                const mockTransactionReceipt = {
                    blockHash: '0xblockhash',
                    blockNumber: 1,
                    byzantium: true,
                    confirmations: 3,
                    contractAddress: '0xexchangeproxyaddress',
                    cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                    effectiveGasPrice: ethers_1.BigNumber.from(1000),
                    from: '0xworkeraddress',
                    gasUsed: ethers_1.BigNumber.from(10000),
                    logs: [],
                    logsBloom: '',
                    status: 1,
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xpresubmittransactionhash',
                    transactionIndex: 0,
                    type: 2,
                };
                const mockTransactionResponse = {
                    chainId: 1,
                    confirmations: 0,
                    data: '',
                    from: '0xworkeraddress',
                    gasLimit: ethers_1.BigNumber.from(1000000),
                    hash: '0xpresubmittransactionhash',
                    nonce: 0,
                    type: 2,
                    value: ethers_1.BigNumber.from(0),
                    wait: (_confirmations) => Promise.resolve(mockTransactionReceipt),
                };
                const mockMinedBlock = {
                    _difficulty: ethers_1.BigNumber.from(2),
                    difficulty: 2,
                    extraData: '',
                    gasLimit: ethers_1.BigNumber.from(1000),
                    gasUsed: ethers_1.BigNumber.from(1000),
                    hash: '0xblockhash',
                    miner: '0xminer',
                    nonce: '0x000',
                    number: 21,
                    parentHash: '0xparentblockhash',
                    timestamp: 12345,
                    transactions: ['0xpresubmittransactionhash'],
                };
                const mockNonce = 0;
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([mockPresubmitTransaction]);
                const updateRfqmTransactionSubmissionsCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmTransactionSubmissionsAsync((0, ts_mockito_1.anything)())).thenCall(async (tranactionArg) => {
                    updateRfqmTransactionSubmissionsCalledArgs.push(_.cloneDeep(tranactionArg));
                });
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                // This mock response indicates that the transaction is present in the mempool
                (0, ts_mockito_1.when)(mockBlockchainUtils.getTransactionAsync('0xpresubmittransactionhash')).thenResolve(mockTransactionResponse);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenReject(new Error('estimateGasForAsync called during recovery'));
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xpresubmittransactionhash']))).thenResolve([
                    mockTransactionReceipt,
                ]);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getBlockAsync('0xblockhash')).thenResolve(mockMinedBlock);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                await rfqmService.submitToChainAsync({
                    kind: job.kind,
                    to: '0xexchangeproxyaddress',
                    from: '0xworkeraddress',
                    calldata: '0xcalldata',
                    expiry: job.expiry,
                    identifier: job.id,
                    submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                    onSubmissionContextStatusUpdate: callback,
                });
                // eth_createAccessList should not be called when not enabled
                (0, ts_mockito_1.verify)(mockBlockchainUtils.createAccessListForAsync((0, ts_mockito_1.anything)())).never();
                // Logic should first check to see if the transaction was actually sent.
                // If it was (and it is being mock so in this test) then the logic first
                // updates the status of the transaction to "Submitted"
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[0][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.Submitted);
                // The logic then enters the watch loop. On the first check, a transaction
                // receipt exists for this transaction and it will be marked "confirmed"
                (0, chai_1.expect)(updateRfqmTransactionSubmissionsCalledArgs[1][0].status).to.equal(types_1.RfqmTransactionSubmissionStatus.SucceededConfirmed);
                (0, chai_1.expect)(job.status).to.equal(types_1.RfqmJobStatus.SucceededConfirmed);
            });
            it('throws exception if there are more than 1 transaction submissions with the same transaction hash', async () => {
                const nowS = Math.round(new Date().getTime() / constants_1.ONE_SECOND_MS);
                const jobId = 'jobId';
                const transactionSubmissionId = 'submissionId';
                const job = createMeaTrsanctionJobEntity({
                    chainId: 1,
                    createdAt: new Date(),
                    expiry: new utils_1.BigNumber(nowS + 600),
                    fee: {
                        amount: new utils_1.BigNumber(0),
                        token: '',
                        type: 'fixed',
                    },
                    inputToken: '0xinputToken',
                    inputTokenAmount: new utils_1.BigNumber(10),
                    integratorId: '0xintegrator',
                    metaTransaction: constants_2.MOCK_META_TRANSACTION,
                    metaTransactionHash: constants_2.MOCK_META_TRANSACTION.getHash(),
                    minOutputTokenAmount: new utils_1.BigNumber(10),
                    outputToken: '0xoutputToken',
                    takerAddress: '0xtakerAddress',
                    takerSignature: {
                        signatureType: protocol_utils_1.SignatureType.EthSign,
                        v: 27,
                        r: '0x01',
                        s: '0x02',
                    },
                    status: types_1.RfqmJobStatus.PendingLastLookAccepted,
                    workerAddress: '0xworkeraddress',
                }, jobId);
                const mockTransactionRequest = {};
                const mockTransaction = createMetaTransactionSubmissionEntity({
                    from: '0xworkeraddress',
                    metaTransactionJobId: jobId,
                    maxFeePerGas: new utils_1.BigNumber(100000),
                    maxPriorityFeePerGas: new utils_1.BigNumber(100),
                    nonce: 0,
                    to: '0xexchangeproxyaddress',
                    transactionHash: '0xsignedtransactionhash',
                    type: types_1.RfqmTransactionSubmissionType.Trade,
                }, transactionSubmissionId);
                const mockTransactionReceipt = {
                    to: '0xto',
                    from: '0xfrom',
                    contractAddress: '0xexchangeproxyaddress',
                    transactionIndex: 0,
                    gasUsed: ethers_1.BigNumber.from(10000),
                    logsBloom: '',
                    blockHash: '0xblockhash',
                    transactionHash: '0xsignedtransactionhash',
                    logs: [],
                    blockNumber: 1,
                    confirmations: 3,
                    cumulativeGasUsed: ethers_1.BigNumber.from(1000),
                    effectiveGasPrice: ethers_1.BigNumber.from(1000),
                    byzantium: true,
                    type: 2,
                    status: 1,
                };
                const mockNonce = 0;
                const gasStationAttendantMock = (0, ts_mockito_1.mock)(GasStationAttendantEthereum_1.GasStationAttendantEthereum);
                (0, ts_mockito_1.when)(gasStationAttendantMock.getExpectedTransactionGasRateAsync()).thenResolve(new utils_1.BigNumber(10).shiftedBy(constants_1.GWEI_DECIMALS));
                const mockDbUtils = (0, ts_mockito_1.mock)(rfqm_db_utils_1.RfqmDbUtils);
                (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByJobIdAsync(jobId, types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([]);
                const updateRfqmJobCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmJobAsync((0, ts_mockito_1.anything)())).thenCall(async (jobArg) => {
                    updateRfqmJobCalledArgs.push(_.cloneDeep(jobArg));
                });
                const writeMetaTransactionSubmissionAsyncCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.writeMetaTransactionSubmissionAsync((0, ts_mockito_1.anything)())).thenCall(async (transactionArg) => {
                    writeMetaTransactionSubmissionAsyncCalledArgs.push(_.cloneDeep(transactionArg));
                    return _.cloneDeep(mockTransaction);
                });
                (0, ts_mockito_1.when)(mockDbUtils.findMetaTransactionSubmissionsByTransactionHashAsync('0xsignedtransactionhash', types_1.RfqmTransactionSubmissionType.Trade)).thenResolve([_.cloneDeep(mockTransaction), _.cloneDeep(mockTransaction)]);
                const updateRfqmTransactionSubmissionsCalledArgs = [];
                (0, ts_mockito_1.when)(mockDbUtils.updateRfqmTransactionSubmissionsAsync((0, ts_mockito_1.anything)())).thenCall(async (tranactionArg) => {
                    updateRfqmTransactionSubmissionsCalledArgs.push(_.cloneDeep(tranactionArg));
                });
                const mockBlockchainUtils = (0, ts_mockito_1.mock)(rfq_blockchain_utils_1.RfqBlockchainUtils);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getNonceAsync('0xworkeraddress')).thenResolve(mockNonce);
                (0, ts_mockito_1.when)(mockBlockchainUtils.estimateGasForAsync((0, ts_mockito_1.anything)())).thenResolve(100);
                (0, ts_mockito_1.when)(mockBlockchainUtils.transformTxDataToTransactionRequest((0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)(), (0, ts_mockito_1.anything)())).thenReturn(mockTransactionRequest);
                (0, ts_mockito_1.when)(mockBlockchainUtils.signTransactionAsync((0, ts_mockito_1.anything)())).thenResolve({
                    signedTransaction: 'signedTransaction',
                    transactionHash: '0xsignedtransactionhash',
                });
                (0, ts_mockito_1.when)(mockBlockchainUtils.getExchangeProxyAddress()).thenReturn('0xexchangeproxyaddress');
                (0, ts_mockito_1.when)(mockBlockchainUtils.submitSignedTransactionAsync((0, ts_mockito_1.anything)())).thenResolve('0xsignedtransactionhash');
                (0, ts_mockito_1.when)(mockBlockchainUtils.getReceiptsAsync((0, ts_mockito_1.deepEqual)(['0xsignedtransactionhash']))).thenResolve([
                    mockTransactionReceipt,
                ]);
                (0, ts_mockito_1.when)(mockBlockchainUtils.getCurrentBlockAsync()).thenResolve(4);
                const rfqmService = buildWorkerServiceForUnitTest({
                    dbUtils: (0, ts_mockito_1.instance)(mockDbUtils),
                    gasStationAttendant: (0, ts_mockito_1.instance)(gasStationAttendantMock),
                    rfqBlockchainUtils: (0, ts_mockito_1.instance)(mockBlockchainUtils),
                });
                const callback = async (newSubmissionContextStatus, oldSubmissionContextStatus) => {
                    if (newSubmissionContextStatus !== oldSubmissionContextStatus) {
                        const newJobStatus = SubmissionContext_1.SubmissionContext.tradeSubmissionContextStatusToJobStatus(newSubmissionContextStatus);
                        job.status = newJobStatus;
                        await mockDbUtils.updateRfqmJobAsync(job);
                    }
                };
                try {
                    await rfqmService.submitToChainAsync({
                        kind: job.kind,
                        to: '0xexchangeproxyaddress',
                        from: '0xworkeraddress',
                        calldata: '0xcalldata',
                        expiry: job.expiry,
                        identifier: job.id,
                        submissionType: types_1.RfqmTransactionSubmissionType.Trade,
                        onSubmissionContextStatusUpdate: callback,
                    });
                    chai_1.expect.fail();
                }
                catch (e) {
                    (0, chai_1.expect)(e.message).to.contain('Transaction hash have been submitted not exactly once');
                }
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3Rlc3Qvc2VydmljZXMvV29ya2VyU2VydmljZS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBS0EsdURBQTZEO0FBQzdELHFDQUFzQztBQUN0QywrQkFBOEI7QUFDOUIsbUNBQWlFO0FBQ2pFLDRCQUE0QjtBQUM1QiwrQ0FBd0M7QUFDeEMsMkNBQTZGO0FBRTdGLHdEQUFzRjtBQUN0RixpREFPNEI7QUFFNUIsd0dBRzREO0FBQzVELG9EQU1rQztBQUNsQyw2Q0FBMEM7QUFDMUMsd0dBQWlHO0FBQ2pHLG9FQUFpRTtBQUNqRSwrREFBMkQ7QUFFM0QsNkZBQTBGO0FBQzFGLDZFQUF3RTtBQUN4RSxpRUFBNEQ7QUFDNUQsK0VBQTBFO0FBQzFFLHlFQUFvRTtBQUNwRSxxRUFBK0Q7QUFDL0QseUVBQXNFO0FBQ3RFLDRDQUlzQjtBQUV0Qiw2REFBNkQ7QUFDN0QsbUVBQW1FO0FBQ25FLE1BQU0sNEJBQTRCLEdBQUcsNENBQTRDLENBQUM7QUFDbEYsTUFBTSxjQUFjLEdBQUcsSUFBSSxpQkFBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzFDLE1BQU0sMkNBQTJDLEdBQUcsRUFBRSxDQUFDO0FBQ3ZELE1BQU0sdUJBQXVCLEdBQUcsSUFBSSxpQkFBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyx3QkFBWSxDQUFDLENBQUM7QUFDekUsSUFBSSxTQUFzQixDQUFDO0FBRTNCLE1BQU0sNkJBQTZCLEdBQUcsQ0FDbEMsWUFXSSxFQUFFLEVBQ08sRUFBRTtJQUNmLE1BQU0sdUJBQXVCLEdBQUcsSUFBQSxpQkFBSSxFQUFDLHlEQUEyQixDQUFDLENBQUM7SUFDbEUsSUFBQSxpQkFBSSxFQUFDLHVCQUF1QixDQUFDLGtDQUFrQyxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDL0YsTUFBTSwyQkFBMkIsR0FBRyxJQUFBLHFCQUFRLEVBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUV0RSxNQUFNLHNC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Qjt3QkFDNUIsSUFBSSxFQUFFLGlCQUFpQjt3QkFDdkIsUUFBUSxFQUFFLFlBQVk7d0JBQ3RCLE1BQU0sRUFBRSxHQUFHLENBQUMsTUFBTTt3QkFDbEIsVUFBVSxFQUFFLEdBQUcsQ0FBQyxFQUFFO3dCQUNsQixjQUFjLEVBQUUscUNBQTZCLENBQUMsS0FBSzt3QkFDbkQsK0JBQStCLEVBQUUsUUFBUTtxQkFDNUMsQ0FBQyxDQUFDO29CQUNILGFBQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztpQkFDakI7Z0JBQUMsT0FBTyxDQUFDLEVBQUU7b0JBQ1IsSUFBQSxhQUFNLEVBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsdURBQXVELENBQUMsQ0FBQztpQkFDekY7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvZGF2aWR3YWxzaC9jb2RlLWxvY2FsLzB4LXJmcS1hcGkvdGVzdC9zZXJ2aWNlcy9Xb3JrZXJTZXJ2aWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdHNsaW50OmRpc2FibGU6Y3VzdG9tLW5vLW1hZ2ljLW51bWJlcnNcbi8vIHRzbGludDpkaXNhYmxlOm5vLWVtcHR5XG4vLyB0c2xpbnQ6ZGlzYWJsZTptYXgtZmlsZS1saW5lLWNvdW50XG5cbmltcG9ydCB7IHBpbm8gfSBmcm9tICdAMHgvYXBpLXV0aWxzJztcbmltcG9ydCB7IE90Y09yZGVyLCBTaWduYXR1cmVUeXBlIH0gZnJvbSAnQDB4L3Byb3RvY29sLXV0aWxzJztcbmltcG9ydCB7IEJpZ051bWJlciB9IGZyb20gJ0AweC91dGlscyc7XG5pbXBvcnQgeyBleHBlY3QgfSBmcm9tICdjaGFpJztcbmltcG9ydCB7IEJpZ051bWJlciBhcyBFdGhlcnNCaWdOdW1iZXIsIHByb3ZpZGVycyB9IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBQcm9kdWNlciB9IGZyb20gJ3Nxcy1wcm9kdWNlcic7XG5pbXBvcnQgeyBhbnl0aGluZywgY2FwdHVyZSwgZGVlcEVxdWFsLCBpbnN0YW5jZSwgbW9jaywgc3B5LCB2ZXJpZnksIHdoZW4gfSBmcm9tICd0cy1tb2NraXRvJztcblxuaW1wb3J0IHsgRVRIX0RFQ0lNQUxTLCBHV0VJX0RFQ0lNQUxTLCBPTkVfU0VDT05EX01TIH0gZnJvbSAnLi4vLi4vc3JjL2NvcmUvY29uc3RhbnRzJztcbmltcG9ydCB7XG4gICAgTWV0YVRyYW5zYWN0aW9uSm9iRW50aXR5LFxuICAgIFJmcW1Kb2JFbnRpdHksXG4gICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eSxcbiAgICBSZnFtVjJKb2JFbnRpdHksXG4gICAgUmZxbVYyUXVvdGVFbnRpdHksXG4gICAgUmZxbVYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5LFxufSBmcm9tICcuLi8uLi9zcmMvZW50aXRpZXMnO1xuaW1wb3J0IHsgTWV0YVRyYW5zYWN0aW9uSm9iQ29uc3RydWN0b3JPcHRzIH0gZnJvbSAnLi4vLi4vc3JjL2VudGl0aWVzL01ldGFUcmFuc2FjdGlvbkpvYkVudGl0eSc7XG5pbXBvcnQge1xuICAgIE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHksXG4gICAgTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eUNvbnN0cnVjdG9yT3B0cyxcbn0gZnJvbSAnLi4vLi4vc3JjL2VudGl0aWVzL01ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHknO1xuaW1wb3J0IHtcbiAgICBSZnFtSm9iU3RhdHVzLFxuICAgIFJmcW1PcmRlclR5cGVzLFxuICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMsXG4gICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUsXG4gICAgU3VibWlzc2lvbkNvbnRleHRTdGF0dXMsXG59IGZyb20gJy4uLy4uL3NyYy9lbnRpdGllcy90eXBlcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi8uLi9zcmMvbG9nZ2VyJztcbmltcG9ydCB7IFJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSB9IGZyb20gJy4uLy4uL3NyYy9zZXJ2aWNlcy9yZnFfbWFrZXJfYmFsYW5jZV9jYWNoZV9zZXJ2aWNlJztcbmltcG9ydCB7IFdvcmtlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9zcmMvc2VydmljZXMvV29ya2VyU2VydmljZSc7XG5pbXBvcnQgeyBDYWNoZUNsaWVudCB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9jYWNoZV9jbGllbnQnO1xuaW1wb3J0IHsgR2FzU3RhdGlvbkF0dGVuZGFudCB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9HYXNTdGF0aW9uQXR0ZW5kYW50JztcbmltcG9ydCB7IEdhc1N0YXRpb25BdHRlbmRhbnRFdGhlcmV1bSB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9HYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0nO1xuaW1wb3J0IHsgUXVvdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICcuLi8uLi9zcmMvdXRpbHMvcXVvdGVfc2VydmVyX2NsaWVudCc7XG5pbXBvcnQgeyBSZnFtRGJVdGlscyB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9yZnFtX2RiX3V0aWxzJztcbmltcG9ydCB7IFJmcUJsb2NrY2hhaW5VdGlscyB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9yZnFfYmxvY2tjaGFpbl91dGlscyc7XG5pbXBvcnQgeyBSZnFNYWtlck1hbmFnZXIgfSBmcm9tICcuLi8uLi9zcmMvdXRpbHMvcmZxX21ha2VyX21hbmFnZXInO1xuaW1wb3J0IHsgcGFkU2lnbmF0dXJlIH0gZnJvbSAnLi4vLi4vc3JjL3V0aWxzL3NpZ25hdHVyZV91dGlscyc7XG5pbXBvcnQgeyBTdWJtaXNzaW9uQ29udGV4dCB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9TdWJtaXNzaW9uQ29udGV4dCc7XG5pbXBvcnQge1xuICAgIE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0FQUFJPVkFMLFxuICAgIE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0NBTExEQVRBLFxuICAgIE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbn0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuLy8gJGVzbGludC1maXgtbWUgaHR0cHM6Ly9naXRodWIuY29tL3JoaW5vZGF2aWQvZXNsaW50LWZpeC1tZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1sb3NzLW9mLXByZWNpc2lvblxuY29uc3QgTU9DS19XT1JLRVJfUkVHSVNUUllfQUREUkVTUyA9ICcweDEwMjMzMzFhNDY5YzYzOTE3MzBmZjFFMjc0OTQyMkNFODg3M0VDMzgnO1xuY29uc3QgTU9DS19HQVNfUFJJQ0UgPSBuZXcgQmlnTnVtYmVyKDEwMCk7XG5jb25zdCBURVNUX1JGUU1fVFJBTlNBQ1RJT05fV0FUQ0hFUl9TTEVFUF9USU1FX01TID0gNTA7XG5jb25zdCBXT1JLRVJfRlVMTF9CQUxBTkNFX1dFSSA9IG5ldyBCaWdOdW1iZXIoMSkuc2hpZnRlZEJ5KEVUSF9ERUNJTUFMUyk7XG5sZXQgbG9nZ2VyU3B5OiBwaW5vLkxvZ2dlcjtcblxuY29uc3QgYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3QgPSAoXG4gICAgb3ZlcnJpZGVzOiB7XG4gICAgICAgIGNhY2hlQ2xpZW50PzogQ2FjaGVDbGllbnQ7XG4gICAgICAgIGRiVXRpbHM/OiBSZnFtRGJVdGlscztcbiAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlPzogUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlO1xuICAgICAgICByZnFNYWtlck1hbmFnZXI/OiBSZnFNYWtlck1hbmFnZXI7XG4gICAgICAgIGdhc1N0YXRpb25BdHRlbmRhbnQ/OiBHYXNTdGF0aW9uQXR0ZW5kYW50O1xuICAgICAgICBxdW90ZVNlcnZlckNsaWVudD86IFF1b3RlU2VydmVyQ2xpZW50O1xuICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM/OiBSZnFCbG9ja2NoYWluVXRpbHM7XG4gICAgICAgIGluaXRpYWxNYXhQcmlvcml0eUZlZVBlckdhc0d3ZWk/OiBudW1iZXI7XG4gICAgICAgIG1heEZlZVBlckdhc0d3ZWk/OiBudW1iZXI7XG4gICAgICAgIGVuYWJsZUFjY2Vzc0xpc3Q/OiBib29sZWFuO1xuICAgIH0gPSB7fSxcbik6IFdvcmtlclNlcnZpY2UgPT4ge1xuICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgIHdoZW4oZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2suZ2V0RXhwZWN0ZWRUcmFuc2FjdGlvbkdhc1JhdGVBc3luYygpKS50aGVuUmVzb2x2ZShNT0NLX0dBU19QUklDRSk7XG4gICAgY29uc3QgZ2FzU3RhdGlvbkF0dGVuZGFudEluc3RhbmNlID0gaW5zdGFuY2UoZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2spO1xuXG4gICAgY29uc3QgcmZxQmxvY2tjaGFpblV0aWxzTW9jayA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICB3aGVuKHJmcUJsb2NrY2hhaW5VdGlsc01vY2suZ2V0QWNjb3VudEJhbGFuY2VBc3luYyhNT0NLX1dPUktFUl9SRUdJU1RSWV9BRERSRVNTKSkudGhlblJlc29sdmUoXG4gICAgICAgIFdPUktFUl9GVUxMX0JBTEFOQ0VfV0VJLFxuICAgICk7XG4gICAgY29uc3Qgc3FzTW9jayA9IG1vY2soUHJvZHVjZXIpO1xuICAgIHdoZW4oc3FzTW9jay5xdWV1ZVNpemUoKSkudGhlblJlc29sdmUoMCk7XG4gICAgY29uc3QgcXVvdGVTZXJ2ZXJDbGllbnRNb2NrID0gbW9jayhRdW90ZVNlcnZlckNsaWVudCk7XG5cbiAgICBjb25zdCBjYWNoZUNsaWVudE1vY2sgPSBtb2NrKENhY2hlQ2xpZW50KTtcbiAgICBjb25zdCBkZWZhdWx0RGJVdGlsc01vY2sgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICBjb25zdCByZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2VNb2NrID0gbW9jayhSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpO1xuICAgIGNvbnN0IHJmcU1ha2VyTWFuYWdlck1vY2sgPSBtb2NrKFJmcU1ha2VyTWFuYWdlcik7XG5cbiAgICByZXR1cm4gbmV3IFdvcmtlclNlcnZpY2UoXG4gICAgICAgIDEsXG4gICAgICAgIG92ZXJyaWRlcy5nYXNTdGF0aW9uQXR0ZW5kYW50IHx8IGdhc1N0YXRpb25BdHRlbmRhbnRJbnN0YW5jZSxcbiAgICAgICAgTU9DS19XT1JLRVJfUkVHSVNUUllfQUREUkVTUyxcbiAgICAgICAgb3ZlcnJpZGVzLnJmcUJsb2NrY2hhaW5VdGlscyB8fCBpbnN0YW5jZShyZnFCbG9ja2NoYWluVXRpbHNNb2NrKSxcbiAgICAgICAgb3ZlcnJpZGVzLmRiVXRpbHMgfHwgaW5zdGFuY2UoZGVmYXVsdERiVXRpbHNNb2NrKSxcbiAgICAgICAgb3ZlcnJpZGVzLnF1b3RlU2VydmVyQ2xpZW50IHx8IHF1b3RlU2VydmVyQ2xpZW50TW9jayxcbiAgICAgICAgVEVTVF9SRlFNX1RSQU5TQUNUSU9OX1dBVENIRVJfU0xFRVBfVElNRV9NUyxcbiAgICAgICAgb3ZlcnJpZGVzLmNhY2hlQ2xpZW50IHx8IGNhY2hlQ2xpZW50TW9jayxcbiAgICAgICAgb3ZlcnJpZGVzLnJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSB8fCBpbnN0YW5jZShyZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2VNb2NrKSxcbiAgICAgICAgb3ZlcnJpZGVzLnJmcU1ha2VyTWFuYWdlciB8fCByZnFNYWtlck1hbmFnZXJNb2NrLFxuICAgICAgICBvdmVycmlkZXMuaW5pdGlhbE1heFByaW9yaXR5RmVlUGVyR2FzR3dlaSB8fCAyLFxuICAgICAgICBvdmVycmlkZXMubWF4RmVlUGVyR2FzR3dlaSB8fCAxMjgsXG4gICAgICAgIG92ZXJyaWRlcy5lbmFibGVBY2Nlc3NMaXN0LFxuICAgICk7XG59O1xuXG5jb25zdCBjcmVhdGVNZWFUcnNhbmN0aW9uSm9iRW50aXR5ID0gKFxuICAgIG9wdHM6IE1ldGFUcmFuc2FjdGlvbkpvYkNvbnN0cnVjdG9yT3B0cyxcbiAgICBpZDogc3RyaW5nLFxuKTogTWV0YVRyYW5zYWN0aW9uSm9iRW50aXR5ID0+IHtcbiAgICBjb25zdCBqb2IgPSBuZXcgTWV0YVRyYW5zYWN0aW9uSm9iRW50aXR5KG9wdHMpO1xuICAgIGpvYi5pZCA9IGlkO1xuICAgIHJldHVybiBqb2I7XG59O1xuXG5jb25zdCBjcmVhdGVNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5ID0gKFxuICAgIG9wdHM6IE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlDb25zdHJ1Y3Rvck9wdHMsXG4gICAgaWQ6IHN0cmluZyxcbik6IE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkgPT4ge1xuICAgIGNvbnN0IHN1Ym1pc3Npb24gPSBuZXcgTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eShvcHRzKTtcbiAgICBzdWJtaXNzaW9uLmlkID0gaWQ7XG4gICAgcmV0dXJuIHN1Ym1pc3Npb247XG59O1xuXG5jb25zdCBmYWtlQ2xvY2tNcyA9IDE2Mzc3MjI4OTgwMDA7XG5jb25zdCBmYWtlT25lTWludXRlQWdvUyA9IGZha2VDbG9ja01zIC8gT05FX1NFQ09ORF9NUyAtIDYwO1xuY29uc3QgZmFrZUZpdmVNaW51dGVzTGF0ZXIgPSBmYWtlQ2xvY2tNcyAvIE9ORV9TRUNPTkRfTVMgKyAzMDA7XG5cbmNvbnN0IG1ha2VyID0gJzB4YmIwMDQwOTBkMjY4NDViNjcyZjE3YzZkYTRiN2QxNjJkZjNiZmM1ZSc7XG5jb25zdCBvcmRlckhhc2ggPSAnMHgxMTIxNjBmYjA5MzNlY2RlNzIwZjYzYjUwYjMwM2NlNjRlNTJkZWQ3MDJiZWY3OGI5YzIwMzYxZjM2NTJhNDYyJztcblxuLy8gVGhpcyBzaWcgYWN0dWFsbHkgYmVsb25ncyB0byB0aGUgbWFrZXIgYWJvdmVcbmNvbnN0IHZhbGlkRUlQNzEyU2lnID0ge1xuICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRUlQNzEyLFxuICAgIHY6IDI4LFxuICAgIHI6ICcweGRjMTU4ZjdiNTNiOTQwODYzYmM3YjAwMTU1MmE5MDI4MmU1MTAzM2YyOWI3M2Q0NGEyNzAxYmQxNmZhYTE5ZDInLFxuICAgIHM6ICcweDU1ZjZjNTQ3MGU0MWIzOWE1ZGRlYjYzYzIyZjhiYTFkMzQ3NDhmOTMyNjU3MTViOWRjNGEwZjEwMTM4OTg1YTYnLFxufTtcblxuLy8gVGhpcyBpcyBhIHJlYWwgc2lnbmF0dXJlIHRoYXQgaGFkIGEgbWlzc2luZyBieXRlXG5jb25zdCBtaXNzaW5nQnl0ZVNpZyA9IHtcbiAgICByOiAnMHg1NjhiMzEwNzZlMWM2NTk1NGFkYjFiY2NjNzIzNzE4YjM0NjBmMWI2OTljZTEyNTJmOGE4M2JkYTBkNTIxMDA1JyxcbiAgICBzOiAnMHgwMzA3Y2M3ZjQxNjFkZjgxMmY3ZTVhNjUxYjIzZGJkMzM5ODFjMDQxMGRmMGRkODIwYTUyZjYxYmU3YTVhYicsXG4gICAgdjogMjgsXG4gICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxufTtcblxuamVzdC5zZXRUaW1lb3V0KE9ORV9TRUNPTkRfTVMgKiAxMjApO1xuXG5kZXNjcmliZSgnV29ya2VyU2VydmljZScsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgbG9nZ2VyU3B5ID0gc3B5KGxvZ2dlcik7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnd29ya2VyQmVmb3JlTG9naWNBc3luYycsICgpID0+IHtcbiAgICAgICAgaXQoJ2NhbGxzIGBwcm9jZXNzSm9iQXN5bmNgIHdpdGggdGhlIGNvcnJlY3QgYXJndW1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd29ya2VySW5kZXggPSAwO1xuICAgICAgICAgICAgY29uc3Qgd29ya2VyQWRkcmVzcyA9IE1PQ0tfV09SS0VSX1JFR0lTVFJZX0FERFJFU1M7XG4gICAgICAgICAgICBjb25zdCBqb2JJZCA9ICdqb2JJZCc7XG4gICAgICAgICAgICBjb25zdCBtZXRhVHJhbnNhY3Rpb25Kb2IgPSBjcmVhdGVNZWFUcnNhbmN0aW9uSm9iRW50aXR5KFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIpLFxuICAgICAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogbmV3IEJpZ051bWJlcigwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW46ICcweGlucHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwKSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnMHhpbnRlZ3JhdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uOiBNT0NLX01FVEFfVFJBTlNBQ1RJT04sXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbkhhc2g6IE1PQ0tfTUVUQV9UUkFOU0FDVElPTi5nZXRIYXNoKCksXG4gICAgICAgICAgICAgICAgICAgIG1pbk91dHB1dFRva2VuQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwKSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9rZW46ICcweG91dHB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzOiAnMHh0YWtlckFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgam9iSWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcmZxbVYySm9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMTAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHhtYWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEwMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweHRha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2gsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgICAgICAgICAgd2hlbihnYXNTdGF0aW9uQXR0ZW5kYW50TW9jay5nZXRFeHBlY3RlZFRyYW5zYWN0aW9uR2FzUmF0ZUFzeW5jKCkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTApLnNoaWZ0ZWRCeShHV0VJX0RFQ0lNQUxTKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJsb2NrY2hhaW5VdGlsc01vY2sgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKGJsb2NrY2hhaW5VdGlsc01vY2suZ2V0QWNjb3VudEJhbGFuY2VBc3luYyh3b3JrZXJBZGRyZXNzKSkudGhlblJlc29sdmUoV09SS0VSX0ZVTExfQkFMQU5DRV9XRUkpO1xuXG4gICAgICAgICAgICBjb25zdCBkYlV0aWxzTW9jayA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihkYlV0aWxzTW9jay5maW5kVjJVbnJlc29sdmVkSm9ic0FzeW5jKHdvcmtlckFkZHJlc3MsIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbcmZxbVYySm9iXSk7XG4gICAgICAgICAgICB3aGVuKGRiVXRpbHNNb2NrLmZpbmRVbnJlc29sdmVkTWV0YVRyYW5zYWN0aW9uSm9ic0FzeW5jKHdvcmtlckFkZHJlc3MsIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSm9iLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKGRiVXRpbHNNb2NrKSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKGJsb2NrY2hhaW5VdGlsc01vY2spLFxuICAgICAgICAgICAgICAgIGdhc1N0YXRpb25BdHRlbmRhbnQ6IGluc3RhbmNlKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgc3BpZWRSZnFtU2VydmljZSA9IHNweShyZnFtU2VydmljZSk7XG4gICAgICAgICAgICB3aGVuKHNwaWVkUmZxbVNlcnZpY2UucHJvY2Vzc0pvYkFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSgpO1xuXG4gICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS53b3JrZXJCZWZvcmVMb2dpY0FzeW5jKHdvcmtlckluZGV4LCB3b3JrZXJBZGRyZXNzKTtcbiAgICAgICAgICAgIHZlcmlmeShzcGllZFJmcW1TZXJ2aWNlLnByb2Nlc3NKb2JBc3luYyhvcmRlckhhc2gsIHdvcmtlckFkZHJlc3MsICdyZnFtX3YyX2pvYicpKS5vbmNlKCk7XG4gICAgICAgICAgICB2ZXJpZnkoc3BpZWRSZnFtU2VydmljZS5wcm9jZXNzSm9iQXN5bmMoam9iSWQsIHdvcmtlckFkZHJlc3MsICdtZXRhX3RyYW5zYWN0aW9uX2pvYicpKS5vbmNlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3Byb2Nlc3NKb2JBc3luYycsICgpID0+IHtcbiAgICAgICAgaXQoJ2ZhaWxzIGlmIG5vIHJmcW0gdjIgam9iIGlzIGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gUmV0dXJuIGB1bmRlZmluZWRgIGZvciB2MSBhbmQgdjIgam9iIGZvciBvcmRlcmhhc2hcbiAgICAgICAgICAgIGNvbnN0IGRiVXRpbHNNb2NrID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKGRiVXRpbHNNb2NrLmZpbmRWMkpvYkJ5T3JkZXJIYXNoQXN5bmMoJzB4MDEyMzQ1NjcnKSkudGhlblJlc29sdmUobnVsbCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3QoeyBkYlV0aWxzOiBpbnN0YW5jZShkYlV0aWxzTW9jaykgfSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnByb2Nlc3NKb2JBc3luYygnMHgwMTIzNDU2NycsICcweHdvcmtlcmFkZHJlc3MnKTtcbiAgICAgICAgICAgIGV4cGVjdChjYXB0dXJlKGxvZ2dlclNweS5lcnJvcikubGFzdCgpWzBdKS50by5pbmNsdWRlKHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdObyBqb2IgZm91bmQgZm9yIGlkZW50aWZpZXInLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdmYWlscyBpZiBhIHdvcmtlciBlbmRzIHVwIHdpdGggYSBqb2IgYXNzaWduZWQgdG8gYSBkaWZmZXJlbnQgd29ya2VyIGZvciBhIHJmcW0gdjIgam9iJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGJVdGlsc01vY2sgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4oZGJVdGlsc01vY2suZmluZFYySm9iQnlPcmRlckhhc2hBc3luYygnMHgwMTIzNDU2NycpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VPbmVNaW51dGVBZ29TKSxcbiAgICAgICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihmYWtlT25lTWludXRlQWdvUy50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnMHh3cm9uZ3dvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7IGRiVXRpbHM6IGluc3RhbmNlKGRiVXRpbHNNb2NrKSB9KTtcblxuICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UucHJvY2Vzc0pvYkFzeW5jKCcweDAxMjM0NTY3JywgJzB4d29ya2VyYWRkcmVzcycpO1xuICAgICAgICAgICAgZXhwZWN0KGNhcHR1cmUobG9nZ2VyU3B5LmVycm9yKS5sYXN0KClbMF0pLnRvLmluY2x1ZGUoe1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ1dvcmtlciB3YXMgc2VudCBhIGpvYiBjbGFpbWVkIGJ5IGEgZGlmZmVyZW50IHdvcmtlcicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ2ZhaWxzIGlmIG5vIG1ldGEtdHJhbnNhY3Rpb24gam9iIGlzIGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGJVdGlsc01vY2sgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIGNvbnN0IGpvYklkID0gJ2pvYklkJztcbiAgICAgICAgICAgIHdoZW4oZGJVdGlsc01vY2suZmluZE1ldGFUcmFuc2FjdGlvbkpvYkJ5SWRBc3luYyhqb2JJZCkpLnRoZW5SZXNvbHZlKG51bGwpO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHsgZGJVdGlsczogaW5zdGFuY2UoZGJVdGlsc01vY2spIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcm9jZXNzSm9iQXN5bmMoam9iSWQsICcweHdvcmtlcmFkZHJlc3MnLCAnbWV0YV90cmFuc2FjdGlvbl9qb2InKTtcbiAgICAgICAgICAgIGV4cGVjdChjYXB0dXJlKGxvZ2dlclNweS5lcnJvcikubGFzdCgpWzBdKS50by5pbmNsdWRlKHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdObyBqb2IgZm91bmQgZm9yIGlkZW50aWZpZXInLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdmYWlscyBpZiBhIHdvcmtlciBlbmRzIHVwIHdpdGggYSBqb2IgYXNzaWduZWQgdG8gYSBkaWZmZXJlbnQgd29ya2VyIGZvciBhIG1ldGEtdHJhbnNhY3Rpb24gam9iJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iSWQgPSAnam9iSWQnO1xuICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG5ldyBCaWdOdW1iZXIoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuOiAnaW5wdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcweGludGVncmF0b3InLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbjogJzB4b3V0cHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJzB4d3Jvbmd3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92YWw6IE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0FQUFJPVkFMLFxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbFNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRiVXRpbHNNb2NrID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKGRiVXRpbHNNb2NrLmZpbmRNZXRhVHJhbnNhY3Rpb25Kb2JCeUlkQXN5bmMoam9iSWQpKS50aGVuUmVzb2x2ZShqb2IpO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHsgZGJVdGlsczogaW5zdGFuY2UoZGJVdGlsc01vY2spIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcm9jZXNzSm9iQXN5bmMoam9iSWQsICcweHdvcmtlcmFkZHJlc3MnLCAnbWV0YV90cmFuc2FjdGlvbl9qb2InKTtcbiAgICAgICAgICAgIGV4cGVjdChjYXB0dXJlKGxvZ2dlclNweS5lcnJvcikubGFzdCgpWzBdKS50by5pbmNsdWRlKHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdXb3JrZXIgd2FzIHNlbnQgYSBqb2IgY2xhaW1lZCBieSBhIGRpZmZlcmVudCB3b3JrZXInLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3Byb2Nlc3NBcHByb3ZhbEFuZFRyYWRlQXN5bmMnLCAoKSA9PiB7XG4gICAgICAgIGl0KCd0aHJvd3MgaWYgbm9uLWFwcHJvdmFsIGpvYiBpcyBzdXBwbGllZCB0byB0aGUgbWV0aG9kIGZvciBhIHJmcW0gdjIgam9iJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnMHhtYWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UucHJvY2Vzc0FwcHJvdmFsQW5kVHJhZGVBc3luYyhqb2IsICcweHdvcmtlcmFkZHJlc3MnKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oXG4gICAgICAgICAgICAgICAgICAgICdOb24tYXBwcm92YWwgam9iIHNob3VsZCBub3QgYmUgcHJvY2Vzc2VkIGJ5IGBwcm9jZXNzQXBwcm92YWxBbmRUcmFkZUFzeW5jYCcsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBub3QgcHJvY2VlZCB0byB0cmFkZSB0cmFuc2FjdGlvbiBpZiB0aGUgc3RhdHVzIG9mIGFwcHJvdmFsIHRyYW5zYWN0aW9uIGlzIG5vdCBgU3VjY2VlZGVkQ29uZmlybWVkYCBmb3IgYSByZnFtIHYyIGpvYicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vd1MgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gT05FX1NFQ09ORF9NUyk7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIobm93UyArIDEwKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKG5vd1MgKyAxMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgYXBwcm92YWw6IE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0FQUFJPVkFMLFxuICAgICAgICAgICAgICAgIGFwcHJvdmFsU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tQcmVzdWJtaXRUcmFuc2FjdGlvbiA9IG5ldyBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoe1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoMTIzMyksXG4gICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICBub25jZTogMCxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLkFwcHJvdmFsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZWNlaXB0ID0ge1xuICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJzB4YmxvY2toYXNoJyxcbiAgICAgICAgICAgICAgICBibG9ja051bWJlcjogMSxcbiAgICAgICAgICAgICAgICBieXphbnRpdW06IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uczogMyxcbiAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBjdW11bGF0aXZlR2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgZWZmZWN0aXZlR2FzUHJpY2U6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDAwKSxcbiAgICAgICAgICAgICAgICBsb2dzOiBbXSxcbiAgICAgICAgICAgICAgICBsb2dzQmxvb206ICcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogMCxcbiAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkluZGV4OiAwLFxuICAgICAgICAgICAgICAgIHR5cGU6IDIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbW9ja01pbmVkQmxvY2s6IHByb3ZpZGVycy5CbG9jayA9IHtcbiAgICAgICAgICAgICAgICBfZGlmZmljdWx0eTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMiksXG4gICAgICAgICAgICAgICAgZGlmZmljdWx0eTogMixcbiAgICAgICAgICAgICAgICBleHRyYURhdGE6ICcnLFxuICAgICAgICAgICAgICAgIGdhc0xpbWl0OiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICBnYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICBoYXNoOiAnMHhibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgIG1pbmVyOiAnMHhtaW5lcicsXG4gICAgICAgICAgICAgICAgbm9uY2U6ICcweDAwMCcsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiAyMSxcbiAgICAgICAgICAgICAgICBwYXJlbnRIYXNoOiAnMHhwYXJlbnRibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogMTIzNDUsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJ10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbW9ja05vbmNlID0gMDtcblxuICAgICAgICAgICAgY29uc3QgZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2sgPSBtb2NrKEdhc1N0YXRpb25BdHRlbmRhbnRFdGhlcmV1bSk7XG4gICAgICAgICAgICB3aGVuKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrLmdldEV4cGVjdGVkVHJhbnNhY3Rpb25HYXNSYXRlQXN5bmMoKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMCkuc2hpZnRlZEJ5KEdXRUlfREVDSU1BTFMpLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIC8vIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgbW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoXG4gICAgICAgICAgICAgICAgICAgIGFueXRoaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLkFwcHJvdmFsLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKFttb2NrUHJlc3VibWl0VHJhbnNhY3Rpb25dKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBSZnFtSm9iRW50aXR5W10gPSBbXTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcChqb2JBcmcpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrUXVvdGVTZXJ2ZXJDbGllbnQgPSBtb2NrKFF1b3RlU2VydmVyQ2xpZW50KTtcbiAgICAgICAgICAgIHdoZW4obW9ja1F1b3RlU2VydmVyQ2xpZW50LnNpZ25WMkFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSh2YWxpZEVJUDcxMlNpZyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuaXNWYWxpZE9yZGVyU2lnbmVyQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE1pbk9mQmFsYW5jZXNBbmRBbGxvd2FuY2VzQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0VG9rZW5CYWxhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKV0pO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlQXBwcm92YWxDYWxsZGF0YUFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICAnMHhjYWxsZGF0YScsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE5vbmNlQXN5bmMoJzB4d29ya2VyYWRkcmVzcycpKS50aGVuUmVzb2x2ZShtb2NrTm9uY2UpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldFJlY2VpcHRzQXN5bmMoZGVlcEVxdWFsKFsnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnXSkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdCxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEJsb2NrQXN5bmMoJzB4YmxvY2toYXNoJykpLnRoZW5SZXNvbHZlKG1vY2tNaW5lZEJsb2NrKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRDdXJyZW50QmxvY2tBc3luYygpKS50aGVuUmVzb2x2ZSg0KTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXREZWNvZGVkUmZxT3JkZXJGaWxsRXZlbnRMb2dGcm9tTG9ncyhhbnl0aGluZygpKSkudGhlblJldHVybih7XG4gICAgICAgICAgICAgICAgZXZlbnQ6ICcnLFxuICAgICAgICAgICAgICAgIGxvZ0luZGV4OiBudWxsLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSW5kZXg6IG51bGwsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnJyxcbiAgICAgICAgICAgICAgICBibG9ja0hhc2g6ICcnLFxuICAgICAgICAgICAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGRhdGE6ICcnLFxuICAgICAgICAgICAgICAgIGJsb2NrTnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgIHRvcGljczogW10sXG4gICAgICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgICAgICBtYWtlcjogJycsXG4gICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuRmlsbGVkQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEyMzQpLFxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcnLFxuICAgICAgICAgICAgICAgICAgICBwb29sOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbkZpbGxlZEFtb3VudDogbmV3IEJpZ051bWJlcig1KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UgPSBtb2NrKFJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UuZ2V0RVJDMjBPd25lckJhbGFuY2VzQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICBxdW90ZVNlcnZlckNsaWVudDogaW5zdGFuY2UobW9ja1F1b3RlU2VydmVyQ2xpZW50KSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZTogaW5zdGFuY2UobW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UucHJvY2Vzc0FwcHJvdmFsQW5kVHJhZGVBc3luYyhqb2IsICcweHdvcmtlcmFkZHJlc3MnKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnc1swXS5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1Byb2Nlc3NpbmcpO1xuICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzWzFdLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5QZW5kaW5nTGFzdExvb2tBY2NlcHRlZCk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MubGVuZ3RoIC0gMV0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICBSZnFtSm9iU3RhdHVzLkZhaWxlZFJldmVydGVkQ29uZmlybWVkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChqb2Iuc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLkZhaWxlZFJldmVydGVkQ29uZmlybWVkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBwcm9jZWVkIHRvIHRyYWRlIHRyYW5zYWN0aW9uIGlmIHRoZSBzdGF0dXMgb2YgYXBwcm92YWwgdHJhbnNhY3Rpb24gaXMgYFN1Y2NlZWRlZENvbmZpcm1lZGAgZm9yIGEgcmZxbSB2MiBqb2InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3dTID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIE9ORV9TRUNPTkRfTVMpO1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKG5vd1MgKyAxMCksXG4gICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiBudWxsLFxuICAgICAgICAgICAgICAgIG1ha2VyVXJpOiAnaHR0cDovL2Zvby5iYXInLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiBudWxsLFxuICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihub3dTICsgMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGFwcHJvdmFsOiBNT0NLX0VYRUNVVEVfTUVUQV9UUkFOU0FDVElPTl9BUFBST1ZBTCxcbiAgICAgICAgICAgICAgICBhcHByb3ZhbFNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUHJlc3VibWl0QXBwcm92YWxUcmFuc2FjdGlvbiA9IG5ldyBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoe1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoMTIzMyksXG4gICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICBub25jZTogMCxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLkFwcHJvdmFsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUHJlc3VibWl0VHJhZGVUcmFuc2FjdGlvbiA9IG5ldyBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoe1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoMTIzMyksXG4gICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICBub25jZTogMCxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZWNlaXB0ID0ge1xuICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJzB4YmxvY2toYXNoJyxcbiAgICAgICAgICAgICAgICBibG9ja051bWJlcjogMSxcbiAgICAgICAgICAgICAgICBieXphbnRpdW06IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uczogMyxcbiAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBjdW11bGF0aXZlR2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgZWZmZWN0aXZlR2FzUHJpY2U6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDAwKSxcbiAgICAgICAgICAgICAgICBsb2dzOiBbXSxcbiAgICAgICAgICAgICAgICBsb2dzQmxvb206ICcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogMSxcbiAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkluZGV4OiAwLFxuICAgICAgICAgICAgICAgIHR5cGU6IDIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbW9ja01pbmVkQmxvY2s6IHByb3ZpZGVycy5CbG9jayA9IHtcbiAgICAgICAgICAgICAgICBfZGlmZmljdWx0eTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMiksXG4gICAgICAgICAgICAgICAgZGlmZmljdWx0eTogMixcbiAgICAgICAgICAgICAgICBleHRyYURhdGE6ICcnLFxuICAgICAgICAgICAgICAgIGdhc0xpbWl0OiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICBnYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICBoYXNoOiAnMHhibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgIG1pbmVyOiAnMHhtaW5lcicsXG4gICAgICAgICAgICAgICAgbm9uY2U6ICcweDAwMCcsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiAyMSxcbiAgICAgICAgICAgICAgICBwYXJlbnRIYXNoOiAnMHhwYXJlbnRibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogMTIzNDUsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJ10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbW9ja05vbmNlID0gMDtcblxuICAgICAgICAgICAgY29uc3QgZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2sgPSBtb2NrKEdhc1N0YXRpb25BdHRlbmRhbnRFdGhlcmV1bSk7XG4gICAgICAgICAgICB3aGVuKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrLmdldEV4cGVjdGVkVHJhbnNhY3Rpb25HYXNSYXRlQXN5bmMoKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMCkuc2hpZnRlZEJ5KEdXRUlfREVDSU1BTFMpLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIC8vIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgbW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoXG4gICAgICAgICAgICAgICAgICAgIGFueXRoaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLkFwcHJvdmFsLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKFttb2NrUHJlc3VibWl0QXBwcm92YWxUcmFuc2FjdGlvbl0pO1xuICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYyhcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICkudGhlblJlc29sdmUoW21vY2tQcmVzdWJtaXRUcmFkZVRyYW5zYWN0aW9uXSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbW9ja1ByZXN1Ym1pdFRyYWRlVHJhbnNhY3Rpb24sXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBSZnFtSm9iRW50aXR5W10gPSBbXTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcChqb2JBcmcpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrUXVvdGVTZXJ2ZXJDbGllbnQgPSBtb2NrKFF1b3RlU2VydmVyQ2xpZW50KTtcbiAgICAgICAgICAgIHdoZW4obW9ja1F1b3RlU2VydmVyQ2xpZW50LnNpZ25WMkFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSh2YWxpZEVJUDcxMlNpZyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuaXNWYWxpZE9yZGVyU2lnbmVyQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE1pbk9mQmFsYW5jZXNBbmRBbGxvd2FuY2VzQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0VG9rZW5CYWxhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKV0pO1xuICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICBtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yRmlsbFRha2VyU2lnbmVkT3RjT3JkZXJBc3luYyhcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKS50aGVuUmVzb2x2ZSgwKTtcbiAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgbW9ja0Jsb2NrY2hhaW5VdGlscy5nZW5lcmF0ZVRha2VyU2lnbmVkT3RjT3JkZXJDYWxsRGF0YShcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKS50aGVuUmV0dXJuKCcweGNhbGxkYXRhJyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2VuZXJhdGVBcHByb3ZhbENhbGxkYXRhQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgICcweGNhbGxkYXRhJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Tm9uY2VBc3luYygnMHh3b3JrZXJhZGRyZXNzJykpLnRoZW5SZXNvbHZlKG1vY2tOb25jZSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0UmVjZWlwdHNBc3luYyhkZWVwRXF1YWwoWycweHByZXN1Ym1pdHRyYW5zYWN0aW9uaGFzaCddKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0QmxvY2tBc3luYygnMHhibG9ja2hhc2gnKSkudGhlblJlc29sdmUobW9ja01pbmVkQmxvY2spO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEN1cnJlbnRCbG9ja0FzeW5jKCkpLnRoZW5SZXNvbHZlKDQpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldERlY29kZWRSZnFPcmRlckZpbGxFdmVudExvZ0Zyb21Mb2dzKGFueXRoaW5nKCkpKS50aGVuUmV0dXJuKHtcbiAgICAgICAgICAgICAgICBldmVudDogJycsXG4gICAgICAgICAgICAgICAgbG9nSW5kZXg6IG51bGwsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogbnVsbCxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcnLFxuICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJycsXG4gICAgICAgICAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgZGF0YTogJycsXG4gICAgICAgICAgICAgICAgYmxvY2tOdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgdG9waWNzOiBbXSxcbiAgICAgICAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW5GaWxsZWRBbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTIzNCksXG4gICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgIHBvb2w6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0YWtlcjogJycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuRmlsbGVkQW1vdW50OiBuZXcgQmlnTnVtYmVyKDUpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSA9IG1vY2soUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKTtcbiAgICAgICAgICAgIHdoZW4obW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZS5nZXRFUkMyME93bmVyQmFsYW5jZXNBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHF1b3RlU2VydmVyQ2xpZW50OiBpbnN0YW5jZShtb2NrUXVvdGVTZXJ2ZXJDbGllbnQpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlOiBpbnN0YW5jZShtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcm9jZXNzQXBwcm92YWxBbmRUcmFkZUFzeW5jKGpvYiwgJzB4d29ya2VyYWRkcmVzcycpO1xuICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzWzBdLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5QZW5kaW5nUHJvY2Vzc2luZyk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbMV0uc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLlBlbmRpbmdMYXN0TG9va0FjY2VwdGVkKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnc1syXS5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1N1Ym1pdHRlZCk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MubGVuZ3RoIC0gMV0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICBSZnFtSm9iU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgndGhyb3dzIGlmIG5vbi1hcHByb3ZhbCBqb2IgaXMgc3VwcGxpZWQgdG8gdGhlIG1ldGhvZCBmb3IgYSBtZXRhLXRyYW5zYWN0aW9uIGpvYicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYklkID0gJ2pvYklkJztcblxuICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG5ldyBCaWdOdW1iZXIoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuOiAnMHhpbnB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJzB4aW50ZWdyYXRvcicsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbjogTU9DS19NRVRBX1RSQU5TQUNUSU9OLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25IYXNoOiBNT0NLX01FVEFfVFJBTlNBQ1RJT04uZ2V0SGFzaCgpLFxuICAgICAgICAgICAgICAgICAgICBtaW5PdXRwdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuOiAnMHhvdXRwdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzczogJzB4dGFrZXJBZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGpvYklkLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCgpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnByb2Nlc3NBcHByb3ZhbEFuZFRyYWRlQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJyk7XG4gICAgICAgICAgICAgICAgZXhwZWN0LmZhaWwoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZS5tZXNzYWdlKS50by5jb250YWluKFxuICAgICAgICAgICAgICAgICAgICAnTm9uLWFwcHJvdmFsIGpvYiBzaG91bGQgbm90IGJlIHByb2Nlc3NlZCBieSBgcHJvY2Vzc0FwcHJvdmFsQW5kVHJhZGVBc3luY2AnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgbm90IHByb2NlZWQgdG8gdHJhZGUgdHJhbnNhY3Rpb24gaWYgdGhlIHN0YXR1cyBvZiBhcHByb3ZhbCB0cmFuc2FjdGlvbiBpcyBub3QgYFN1Y2NlZWRlZENvbmZpcm1lZGAgZm9yIGEgbWV0YS10cmFuc2FjdGlvbiBqb2InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3dTID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIE9ORV9TRUNPTkRfTVMpO1xuICAgICAgICAgICAgY29uc3Qgam9iSWQgPSAnam9iSWQnO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25TdWJtaXNzaW9uSWQgPSAnc3VibWlzc2lvbklkJztcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VG9rZW4gPSAnMHhpbnB1dFRva2VuJztcblxuICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKG5vd1MgKyA2MDApLFxuICAgICAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogbmV3IEJpZ051bWJlcigwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcweGludGVncmF0b3InLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbjogJzB4b3V0cHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmFsOiBNT0NLX0VYRUNVVEVfTUVUQV9UUkFOU0FDVElPTl9BUFBST1ZBTCxcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92YWxTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgam9iSWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uID0gY3JlYXRlTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25Kb2JJZDogam9iSWQsXG4gICAgICAgICAgICAgICAgICAgIG1heEZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDAwMDApLFxuICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDApLFxuICAgICAgICAgICAgICAgICAgICBub25jZTogMCxcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5BcHByb3ZhbCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uU3VibWlzc2lvbklkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvblJlY2VpcHQ6IHByb3ZpZGVycy5UcmFuc2FjdGlvblJlY2VpcHQgPSB7XG4gICAgICAgICAgICAgICAgYmxvY2tIYXNoOiAnMHhibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgIGJsb2NrTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgIGJ5emFudGl1bTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25zOiAzLFxuICAgICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIGN1bXVsYXRpdmVHYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICBlZmZlY3RpdmVHYXNQcmljZTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgZ2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMDApLFxuICAgICAgICAgICAgICAgIGxvZ3M6IFtdLFxuICAgICAgICAgICAgICAgIGxvZ3NCbG9vbTogJycsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAwLFxuICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgdHlwZTogMixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBtb2NrTWluZWRCbG9jazogcHJvdmlkZXJzLkJsb2NrID0ge1xuICAgICAgICAgICAgICAgIF9kaWZmaWN1bHR5OiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgyKSxcbiAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiAyLFxuICAgICAgICAgICAgICAgIGV4dHJhRGF0YTogJycsXG4gICAgICAgICAgICAgICAgZ2FzTGltaXQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGhhc2g6ICcweGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgbWluZXI6ICcweG1pbmVyJyxcbiAgICAgICAgICAgICAgICBub25jZTogJzB4MDAwJyxcbiAgICAgICAgICAgICAgICBudW1iZXI6IDIxLFxuICAgICAgICAgICAgICAgIHBhcmVudEhhc2g6ICcweHBhcmVudGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiAxMjM0NSxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnM6IFsnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBtb2NrTm9uY2UgPSAwO1xuXG4gICAgICAgICAgICBjb25zdCBnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayA9IG1vY2soR2FzU3RhdGlvbkF0dGVuZGFudEV0aGVyZXVtKTtcbiAgICAgICAgICAgIHdoZW4oZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2suZ2V0RXhwZWN0ZWRUcmFuc2FjdGlvbkdhc1JhdGVBc3luYygpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwKS5zaGlmdGVkQnkoR1dFSV9ERUNJTUFMUyksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeUpvYklkQXN5bmMoam9iSWQsIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLkFwcHJvdmFsKSxcbiAgICAgICAgICAgICkudGhlblJlc29sdmUoW21vY2tUcmFuc2FjdGlvbl0pO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3M6IE1ldGFUcmFuc2FjdGlvbkpvYkVudGl0eVtdID0gW107XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKGpvYkFyZykgPT4ge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAoam9iQXJnKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5pc1ZhbGlkT3JkZXJTaWduZXJBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0TWluT2ZCYWxhbmNlc0FuZEFsbG93YW5jZXNBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRUb2tlbkJhbGFuY2VzQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApXSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2VuZXJhdGVBcHByb3ZhbENhbGxkYXRhQXN5bmMoaW5wdXRUb2tlbiwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgICcweGNhbGxkYXRhJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Tm9uY2VBc3luYygnMHh3b3JrZXJhZGRyZXNzJykpLnRoZW5SZXNvbHZlKG1vY2tOb25jZSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0UmVjZWlwdHNBc3luYyhkZWVwRXF1YWwoWycweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCddKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0QmxvY2tBc3luYygnMHhibG9ja2hhc2gnKSkudGhlblJlc29sdmUobW9ja01pbmVkQmxvY2spO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEN1cnJlbnRCbG9ja0FzeW5jKCkpLnRoZW5SZXNvbHZlKDQpO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcm9jZXNzQXBwcm92YWxBbmRUcmFkZUFzeW5jKGpvYiwgJzB4d29ya2VyYWRkcmVzcycpO1xuICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzWzBdLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5QZW5kaW5nUHJvY2Vzc2luZyk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MubGVuZ3RoIC0gMV0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICBSZnFtSm9iU3RhdHVzLkZhaWxlZFJldmVydGVkQ29uZmlybWVkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChqb2Iuc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLkZhaWxlZFJldmVydGVkQ29uZmlybWVkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBwcm9jZWVkIHRvIHRyYWRlIHRyYW5zYWN0aW9uIGlmIHRoZSBzdGF0dXMgb2YgYXBwcm92YWwgdHJhbnNhY3Rpb24gaXMgYFN1Y2NlZWRlZENvbmZpcm1lZGAgZm9yIGEgbWV0YS10cmFuc2FjdGlvbiBqb2InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3dTID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIE9ORV9TRUNPTkRfTVMpO1xuICAgICAgICAgICAgY29uc3Qgam9iSWQgPSAnam9iSWQnO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25TdWJtaXNzaW9uSWQxID0gJ3N1Ym1pc3Npb25JZDEnO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25TdWJtaXNzaW9uSWQyID0gJ3N1Ym1pc3Npb25JZDInO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRUb2tlbiA9ICcweGlucHV0VG9rZW4nO1xuXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBjcmVhdGVNZWFUcnNhbmN0aW9uSm9iRW50aXR5KFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIobm93UyArIDYwMCksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJzB4aW50ZWdyYXRvcicsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbjogTU9DS19NRVRBX1RSQU5TQUNUSU9OLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25IYXNoOiBNT0NLX01FVEFfVFJBTlNBQ1RJT04uZ2V0SGFzaCgpLFxuICAgICAgICAgICAgICAgICAgICBtaW5PdXRwdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuOiAnMHhvdXRwdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzczogJzB4dGFrZXJBZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92YWw6IE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0FQUFJPVkFMLFxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbFNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBtb2NrQXBwcm92YWxUcmFuc2FjdGlvbiA9IGNyZWF0ZU1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSm9iSWQ6IGpvYklkLFxuICAgICAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoMScsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLkFwcHJvdmFsLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25TdWJtaXNzaW9uSWQxLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFkZVRyYW5zYWN0aW9uID0gY3JlYXRlTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25Kb2JJZDogam9iSWQsXG4gICAgICAgICAgICAgICAgICAgIG1heEZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDAwMDApLFxuICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDApLFxuICAgICAgICAgICAgICAgICAgICBub25jZTogMCxcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gyJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWJtaXR0ZWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblN1Ym1pc3Npb25JZDIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgbW9ja0FwcHJvdmFsVHJhbnNhY3Rpb25SZWNlaXB0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZWNlaXB0ID0ge1xuICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJzB4YmxvY2toYXNoJyxcbiAgICAgICAgICAgICAgICBibG9ja051bWJlcjogMSxcbiAgICAgICAgICAgICAgICBieXphbnRpdW06IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uczogMyxcbiAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBjdW11bGF0aXZlR2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgZWZmZWN0aXZlR2FzUHJpY2U6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDAwKSxcbiAgICAgICAgICAgICAgICBsb2dzOiBbXSxcbiAgICAgICAgICAgICAgICBsb2dzQmxvb206ICcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogMSxcbiAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoMScsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogMCxcbiAgICAgICAgICAgICAgICB0eXBlOiAyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFkZVRyYW5zYWN0aW9uUmVjZWlwdDogcHJvdmlkZXJzLlRyYW5zYWN0aW9uUmVjZWlwdCA9IHtcbiAgICAgICAgICAgICAgICBibG9ja0hhc2g6ICcweGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgYmxvY2tOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgYnl6YW50aXVtOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbnM6IDMsXG4gICAgICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgY3VtdWxhdGl2ZUdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGVmZmVjdGl2ZUdhc1ByaWNlOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBnYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwMCksXG4gICAgICAgICAgICAgICAgbG9nczogW10sXG4gICAgICAgICAgICAgICAgbG9nc0Jsb29tOiAnJyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDEsXG4gICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaDInLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgdHlwZTogMixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBtb2NrTWluZWRCbG9jazogcHJvdmlkZXJzLkJsb2NrID0ge1xuICAgICAgICAgICAgICAgIF9kaWZmaWN1bHR5OiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgyKSxcbiAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiAyLFxuICAgICAgICAgICAgICAgIGV4dHJhRGF0YTogJycsXG4gICAgICAgICAgICAgICAgZ2FzTGltaXQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGhhc2g6ICcweGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgbWluZXI6ICcweG1pbmVyJyxcbiAgICAgICAgICAgICAgICBub25jZTogJzB4MDAwJyxcbiAgICAgICAgICAgICAgICBudW1iZXI6IDIxLFxuICAgICAgICAgICAgICAgIHBhcmVudEhhc2g6ICcweHBhcmVudGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiAxMjM0NSxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnM6IFsnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gxJywgJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoMiddLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tOb25jZSA9IDA7XG5cbiAgICAgICAgICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgICAgICAgICAgd2hlbihnYXNTdGF0aW9uQXR0ZW5kYW50TW9jay5nZXRFeHBlY3RlZFRyYW5zYWN0aW9uR2FzUmF0ZUFzeW5jKCkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTApLnNoaWZ0ZWRCeShHV0VJX0RFQ0lNQUxTKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5Sm9iSWRBc3luYyhqb2JJZCwgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuQXBwcm92YWwpLFxuICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbbW9ja0FwcHJvdmFsVHJhbnNhY3Rpb25dKTtcbiAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgbW9ja0RiVXRpbHMuZmluZE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlKb2JJZEFzeW5jKGpvYklkLCBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKFttb2NrVHJhZGVUcmFuc2FjdGlvbl0pO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeUpvYklkQXN5bmMoam9iSWQpKS50aGVuUmVzb2x2ZShbbW9ja1RyYWRlVHJhbnNhY3Rpb25dKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBNZXRhVHJhbnNhY3Rpb25Kb2JFbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtSm9iQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKGFzeW5jIChqb2JBcmcpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKGpvYkFyZykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuaXNWYWxpZE9yZGVyU2lnbmVyQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE1pbk9mQmFsYW5jZXNBbmRBbGxvd2FuY2VzQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0VG9rZW5CYWxhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKV0pO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKDApO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlTWV0YVRyYW5zYWN0aW9uQ2FsbERhdGEoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXR1cm4oXG4gICAgICAgICAgICAgICAgJzB4Y2FsbGRhdGEnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZW5lcmF0ZUFwcHJvdmFsQ2FsbGRhdGFBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgJzB4Y2FsbGRhdGEnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXROb25jZUFzeW5jKCcweHdvcmtlcmFkZHJlc3MnKSkudGhlblJlc29sdmUobW9ja05vbmNlKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRSZWNlaXB0c0FzeW5jKGRlZXBFcXVhbChbJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoMSddKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBtb2NrQXBwcm92YWxUcmFuc2FjdGlvblJlY2VpcHQsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRSZWNlaXB0c0FzeW5jKGRlZXBFcXVhbChbJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoMiddKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBtb2NrVHJhZGVUcmFuc2FjdGlvblJlY2VpcHQsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRCbG9ja0FzeW5jKCcweGJsb2NraGFzaCcpKS50aGVuUmVzb2x2ZShtb2NrTWluZWRCbG9jayk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Q3VycmVudEJsb2NrQXN5bmMoKSkudGhlblJlc29sdmUoNCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnByb2Nlc3NBcHByb3ZhbEFuZFRyYWRlQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJyk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbMF0uc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLlBlbmRpbmdQcm9jZXNzaW5nKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnc1sxXS5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1N1Ym1pdHRlZCk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MubGVuZ3RoIC0gMV0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICBSZnFtSm9iU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdwcm9jZXNzVHJhZGVBc3luYycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCBwcm9jZXNzIGEgcmZxbSB2MiBqb2IgdHJhZGUgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93UyA9IE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyBPTkVfU0VDT05EX01TKTtcbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihub3dTICsgMTApLFxuICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnJyxcbiAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogbnVsbCxcbiAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIobm93UyArIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMTAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHhtYWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEwMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweHRha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2gsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZXF1ZXN0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZXF1ZXN0ID0ge307XG4gICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb24gPSBuZXcgUmZxbVYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5KHtcbiAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDApLFxuICAgICAgICAgICAgICAgIG5vbmNlOiAwLFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZWNlaXB0ID0ge1xuICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJzB4YmxvY2toYXNoJyxcbiAgICAgICAgICAgICAgICBibG9ja051bWJlcjogMSxcbiAgICAgICAgICAgICAgICBieXphbnRpdW06IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uczogMyxcbiAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBjdW11bGF0aXZlR2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgZWZmZWN0aXZlR2FzUHJpY2U6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDAwKSxcbiAgICAgICAgICAgICAgICBsb2dzOiBbXSxcbiAgICAgICAgICAgICAgICBsb2dzQmxvb206ICcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogMSxcbiAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkluZGV4OiAwLFxuICAgICAgICAgICAgICAgIHR5cGU6IDIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbW9ja01pbmVkQmxvY2s6IHByb3ZpZGVycy5CbG9jayA9IHtcbiAgICAgICAgICAgICAgICBfZGlmZmljdWx0eTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMiksXG4gICAgICAgICAgICAgICAgZGlmZmljdWx0eTogMixcbiAgICAgICAgICAgICAgICBleHRyYURhdGE6ICcnLFxuICAgICAgICAgICAgICAgIGdhc0xpbWl0OiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICBnYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICBoYXNoOiAnMHhibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgIG1pbmVyOiAnMHhtaW5lcicsXG4gICAgICAgICAgICAgICAgbm9uY2U6ICcweDAwMCcsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiAyMSxcbiAgICAgICAgICAgICAgICBwYXJlbnRIYXNoOiAnMHhwYXJlbnRibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogMTIzNDUsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJ10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbW9ja05vbmNlID0gMDtcblxuICAgICAgICAgICAgY29uc3QgZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2sgPSBtb2NrKEdhc1N0YXRpb25BdHRlbmRhbnRFdGhlcmV1bSk7XG4gICAgICAgICAgICB3aGVuKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrLmdldEV4cGVjdGVkVHJhbnNhY3Rpb25HYXNSYXRlQXN5bmMoKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMCkuc2hpZnRlZEJ5KEdXRUlfREVDSU1BTFMpLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBSZnFtSm9iRW50aXR5W10gPSBbXTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcChqb2JBcmcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYyhcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICkudGhlblJlc29sdmUoW10pO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25CeVRyYW5zYWN0aW9uSGFzaEFzeW5jKCcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICBfLmNsb25lRGVlcChtb2NrVHJhbnNhY3Rpb24pLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja1F1b3RlU2VydmVyQ2xpZW50ID0gbW9jayhRdW90ZVNlcnZlckNsaWVudCk7XG4gICAgICAgICAgICB3aGVuKG1vY2tRdW90ZVNlcnZlckNsaWVudC5zaWduVjJBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUodmFsaWRFSVA3MTJTaWcpO1xuICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRFeGNoYW5nZVByb3h5QWRkcmVzcygpKS50aGVuUmV0dXJuKCcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0TWluT2ZCYWxhbmNlc0FuZEFsbG93YW5jZXNBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgbW9ja0Jsb2NrY2hhaW5VdGlscy5nZW5lcmF0ZVRha2VyU2lnbmVkT3RjT3JkZXJDYWxsRGF0YShcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKS50aGVuUmV0dXJuKCcweGNhbGxkYXRhJyk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JGaWxsVGFrZXJTaWduZWRPdGNPcmRlckFzeW5jKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKDApO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE5vbmNlQXN5bmMoJzB4d29ya2VyYWRkcmVzcycpKS50aGVuUmVzb2x2ZShtb2NrTm9uY2UpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKDEwMCk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMudHJhbnNmb3JtVHhEYXRhVG9UcmFuc2FjdGlvblJlcXVlc3QoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSksXG4gICAgICAgICAgICApLnRoZW5SZXR1cm4obW9ja1RyYW5zYWN0aW9uUmVxdWVzdCk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuc3VibWl0U2lnbmVkVHJhbnNhY3Rpb25Bc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuc2lnblRyYW5zYWN0aW9uQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBzaWduZWRUcmFuc2FjdGlvbjogJ3NpZ25lZFRyYW5zYWN0aW9uJyxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRSZWNlaXB0c0FzeW5jKGRlZXBFcXVhbChbJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJ10pKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG1vY2tUcmFuc2FjdGlvblJlY2VpcHQsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRCbG9ja0FzeW5jKCcweGJsb2NraGFzaCcpKS50aGVuUmVzb2x2ZShtb2NrTWluZWRCbG9jayk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Q3VycmVudEJsb2NrQXN5bmMoKSkudGhlblJlc29sdmUoNCk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlID0gbW9jayhSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpO1xuICAgICAgICAgICAgd2hlbihtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlLmdldEVSQzIwT3duZXJCYWxhbmNlc0FzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcXVvdGVTZXJ2ZXJDbGllbnQ6IGluc3RhbmNlKG1vY2tRdW90ZVNlcnZlckNsaWVudCksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2U6IGluc3RhbmNlKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnByb2Nlc3NUcmFkZUFzeW5jKGpvYiwgJzB4d29ya2VyYWRkcmVzcycpO1xuICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzWzBdLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5QZW5kaW5nUHJvY2Vzc2luZyk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbMV0uc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLlBlbmRpbmdMYXN0TG9va0FjY2VwdGVkKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnc1syXS5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1N1Ym1pdHRlZCk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MubGVuZ3RoIC0gMV0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICBSZnFtSm9iU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHByb2Nlc3MgYSBtZXRhLXRyYW5zYWN0aW9uIGpvYiB0cmFkZSBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3dTID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIE9ORV9TRUNPTkRfTVMpO1xuICAgICAgICAgICAgY29uc3Qgam9iSWQgPSAnam9iSWQnO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25TdWJtaXNzaW9uSWQgPSAnc3VibWlzc2lvbklkJztcblxuICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKG5vd1MgKyA2MDApLFxuICAgICAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogbmV3IEJpZ051bWJlcigwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW46ICcweGlucHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwKSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnMHhpbnRlZ3JhdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uOiBNT0NLX01FVEFfVFJBTlNBQ1RJT04sXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbkhhc2g6IE1PQ0tfTUVUQV9UUkFOU0FDVElPTi5nZXRIYXNoKCksXG4gICAgICAgICAgICAgICAgICAgIG1pbk91dHB1dFRva2VuQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwKSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9rZW46ICcweG91dHB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzOiAnMHh0YWtlckFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgam9iSWQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZXF1ZXN0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZXF1ZXN0ID0ge307XG4gICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb24gPSBjcmVhdGVNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5KFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbkpvYklkOiBqb2JJZCxcbiAgICAgICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMCksXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiAwLFxuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25TdWJtaXNzaW9uSWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdDogcHJvdmlkZXJzLlRyYW5zYWN0aW9uUmVjZWlwdCA9IHtcbiAgICAgICAgICAgICAgICBibG9ja0hhc2g6ICcweGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgYmxvY2tOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgYnl6YW50aXVtOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbnM6IDMsXG4gICAgICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgY3VtdWxhdGl2ZUdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgIGVmZmVjdGl2ZUdhc1ByaWNlOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBnYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwMCksXG4gICAgICAgICAgICAgICAgbG9nczogW10sXG4gICAgICAgICAgICAgICAgbG9nc0Jsb29tOiAnJyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDEsXG4gICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogMCxcbiAgICAgICAgICAgICAgICB0eXBlOiAyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tNaW5lZEJsb2NrOiBwcm92aWRlcnMuQmxvY2sgPSB7XG4gICAgICAgICAgICAgICAgX2RpZmZpY3VsdHk6IEV0aGVyc0JpZ051bWJlci5mcm9tKDIpLFxuICAgICAgICAgICAgICAgIGRpZmZpY3VsdHk6IDIsXG4gICAgICAgICAgICAgICAgZXh0cmFEYXRhOiAnJyxcbiAgICAgICAgICAgICAgICBnYXNMaW1pdDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgZ2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgaGFzaDogJzB4YmxvY2toYXNoJyxcbiAgICAgICAgICAgICAgICBtaW5lcjogJzB4bWluZXInLFxuICAgICAgICAgICAgICAgIG5vbmNlOiAnMHgwMDAnLFxuICAgICAgICAgICAgICAgIG51bWJlcjogMjEsXG4gICAgICAgICAgICAgICAgcGFyZW50SGFzaDogJzB4cGFyZW50YmxvY2toYXNoJyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IDEyMzQ1LFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczogWycweHByZXN1Ym1pdHRyYW5zYWN0aW9uaGFzaCddLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tOb25jZSA9IDA7XG5cbiAgICAgICAgICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgICAgICAgICAgd2hlbihnYXNTdGF0aW9uQXR0ZW5kYW50TW9jay5nZXRFeHBlY3RlZFRyYW5zYWN0aW9uR2FzUmF0ZUFzeW5jKCkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTApLnNoaWZ0ZWRCeShHV0VJX0RFQ0lNQUxTKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLmZpbmRNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5Sm9iSWRBc3luYyhqb2JJZCkpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBNZXRhVHJhbnNhY3Rpb25Kb2JFbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtSm9iQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKGFzeW5jIChqb2JBcmcpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKGpvYkFyZykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5Sm9iSWRBc3luYyhqb2JJZCwgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUpLFxuICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5VHJhbnNhY3Rpb25IYXNoQXN5bmMoXG4gICAgICAgICAgICAgICAgICAgICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKFtfLmNsb25lRGVlcChtb2NrVHJhbnNhY3Rpb24pXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0RXhjaGFuZ2VQcm94eUFkZHJlc3MoKSkudGhlblJldHVybignMHhleGNoYW5nZXByb3h5YWRkcmVzcycpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlTWV0YVRyYW5zYWN0aW9uQ2FsbERhdGEoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXR1cm4oXG4gICAgICAgICAgICAgICAgJzB4Y2FsbGRhdGEnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5lc3RpbWF0ZUdhc0ZvckFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSgwKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXROb25jZUFzeW5jKCcweHdvcmtlcmFkZHJlc3MnKSkudGhlblJlc29sdmUobW9ja05vbmNlKTtcbiAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgbW9ja0Jsb2NrY2hhaW5VdGlscy50cmFuc2Zvcm1UeERhdGFUb1RyYW5zYWN0aW9uUmVxdWVzdChhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSxcbiAgICAgICAgICAgICkudGhlblJldHVybihtb2NrVHJhbnNhY3Rpb25SZXF1ZXN0KTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5zdWJtaXRTaWduZWRUcmFuc2FjdGlvbkFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSgnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5zaWduVHJhbnNhY3Rpb25Bc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoe1xuICAgICAgICAgICAgICAgIHNpZ25lZFRyYW5zYWN0aW9uOiAnc2lnbmVkVHJhbnNhY3Rpb24nLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldFJlY2VpcHRzQXN5bmMoZGVlcEVxdWFsKFsnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnXSkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdCxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEJsb2NrQXN5bmMoJzB4YmxvY2toYXNoJykpLnRoZW5SZXNvbHZlKG1vY2tNaW5lZEJsb2NrKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRDdXJyZW50QmxvY2tBc3luYygpKS50aGVuUmVzb2x2ZSg0KTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UucHJvY2Vzc1RyYWRlQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJyk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbMF0uc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLlBlbmRpbmdQcm9jZXNzaW5nKTtcbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnc1sxXS5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1N1Ym1pdHRlZCk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MubGVuZ3RoIC0gMV0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICBSZnFtSm9iU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCd2YWxpZGF0ZSBqb2IgbWV0aG9kcycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgdmFsaWQsIHVuZXhwaXJlZCB2MiBqb2JzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFrZUluRml2ZU1pbnV0ZXNTID0gZmFrZUNsb2NrTXMgLyBPTkVfU0VDT05EX01TICsgMzYwO1xuXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZUluRml2ZU1pbnV0ZXNTKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBleHBpcnkgKi8gbmV3IEJpZ051bWJlcihmYWtlSW5GaXZlTWludXRlc1MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG5vbmNlQnVja2V0ICovIG5ldyBCaWdOdW1iZXIoMjEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG5vbmNlICovIG5ldyBCaWdOdW1iZXIoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gV29ya2VyU2VydmljZS52YWxpZGF0ZVJmcW1WMkpvYihqb2IsIG5ldyBEYXRlKGZha2VDbG9ja01zKSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50by5lcXVhbChudWxsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSBObyBUYWtlciBTaWduYXR1cmUgc3RhdHVzIGZvciB2MiBqb2JzIHdpdGggbm8gdGFrZXIgc2lnbmF0dXJlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFrZUluRml2ZU1pbnV0ZXNTID0gZmFrZUNsb2NrTXMgLyBPTkVfU0VDT05EX01TICsgMzYwO1xuXG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZUluRml2ZU1pbnV0ZXNTKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBleHBpcnkgKi8gbmV3IEJpZ051bWJlcihmYWtlSW5GaXZlTWludXRlc1MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG5vbmNlQnVja2V0ICovIG5ldyBCaWdOdW1iZXIoMjEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG5vbmNlICovIG5ldyBCaWdOdW1iZXIoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFdvcmtlclNlcnZpY2UudmFsaWRhdGVSZnFtVjJKb2Ioam9iLCBuZXcgRGF0ZShmYWtlQ2xvY2tNcykpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5GYWlsZWRWYWxpZGF0aW9uTm9UYWtlclNpZ25hdHVyZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIG51bGwgZm9yIGEgdmFsaWQsIHVuZXhwaXJlZCBtZXRhLXRyYW5zYWN0aW9uIGpvYicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZha2VJbkZpdmVNaW51dGVzUyA9IGZha2VDbG9ja01zIC8gT05FX1NFQ09ORF9NUyArIDM2MDtcblxuICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VJbkZpdmVNaW51dGVzUyksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbjogJzB4aW5wdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcweGludGVncmF0b3InLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbjogJzB4b3V0cHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnam9iSWQnLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gV29ya2VyU2VydmljZS52YWxpZGF0ZU1ldGFUcmFuc2FjdGlvbkpvYihqb2IsIG5ldyBEYXRlKGZha2VDbG9ja01zKSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50by5lcXVhbChudWxsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gYSBmYWlsZWQgZXhwaXJlZCBzdGF0dXMgZm9yIGEgbWV0YS10cmFuc2FjdGlvbiBqb2IgdGhhdCBleHBpcmVzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VDbG9ja01zIC8gT05FX1NFQ09ORF9NUyksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbjogJzB4aW5wdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcweGludGVncmF0b3InLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbjogJzB4b3V0cHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnam9iSWQnLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gV29ya2VyU2VydmljZS52YWxpZGF0ZU1ldGFUcmFuc2FjdGlvbkpvYihqb2IsIG5ldyBEYXRlKGZha2VDbG9ja01zICsgMTAwMDAwMCkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5GYWlsZWRFeHBpcmVkKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnc2hvdWxkUmVzdWJtaXRUcmFuc2FjdGlvbicsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgaWYgbmV3IGdhcyBwcmljZSA8IDEwJSBncmVhdGVyIHRoYW4gcHJldmlvdXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnYXNGZWVzID0geyBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSwgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTApIH07XG4gICAgICAgICAgICBjb25zdCBuZXdHYXNQcmljZSA9IG5ldyBCaWdOdW1iZXIoMTA1KTtcblxuICAgICAgICAgICAgZXhwZWN0KFdvcmtlclNlcnZpY2Uuc2hvdWxkUmVzdWJtaXRUcmFuc2FjdGlvbihnYXNGZWVzLCBuZXdHYXNQcmljZSkpLnRvLmVxdWFsKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgaWYgbmV3IGdhcyBwcmljZSBpcyAxMCUgZ3JlYXRlciB0aGFuIHByZXZpb3VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ2FzRmVlcyA9IHsgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMCksIG1heFByaW9yaXR5RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwKSB9O1xuICAgICAgICAgICAgY29uc3QgbmV3R2FzUHJpY2UgPSBuZXcgQmlnTnVtYmVyKDExMCk7XG5cbiAgICAgICAgICAgIGV4cGVjdChXb3JrZXJTZXJ2aWNlLnNob3VsZFJlc3VibWl0VHJhbnNhY3Rpb24oZ2FzRmVlcywgbmV3R2FzUHJpY2UpKS50by5lcXVhbCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgaWYgbmV3IGdhcyBwcmljZSA+IDEwJSBncmVhdGVyIHRoYW4gcHJldmlvdXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnYXNGZWVzID0geyBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSwgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTApIH07XG4gICAgICAgICAgICBjb25zdCBuZXdHYXNQcmljZSA9IG5ldyBCaWdOdW1iZXIoMTIwKTtcblxuICAgICAgICAgICAgZXhwZWN0KFdvcmtlclNlcnZpY2Uuc2hvdWxkUmVzdWJtaXRUcmFuc2FjdGlvbihnYXNGZWVzLCBuZXdHYXNQcmljZSkpLnRvLmVxdWFsKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdjaGVja0pvYlByZXByb2Nlc3NpbmdBc3luYycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgam9iIHN0YXVzIGFuZCB0aHJvdyBlcnJvciBpZiBqb2IgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGEgcmZxbSB2MiBqb2InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZU9uZU1pbnV0ZUFnb1MpLFxuICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnJyxcbiAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogbnVsbCxcbiAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoZmFrZU9uZU1pbnV0ZUFnb1MudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLmNoZWNrSm9iUHJlcHJvY2Vzc2luZ0FzeW5jKGpvYiwgbmV3IERhdGUoZmFrZUNsb2NrTXMpKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ0pvYiBmYWlsZWQgdmFsaWRhdGlvbicpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChqb2Iuc3RhdHVzKS50by5kZWVwLmVxdWFsKFJmcW1Kb2JTdGF0dXMuRmFpbGVkRXhwaXJlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgaWYgdGhlcmUgaXMgbm8gdGFrZXIgc2lnbmF0dXJlIGZvciBhIHJmcW0gdjIgam9iJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiBudWxsLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UuY2hlY2tKb2JQcmVwcm9jZXNzaW5nQXN5bmMoam9iLCBuZXcgRGF0ZShmYWtlQ2xvY2tNcykpO1xuICAgICAgICAgICAgICAgIGV4cGVjdC5mYWlsKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGUubWVzc2FnZSkudG8uY29udGFpbignSm9iIGZhaWxlZCB2YWxpZGF0aW9uJyk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGpvYi5zdGF0dXMpLnRvLmRlZXAuZXF1YWwoUmZxbUpvYlN0YXR1cy5GYWlsZWRWYWxpZGF0aW9uTm9UYWtlclNpZ25hdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgdXBkYXRlIGpvYiBzdGF1cyB0byBgUGVuZGluZ1Byb2Nlc3NpbmdgIGlmIGpvYiBzdGF0dXMgaXMgYFBlbmRpbmdFbnF1ZXVlZGAgZm9yIGEgcmZxbSB2MiBqb2InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIpLFxuICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnJyxcbiAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogbnVsbCxcbiAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5jaGVja0pvYlByZXByb2Nlc3NpbmdBc3luYyhqb2IsIG5ldyBEYXRlKGZha2VDbG9ja01zKSk7XG4gICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZGVlcC5lcXVhbChSZnFtSm9iU3RhdHVzLlBlbmRpbmdQcm9jZXNzaW5nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgam9iIHN0YXVzIGFuZCB0aHJvdyBlcnJvciBpZiBqb2IgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGEgbWV0YS10cmFuc2FjdGlvbiBqb2InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBjcmVhdGVNZWFUcnNhbmN0aW9uSm9iRW50aXR5KFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZU9uZU1pbnV0ZUFnb1MpLFxuICAgICAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogbmV3IEJpZ051bWJlcigwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW46ICcweGlucHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwKSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnMHhpbnRlZ3JhdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uOiBNT0NLX01FVEFfVFJBTlNBQ1RJT04sXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbkhhc2g6IE1PQ0tfTUVUQV9UUkFOU0FDVElPTi5nZXRIYXNoKCksXG4gICAgICAgICAgICAgICAgICAgIG1pbk91dHB1dFRva2VuQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwKSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9rZW46ICcweG91dHB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXJBZGRyZXNzOiAnMHh0YWtlckFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2pvYklkJyxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5jaGVja0pvYlByZXByb2Nlc3NpbmdBc3luYyhqb2IsIG5ldyBEYXRlKGZha2VDbG9ja01zKSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0LmZhaWwoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZS5tZXNzYWdlKS50by5jb250YWluKCdKb2IgZmFpbGVkIHZhbGlkYXRpb24nKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZGVlcC5lcXVhbChSZnFtSm9iU3RhdHVzLkZhaWxlZEV4cGlyZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZSBqb2Igc3RhdXMgdG8gYFBlbmRpbmdQcm9jZXNzaW5nYCBpZiBqb2Igc3RhdHVzIGlzIGBQZW5kaW5nRW5xdWV1ZWRgIGZvciBhIG1ldGEtdHJhbnNhY3Rpb24gam9iJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG5ldyBCaWdOdW1iZXIoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuOiAnMHhpbnB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJzB4aW50ZWdyYXRvcicsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbjogTU9DS19NRVRBX1RSQU5TQUNUSU9OLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25IYXNoOiBNT0NLX01FVEFfVFJBTlNBQ1RJT04uZ2V0SGFzaCgpLFxuICAgICAgICAgICAgICAgICAgICBtaW5PdXRwdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuOiAnMHhvdXRwdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzczogJzB4dGFrZXJBZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdqb2JJZCcsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLmNoZWNrSm9iUHJlcHJvY2Vzc2luZ0FzeW5jKGpvYiwgbmV3IERhdGUoZmFrZUNsb2NrTXMpKTtcbiAgICAgICAgICAgIGV4cGVjdChqb2Iuc3RhdHVzKS50by5kZWVwLmVxdWFsKFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1Byb2Nlc3NpbmcpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdwcmVwYXJlQXBwcm92YWxBc3luYycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBleGNlcHRpb24gaWYgdGhlcmUgYXJlIHN1Ym1pdHRlZCB0cmFuc2FjdGlvbnMgYnV0IGpvYiBtYWtlciBzaWduYXR1cmUgaXMgbnVsbCBmb3IgYSByZnFtIHYyIGpvYicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiBudWxsLFxuICAgICAgICAgICAgICAgIG1ha2VyVXJpOiAnaHR0cDovL2Zvby5iYXInLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiBudWxsLFxuICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlci50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJzB4bWFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvbiA9IG5ldyBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoe1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoMTIzMyksXG4gICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICBub25jZTogMCxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKFxuICAgICAgICAgICAgICAgICAgICAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLkFwcHJvdmFsLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKFttb2NrVHJhbnNhY3Rpb25dKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2VuZXJhdGVBcHByb3ZhbENhbGxkYXRhQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgIE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0NBTExEQVRBLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UucHJlcGFyZUFwcHJvdmFsQXN5bmMoam9iLCAnMHh0b2tlbicsIE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0FQUFJPVkFMLCB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGV4cGVjdC5mYWlsKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGUubWVzc2FnZSkudG8uY29udGFpbignRW5jb3VudGVyZWQgYSBqb2Igd2l0aCBzdWJtaXNzaW9ucyBidXQgbm8gbWFrZXIgc2lnbmF0dXJlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGdlbmVyYXRlZCBjYWxsZGF0YSBpZiB0aGVyZSBhcmUgc3VibWl0dGVkIHRyYW5zYWN0aW9ucyBmb3IgYSByZnFtIHYyIGpvYicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiBudWxsLFxuICAgICAgICAgICAgICAgIG1ha2VyVXJpOiAnaHR0cDovL2Zvby5iYXInLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnMHhtYWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uID0gbmV3IFJmcW1WMlRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eSh7XG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgxMjMzKSxcbiAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDApLFxuICAgICAgICAgICAgICAgIG5vbmNlOiAwLFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWJtaXR0ZWQsXG4gICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHByZXN1Ym1pdHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgbW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoXG4gICAgICAgICAgICAgICAgICAgICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuQXBwcm92YWwsXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICkudGhlblJlc29sdmUoW21vY2tUcmFuc2FjdGlvbl0pO1xuICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZW5lcmF0ZUFwcHJvdmFsQ2FsbGRhdGFBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgTU9DS19FWEVDVVRFX01FVEFfVFJBTlNBQ1RJT05fQ0FMTERBVEEsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgY2FsbGRhdGEgPSBhd2FpdCByZnFtU2VydmljZS5wcmVwYXJlQXBwcm92YWxBc3luYyhcbiAgICAgICAgICAgICAgICBqb2IsXG4gICAgICAgICAgICAgICAgJzB4dG9rZW4nLFxuICAgICAgICAgICAgICAgIE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0FQUFJPVkFMLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3QoY2FsbGRhdGEpLnRvLmRlZXAuZXF1YWwoTU9DS19FWEVDVVRFX01FVEFfVFJBTlNBQ1RJT05fQ0FMTERBVEEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHRocm93IGV4Y2VwdGlvbiBpZiBldGhfY2FsbCBmYWlsZWQgZm9yIGEgcmZxbSB2MiBqb2InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIpLFxuICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnJyxcbiAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogbnVsbCxcbiAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlci50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJzB4bWFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgbW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoXG4gICAgICAgICAgICAgICAgICAgICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuQXBwcm92YWwsXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICkudGhlblJlc29sdmUoW10pO1xuICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZW5lcmF0ZUFwcHJvdmFsQ2FsbGRhdGFBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgTU9DS19FWEVDVVRFX01FVEFfVFJBTlNBQ1RJT05fQ0FMTERBVEEsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5UaHJvdyhuZXcgRXJyb3IoJ2Vycm9yJykpO1xuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcmVwYXJlQXBwcm92YWxBc3luYyhqb2IsICcweHRva2VuJywgTU9DS19FWEVDVVRFX01FVEFfVFJBTlNBQ1RJT05fQVBQUk9WQUwsIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0LmZhaWwoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZS5tZXNzYWdlKS50by5jb250YWluKCdFdGggY2FsbCBhcHByb3ZhbCB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChqb2Iuc3RhdHVzKS50by5kZWVwLmVxdWFsKFJmcW1Kb2JTdGF0dXMuRmFpbGVkRXRoQ2FsbEZhaWxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGNvcnJlY3QgY2FsbGRhdGEgaWYgdGhlcmUgaXMgbm8gc3VibWl0dGVkIHRyYW5zYWN0aW9uIGZvciBhIHJmcW0gdjIgam9iJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcweG1ha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMTAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHhtYWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEwMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweHRha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKFxuICAgICAgICAgICAgICAgICAgICAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLkFwcHJvdmFsLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2VuZXJhdGVBcHByb3ZhbENhbGxkYXRhQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgIE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0NBTExEQVRBLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5lc3RpbWF0ZUdhc0ZvckFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSgxMCk7XG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsZGF0YSA9IGF3YWl0IHJmcW1TZXJ2aWNlLnByZXBhcmVBcHByb3ZhbEFzeW5jKFxuICAgICAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgICAgICAnMHh0b2tlbicsXG4gICAgICAgICAgICAgICAgTU9DS19FWEVDVVRFX01FVEFfVFJBTlNBQ1RJT05fQVBQUk9WQUwsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChjYWxsZGF0YSkudG8uZGVlcC5lcXVhbChNT0NLX0VYRUNVVEVfTUVUQV9UUkFOU0FDVElPTl9DQUxMREFUQSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGdlbmVyYXRlZCBjYWxsZGF0YSBpZiB0aGVyZSBhcmUgc3VibWl0dGVkIHRyYW5zYWN0aW9ucyBmb3IgYSBtZXRhLXRyYW5zYWN0aW9uIGpvYicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYklkID0gJ2pvYklkJztcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uU3VibWlzc2lvbklkID0gJ3N1Ym1pc3Npb25JZCc7XG5cbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IGNyZWF0ZU1lYVRyc2FuY3Rpb25Kb2JFbnRpdHkoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbjogJzB4aW5wdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcweGludGVncmF0b3InLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbjogJzB4b3V0cHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvbiA9IGNyZWF0ZU1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSm9iSWQ6IGpvYklkLFxuICAgICAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuQXBwcm92YWwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblN1Ym1pc3Npb25JZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5Sm9iSWRBc3luYyhqb2JJZCwgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuQXBwcm92YWwpLFxuICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbbW9ja1RyYW5zYWN0aW9uXSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrQmxvY2tjaGFpblV0aWxzID0gbW9jayhSZnFCbG9ja2NoYWluVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlQXBwcm92YWxDYWxsZGF0YUFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICBNT0NLX0VYRUNVVEVfTUVUQV9UUkFOU0FDVElPTl9DQUxMREFUQSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsZGF0YSA9IGF3YWl0IHJmcW1TZXJ2aWNlLnByZXBhcmVBcHByb3ZhbEFzeW5jKFxuICAgICAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgICAgICAnMHh0b2tlbicsXG4gICAgICAgICAgICAgICAgTU9DS19FWEVDVVRFX01FVEFfVFJBTlNBQ1RJT05fQVBQUk9WQUwsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChjYWxsZGF0YSkudG8uZGVlcC5lcXVhbChNT0NLX0VYRUNVVEVfTUVUQV9UUkFOU0FDVElPTl9DQUxMREFUQSk7XG4gICAgICAgICAgICB2ZXJpZnkobW9ja0Jsb2NrY2hhaW5VdGlscy5lc3RpbWF0ZUdhc0ZvckFzeW5jKGFueXRoaW5nKCkpKS5uZXZlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHRocm93IGV4Y2VwdGlvbiBpZiBldGhfY2FsbCBmYWlsZWQgZm9yIGEgbWV0YS10cmFuc2FjdGlvbiBqb2InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2JJZCA9ICdqb2JJZCc7XG5cbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IGNyZWF0ZU1lYVRyc2FuY3Rpb25Kb2JFbnRpdHkoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbjogJzB4aW5wdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcweGludGVncmF0b3InLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbjogJzB4b3V0cHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5Sm9iSWRBc3luYyhqb2JJZCwgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuQXBwcm92YWwpLFxuICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrQmxvY2tjaGFpblV0aWxzID0gbW9jayhSZnFCbG9ja2NoYWluVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlQXBwcm92YWxDYWxsZGF0YUFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICBNT0NLX0VYRUNVVEVfTUVUQV9UUkFOU0FDVElPTl9DQUxMREFUQSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JBc3luYyhhbnl0aGluZygpKSkudGhlblRocm93KG5ldyBFcnJvcignZXJyb3InKSk7XG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnByZXBhcmVBcHByb3ZhbEFzeW5jKGpvYiwgJzB4dG9rZW4nLCBNT0NLX0VYRUNVVEVfTUVUQV9UUkFOU0FDVElPTl9BUFBST1ZBTCwge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ0V0aCBjYWxsIGFwcHJvdmFsIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGpvYi5zdGF0dXMpLnRvLmRlZXAuZXF1YWwoUmZxbUpvYlN0YXR1cy5GYWlsZWRFdGhDYWxsRmFpbGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gY29ycmVjdCBjYWxsZGF0YSBpZiB0aGVyZSBpcyBubyBzdWJtaXR0ZWQgdHJhbnNhY3Rpb24gZm9yIGEgbWV0YS10cmFuc2FjdGlvbiBqb2InLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2JJZCA9ICdqb2JJZCc7XG5cbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IGNyZWF0ZU1lYVRyc2FuY3Rpb25Kb2JFbnRpdHkoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbjogJzB4aW5wdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcweGludGVncmF0b3InLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbjogJzB4b3V0cHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5Sm9iSWRBc3luYyhqb2JJZCwgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuQXBwcm92YWwpLFxuICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrQmxvY2tjaGFpblV0aWxzID0gbW9jayhSZnFCbG9ja2NoYWluVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlQXBwcm92YWxDYWxsZGF0YUFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICBNT0NLX0VYRUNVVEVfTUVUQV9UUkFOU0FDVElPTl9DQUxMREFUQSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoMTApO1xuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgY2FsbGRhdGEgPSBhd2FpdCByZnFtU2VydmljZS5wcmVwYXJlQXBwcm92YWxBc3luYyhcbiAgICAgICAgICAgICAgICBqb2IsXG4gICAgICAgICAgICAgICAgJzB4dG9rZW4nLFxuICAgICAgICAgICAgICAgIE1PQ0tfRVhFQ1VURV9NRVRBX1RSQU5TQUNUSU9OX0FQUFJPVkFMLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3QoY2FsbGRhdGEpLnRvLmRlZXAuZXF1YWwoTU9DS19FWEVDVVRFX01FVEFfVFJBTlNBQ1RJT05fQ0FMTERBVEEpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdwcmVwYXJlcmZxbVYyVHJhZGVBc3luYycsICgpID0+IHtcbiAgICAgICAgaXQoJ3VwZGF0ZXMgdGhlIGpvYiBhbmQgdGhyb3dzIHVwb24gdmFsaWRhdGlvbiBmYWlsdXJlIHdoZW4gYHNob3VsZENoZWNrTGFzdExvb2tgIGlzIHRydWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBleHBpcmVkSm9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VPbmVNaW51dGVBZ29TKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VPbmVNaW51dGVBZ29TLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IF9qb2IgPSBfLmNsb25lRGVlcChleHBpcmVkSm9iKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoJzB4MDEyMzQ1NjcnKSkudGhlblJlc29sdmUoW10pO1xuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7IGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcmVwYXJlcmZxbVYyVHJhZGVBc3luYyhleHBpcmVkSm9iLCAnMHh3b3JrZXJhZGRyZXNzJywgdHJ1ZSwgbmV3IERhdGUoZmFrZUNsb2NrTXMpKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ0pvYiBmYWlsZWQgdmFsaWRhdGlvbicpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChleHBpcmVkSm9iKS50by5kZWVwLmVxdWFsKHsgLi4uX2pvYiwgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLkZhaWxlZEV4cGlyZWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdoYW5kbGVzIGEgYmFsYW5jZSBjaGVjayBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnMHhtYWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgX2pvYiA9IF8uY2xvbmVEZWVwKGpvYik7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKCcweDAxMjM0NTY3JykpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBSZnFtSm9iRW50aXR5W10gPSBbXTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcChqb2JBcmcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRNaW5PZkJhbGFuY2VzQW5kQWxsb3dhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbbmV3IEJpZ051bWJlcigxMDApXSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlID0gbW9jayhSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpO1xuICAgICAgICAgICAgd2hlbihtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlLmdldEVSQzIwT3duZXJCYWxhbmNlc0FzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcig1KSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2U6IGluc3RhbmNlKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UucHJlcGFyZXJmcW1WMlRyYWRlQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJywgdHJ1ZSwgbmV3IERhdGUoZmFrZUNsb2NrTXMpKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ09yZGVyIGZhaWxlZCBwcmUtc2lnbiB2YWxpZGF0aW9uJyk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzWzBdKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uX2pvYixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdQcm9jZXNzaW5nLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnc1sxXSkudG8uZGVlcC5lcXVhbCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLl9qb2IsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5GYWlsZWRQcmVzaWduVmFsaWRhdGlvbkZhaWxlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoam9iKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uX2pvYixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLkZhaWxlZFByZXNpZ25WYWxpZGF0aW9uRmFpbGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnaGFuZGxlcyBhIGRlY2xpbmUgdG8gc2lnbicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiBudWxsLFxuICAgICAgICAgICAgICAgIG1ha2VyVXJpOiAnaHR0cDovL2Zvby5iYXInLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiBudWxsLFxuICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlci50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJzB4bWFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IF9qb2IgPSBfLmNsb25lRGVlcChqb2IpO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYygnMHgwMTIzNDU2NycpKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnczogUmZxbUpvYkVudGl0eVtdID0gW107XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKGpvYkFyZykgPT4ge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAoam9iQXJnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tRdW90ZVNlcnZlckNsaWVudCA9IG1vY2soUXVvdGVTZXJ2ZXJDbGllbnQpO1xuICAgICAgICAgICAgd2hlbihtb2NrUXVvdGVTZXJ2ZXJDbGllbnQuc2lnblYyQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBjb25zdCBtb2NrQmxvY2tjaGFpblV0aWxzID0gbW9jayhSZnFCbG9ja2NoYWluVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE1pbk9mQmFsYW5jZXNBbmRBbGxvd2FuY2VzQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlID0gbW9jayhSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpO1xuICAgICAgICAgICAgd2hlbihtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlLmdldEVSQzIwT3duZXJCYWxhbmNlc0FzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcXVvdGVTZXJ2ZXJDbGllbnQ6IGluc3RhbmNlKG1vY2tRdW90ZVNlcnZlckNsaWVudCksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2U6IGluc3RhbmNlKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UucHJlcGFyZXJmcW1WMlRyYWRlQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJywgdHJ1ZSwgbmV3IERhdGUoZmFrZUNsb2NrTXMpKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ01hcmtldCBNYWtlciBkZWNsaW5lZCB0byBzaWduJyk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGpvYikudG8uZGVlcC5lcXVhbCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLl9qb2IsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLkZhaWxlZExhc3RMb29rRGVjbGluZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdoYW5kbGVzIGEgc2lnbmF0dXJlIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIpLFxuICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnJyxcbiAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogbnVsbCxcbiAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcweG1ha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMTAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHhtYWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEwMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweHRha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBfam9iID0gXy5jbG9uZURlZXAoam9iKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoJzB4MDEyMzQ1NjcnKSkudGhlblJlc29sdmUoW10pO1xuICAgICAgICAgICAgY29uc3QgbW9ja1F1b3RlU2VydmVyQ2xpZW50ID0gbW9jayhRdW90ZVNlcnZlckNsaWVudCk7XG4gICAgICAgICAgICB3aGVuKG1vY2tRdW90ZVNlcnZlckNsaWVudC5zaWduVjJBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlamVjdChcbiAgICAgICAgICAgICAgICBuZXcgRXJyb3IoJ2Zha2UgdGltZW91dCcpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0TWluT2ZCYWxhbmNlc0FuZEFsbG93YW5jZXNBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UgPSBtb2NrKFJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UuZ2V0RVJDMjBPd25lckJhbGFuY2VzQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICBxdW90ZVNlcnZlckNsaWVudDogaW5zdGFuY2UobW9ja1F1b3RlU2VydmVyQ2xpZW50KSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZTogaW5zdGFuY2UobW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcmVwYXJlcmZxbVYyVHJhZGVBc3luYyhqb2IsICcweHdvcmtlcmFkZHJlc3MnLCB0cnVlLCBuZXcgRGF0ZShmYWtlQ2xvY2tNcykpO1xuICAgICAgICAgICAgICAgIGV4cGVjdC5mYWlsKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGUubWVzc2FnZSkudG8uY29udGFpbignSm9iIGZhaWxlZCBkdXJpbmcgbWFya2V0IG1ha2VyIHNpZ24gYXR0ZW1wdCcpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChqb2IpLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuRmFpbGVkU2lnbkZhaWxlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ2hhbmRsZXMgc2lnbmVyIGlzIG5vdCB0aGUgbWFrZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIpLFxuICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnJyxcbiAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogbnVsbCxcbiAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBSZnFtSm9iRW50aXR5W10gPSBbXTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcChqb2JBcmcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYyhvcmRlckhhc2gpKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUXVvdGVTZXJ2ZXJDbGllbnQgPSBtb2NrKFF1b3RlU2VydmVyQ2xpZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGludmFsaWRFSVA3MTJTaWcgPSBfLmNsb25lRGVlcCh2YWxpZEVJUDcxMlNpZyk7XG4gICAgICAgICAgICBpbnZhbGlkRUlQNzEyU2lnLnIgPSAnMHhkYzE1OGY3YjUzYjk0MDg2M2JjN2IwMDE1NTJhOTAyODJlNTEwMzNmMjliNzNkNDRhMjcwMWJkMTZmYWExOWQzJztcbiAgICAgICAgICAgIHdoZW4obW9ja1F1b3RlU2VydmVyQ2xpZW50LnNpZ25WMkFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShpbnZhbGlkRUlQNzEyU2lnKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0TWluT2ZCYWxhbmNlc0FuZEFsbG93YW5jZXNBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UgPSBtb2NrKFJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UuZ2V0RVJDMjBPd25lckJhbGFuY2VzQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICBxdW90ZVNlcnZlckNsaWVudDogaW5zdGFuY2UobW9ja1F1b3RlU2VydmVyQ2xpZW50KSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZTogaW5zdGFuY2UobW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcmVwYXJlcmZxbVYyVHJhZGVBc3luYyhqb2IsICcweHdvcmtlcmFkZHJlc3MnLCB0cnVlLCBuZXcgRGF0ZShmYWtlQ2xvY2tNcykpO1xuICAgICAgICAgICAgICAgIGV4cGVjdC5mYWlsKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGUubWVzc2FnZSkudG8uY29udGFpbignSW52YWxpZCBvcmRlciBzaWduZXIgYWRkcmVzcycpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChqb2Iuc3RhdHVzKS50by5kZWVwLmVxdWFsKFJmcW1Kb2JTdGF0dXMuRmFpbGVkU2lnbkZhaWxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdoYW5kbGVzIGFuIGV0aF9jYWxsIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIpLFxuICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnJyxcbiAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogbnVsbCxcbiAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nRW5xdWV1ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IF9qb2IgPSBfLmNsb25lRGVlcChqb2IpO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYyhvcmRlckhhc2gpKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUXVvdGVTZXJ2ZXJDbGllbnQgPSBtb2NrKFF1b3RlU2VydmVyQ2xpZW50KTtcbiAgICAgICAgICAgIHdoZW4obW9ja1F1b3RlU2VydmVyQ2xpZW50LnNpZ25WMkFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSh2YWxpZEVJUDcxMlNpZyk7XG4gICAgICAgICAgICBjb25zdCBtb2NrQmxvY2tjaGFpblV0aWxzID0gbW9jayhSZnFCbG9ja2NoYWluVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE1pbk9mQmFsYW5jZXNBbmRBbGxvd2FuY2VzQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JGaWxsVGFrZXJTaWduZWRPdGNPcmRlckFzeW5jKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZWplY3QobmV3IEVycm9yKCdmYWtlIGV0aCBjYWxsIGZhaWx1cmUnKSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlID0gbW9jayhSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpO1xuICAgICAgICAgICAgd2hlbihtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlLmdldEVSQzIwT3duZXJCYWxhbmNlc0FzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcXVvdGVTZXJ2ZXJDbGllbnQ6IGluc3RhbmNlKG1vY2tRdW90ZVNlcnZlckNsaWVudCksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2U6IGluc3RhbmNlKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UucHJlcGFyZXJmcW1WMlRyYWRlQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJywgdHJ1ZSwgbmV3IERhdGUoZmFrZUNsb2NrTXMpKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ0V0aCBjYWxsIHZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGpvYikudG8uZGVlcC5lcXVhbCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLl9qb2IsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZTogdmFsaWRFSVA3MTJTaWcsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5GYWlsZWRFdGhDYWxsRmFpbGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpdCgndXBkYXRlcyBtYXJrZXQgbWFrZXIgc2lnbmF0dXJlcyBtaXNzaW5nIGJ5dGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBfam9iID0gXy5jbG9uZURlZXAoam9iKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tRdW90ZVNlcnZlckNsaWVudCA9IG1vY2soUXVvdGVTZXJ2ZXJDbGllbnQpO1xuICAgICAgICAgICAgd2hlbihtb2NrUXVvdGVTZXJ2ZXJDbGllbnQuc2lnblYyQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKG1pc3NpbmdCeXRlU2lnKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuaXNWYWxpZE9yZGVyU2lnbmVyQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE1pbk9mQmFsYW5jZXNBbmRBbGxvd2FuY2VzQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JGaWxsVGFrZXJTaWduZWRPdGNPcmRlckFzeW5jKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKDApO1xuICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICBtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlVGFrZXJTaWduZWRPdGNPcmRlckNhbGxEYXRhKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXR1cm4oJzB4dmFsaWRjYWxsZGF0YScpO1xuICAgICAgICAgICAgY29uc3QgbW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSA9IG1vY2soUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKTtcbiAgICAgICAgICAgIHdoZW4obW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZS5nZXRFUkMyME93bmVyQmFsYW5jZXNBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHF1b3RlU2VydmVyQ2xpZW50OiBpbnN0YW5jZShtb2NrUXVvdGVTZXJ2ZXJDbGllbnQpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlOiBpbnN0YW5jZShtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcmVwYXJlcmZxbVYyVHJhZGVBc3luYyhqb2IsICcweHdvcmtlcmFkZHJlc3MnLCB0cnVlLCBuZXcgRGF0ZShmYWtlQ2xvY2tNcykpO1xuICAgICAgICAgICAgZXhwZWN0KGpvYikudG8uZGVlcC5lcXVhbCh7XG4gICAgICAgICAgICAgICAgLi4uX2pvYixcbiAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZTogcGFkU2lnbmF0dXJlKG1pc3NpbmdCeXRlU2lnKSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0xhc3RMb29rQWNjZXB0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3NraXBzIHRoZSBldGhfY2FsbCBmb3Igam9icyB3aXRoIGV4aXN0aW5nIHN1Ym1pc3Npb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IHZhbGlkRUlQNzEyU2lnLFxuICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlci50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJzB4bWFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nTGFzdExvb2tBY2NlcHRlZCxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgUmZxbVYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5KHtcbiAgICAgICAgICAgICAgICBvcmRlckhhc2gsXG4gICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICBub25jZTogMjEsXG4gICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IF9qb2IgPSBfLmNsb25lRGVlcChqb2IpO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3M6IFJmcW1Kb2JFbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYygnMHgwMTIzNDU2NycpKS50aGVuUmVzb2x2ZShbdHJhbnNhY3Rpb25dKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcChqb2JBcmcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbW9ja1F1b3RlU2VydmVyQ2xpZW50ID0gbW9jayhRdW90ZVNlcnZlckNsaWVudCk7XG4gICAgICAgICAgICB3aGVuKG1vY2tRdW90ZVNlcnZlckNsaWVudC5zaWduVjJBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUodmFsaWRFSVA3MTJTaWcpO1xuICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRNaW5PZkJhbGFuY2VzQW5kQWxsb3dhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICBtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlVGFrZXJTaWduZWRPdGNPcmRlckNhbGxEYXRhKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXR1cm4oJzB4dmFsaWRjYWxsZGF0YScpO1xuICAgICAgICAgICAgY29uc3QgbW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSA9IG1vY2soUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKTtcbiAgICAgICAgICAgIHdoZW4obW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZS5nZXRFUkMyME93bmVyQmFsYW5jZXNBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHF1b3RlU2VydmVyQ2xpZW50OiBpbnN0YW5jZShtb2NrUXVvdGVTZXJ2ZXJDbGllbnQpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlOiBpbnN0YW5jZShtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsZGF0YSA9IGF3YWl0IHJmcW1TZXJ2aWNlLnByZXBhcmVyZnFtVjJUcmFkZUFzeW5jKFxuICAgICAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgICAgICAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIG5ldyBEYXRlKGZha2VDbG9ja01zKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoam9iKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiB2YWxpZEVJUDcxMlNpZyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0xhc3RMb29rQWNjZXB0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4cGVjdChjYWxsZGF0YSkudG8uZXF1YWwoJzB4dmFsaWRjYWxsZGF0YScpO1xuICAgICAgICAgICAgdmVyaWZ5KFxuICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JGaWxsVGFrZXJTaWduZWRPdGNPcmRlckFzeW5jKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLm5ldmVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdsZXRzIGV4cGlyZWQgam9icyB3aXRoIGV4aXN0aW5nIHN1Ym1pc3Npb25zIGZhbGwgdGhyb3VnaCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBqb2IgaXNuJ3QgaW4gYSB0ZXJtaW5hbCBzdGF0dXMgYnV0IHRoZXJlIGFyZSBleGlzdGluZyBzdWJtaXNzaW9ucyxcbiAgICAgICAgICAgIC8vIGBwcmVwYXJlVHJhZGVBc3luY2Agd2lsbCBsZXQgdGhlIGpvYiBjb250aW51ZSB0byB0aGUgc3VibWlzc2lvbiBzdGVwIHdoaWNoXG4gICAgICAgICAgICAvLyB3aWxsIGFsbG93IHRoZSB3b3JrZXIgdG8gY2hlY2sgcmVjZWlwdHMgZm9yIHRob3NlIHN1Ym1pc3Npb25zLlxuICAgICAgICAgICAgY29uc3QgZXhwaXJlZEpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlT25lTWludXRlQWdvUyksXG4gICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgIG1ha2VyVXJpOiAnaHR0cDovL2Zvby5iYXInLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VPbmVNaW51dGVBZ29TLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnMHhtYWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdTdWJtaXR0ZWQsXG4gICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlVHlwZTogU2lnbmF0dXJlVHlwZS5FdGhTaWduLFxuICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICBzOiAnMHgwMicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgUmZxbVYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5KHtcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDApLFxuICAgICAgICAgICAgICAgIG5vbmNlOiAyMSxcbiAgICAgICAgICAgICAgICB0eXBlOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYygnMHgwMTIzNDU2NycpKS50aGVuUmVzb2x2ZShbdHJhbnNhY3Rpb25dKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMuZ2VuZXJhdGVUYWtlclNpZ25lZE90Y09yZGVyQ2FsbERhdGEoXG4gICAgICAgICAgICAgICAgICAgIGFueXRoaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIGFueXRoaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIGFueXRoaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIGFueXRoaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIGFueXRoaW5nKCksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICkudGhlblJldHVybignMHh2YWxpZGNhbGxkYXRhJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnByZXBhcmVyZnFtVjJUcmFkZUFzeW5jKGV4cGlyZWRKb2IsICcweHdvcmtlcmFkZHJlc3MnLCB0cnVlLCBuZXcgRGF0ZShmYWtlQ2xvY2tNcykpO1xuICAgICAgICAgICAgZXhwZWN0KGV4cGlyZWRKb2Iuc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLlBlbmRpbmdTdWJtaXR0ZWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc3VjY2Vzc2Z1bGx5IHByZXBhcmVzIGEgam9iIHdoZW4gY2hlY2tpbmcgbGFzdCBsb29rJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBfam9iID0gXy5jbG9uZURlZXAoam9iKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBSZnFtSm9iRW50aXR5W10gPSBbXTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMob3JkZXJIYXNoKSkudGhlblJlc29sdmUoW10pO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtSm9iQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKGFzeW5jIChqb2JBcmcpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKGpvYkFyZykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUXVvdGVTZXJ2ZXJDbGllbnQgPSBtb2NrKFF1b3RlU2VydmVyQ2xpZW50KTtcbiAgICAgICAgICAgIHdoZW4obW9ja1F1b3RlU2VydmVyQ2xpZW50LnNpZ25WMkFzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSh2YWxpZEVJUDcxMlNpZyk7XG4gICAgICAgICAgICBjb25zdCBtb2NrQmxvY2tjaGFpblV0aWxzID0gbW9jayhSZnFCbG9ja2NoYWluVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE1pbk9mQmFsYW5jZXNBbmRBbGxvd2FuY2VzQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JGaWxsVGFrZXJTaWduZWRPdGNPcmRlckFzeW5jKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKDApO1xuICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICBtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlVGFrZXJTaWduZWRPdGNPcmRlckNhbGxEYXRhKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXR1cm4oJzB4dmFsaWRjYWxsZGF0YScpO1xuICAgICAgICAgICAgY29uc3QgbW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSA9IG1vY2soUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKTtcbiAgICAgICAgICAgIHdoZW4obW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZS5nZXRFUkMyME93bmVyQmFsYW5jZXNBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHF1b3RlU2VydmVyQ2xpZW50OiBpbnN0YW5jZShtb2NrUXVvdGVTZXJ2ZXJDbGllbnQpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlOiBpbnN0YW5jZShtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsZGF0YSA9IGF3YWl0IHJmcW1TZXJ2aWNlLnByZXBhcmVyZnFtVjJUcmFkZUFzeW5jKFxuICAgICAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgICAgICAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIG5ldyBEYXRlKGZha2VDbG9ja01zKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoam9iKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiB2YWxpZEVJUDcxMlNpZyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0xhc3RMb29rQWNjZXB0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4cGVjdChjYWxsZGF0YSkudG8uZXF1YWwoJzB4dmFsaWRjYWxsZGF0YScpO1xuICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzWzBdKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nUHJvY2Vzc2luZyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzWzFdKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiB2YWxpZEVJUDcxMlNpZyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0xhc3RMb29rQWNjZXB0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3N1Y2Nlc3NmdWxseSBwcmVwYXJlcyBhIGpvYiBpZiBubyBsYXN0IGxvb2sgaXMgbmVjZXNzYXJ5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IHZhbGlkRUlQNzEyU2lnLFxuICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlci50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMTAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHhtYWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEwMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweHRha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2gsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdMYXN0TG9va0FjY2VwdGVkLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBfam9iID0gXy5jbG9uZURlZXAoam9iKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMob3JkZXJIYXNoKSkudGhlblJlc29sdmUoW10pO1xuICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRNaW5PZkJhbGFuY2VzQW5kQWxsb3dhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICBtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yRmlsbFRha2VyU2lnbmVkT3RjT3JkZXJBc3luYyhcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKS50aGVuUmVzb2x2ZSgwKTtcbiAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgbW9ja0Jsb2NrY2hhaW5VdGlscy5nZW5lcmF0ZVRha2VyU2lnbmVkT3RjT3JkZXJDYWxsRGF0YShcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKS50aGVuUmV0dXJuKCcweHZhbGlkY2FsbGRhdGEnKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UgPSBtb2NrKFJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UuZ2V0RVJDMjBPd25lckJhbGFuY2VzQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZTogaW5zdGFuY2UobW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHNwaWVkUmZxbVNlcnZpY2UgPSBzcHkocmZxbVNlcnZpY2UpO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsZGF0YSA9IGF3YWl0IHJmcW1TZXJ2aWNlLnByZXBhcmVyZnFtVjJUcmFkZUFzeW5jKFxuICAgICAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgICAgICAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBuZXcgRGF0ZShmYWtlQ2xvY2tNcyksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0KGpvYikudG8uZGVlcC5lcXVhbChfam9iKTtcbiAgICAgICAgICAgIGV4cGVjdChjYWxsZGF0YSkudG8uZXF1YWwoJzB4dmFsaWRjYWxsZGF0YScpO1xuICAgICAgICAgICAgdmVyaWZ5KHNwaWVkUmZxbVNlcnZpY2UuY2hlY2tKb2JQcmVwcm9jZXNzaW5nQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLm5ldmVyKCk7XG4gICAgICAgICAgICB2ZXJpZnkoc3BpZWRSZnFtU2VydmljZS5jaGVja0xhc3RMb29rQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLm5ldmVyKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3ByZXBhcmVNZXRhVHJhbnNhY3Rpb25UcmFkZUFzeW5jJywgKCkgPT4ge1xuICAgICAgICBpdCgndXBkYXRlcyB0aGUgam9iIGFuZCB0aHJvd3MgdXBvbiB2YWxpZGF0aW9uIGZhaWx1cmUgaWYgYHNob3VsZFZhbGlkYXRlSm9iYCBpcyB0cnVlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iSWQgPSAnam9iSWQnO1xuICAgICAgICAgICAgY29uc3QgZXhwaXJlZEpvYiA9IGNyZWF0ZU1lYVRyc2FuY3Rpb25Kb2JFbnRpdHkoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlT25lTWludXRlQWdvUyksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbjogJzB4aW5wdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcweGludGVncmF0b3InLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbjogJzB4b3V0cHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IF9qb2IgPSBfLmNsb25lRGVlcChleHBpcmVkSm9iKTtcbiAgICAgICAgICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgICAgICAgICAgd2hlbihnYXNTdGF0aW9uQXR0ZW5kYW50TW9jay5nZXRFeHBlY3RlZFRyYW5zYWN0aW9uR2FzUmF0ZUFzeW5jKCkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTApLnNoaWZ0ZWRCeShHV0VJX0RFQ0lNQUxTKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeUpvYklkQXN5bmMoam9iSWQpKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgZ2FzU3RhdGlvbkF0dGVuZGFudDogaW5zdGFuY2UoZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2spLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UucHJlcGFyZU1ldGFUcmFuc2FjdGlvblRyYWRlQXN5bmMoXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZWRKb2IsXG4gICAgICAgICAgICAgICAgICAgICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZShmYWtlQ2xvY2tNcyksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ0pvYiBmYWlsZWQgdmFsaWRhdGlvbicpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChleHBpcmVkSm9iKS50by5kZWVwLmVxdWFsKHsgLi4uX2pvYiwgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLkZhaWxlZEV4cGlyZWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdoYW5kbGVzIGFuIGV0aF9jYWxsIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2JJZCA9ICdqb2JJZCc7XG5cbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IGNyZWF0ZU1lYVRyc2FuY3Rpb25Kb2JFbnRpdHkoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBuZXcgQmlnTnVtYmVyKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbjogJzB4aW5wdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcweGludGVncmF0b3InLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb246IE1PQ0tfTUVUQV9UUkFOU0FDVElPTixcbiAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgbWluT3V0cHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbjogJzB4b3V0cHV0VG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBfam9iID0gXy5jbG9uZURlZXAoam9iKTtcblxuICAgICAgICAgICAgY29uc3QgZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2sgPSBtb2NrKEdhc1N0YXRpb25BdHRlbmRhbnRFdGhlcmV1bSk7XG4gICAgICAgICAgICB3aGVuKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrLmdldEV4cGVjdGVkVHJhbnNhY3Rpb25HYXNSYXRlQXN5bmMoKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMCkuc2hpZnRlZEJ5KEdXRUlfREVDSU1BTFMpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLmZpbmRNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5Sm9iSWRBc3luYyhqb2JJZCkpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0TWluT2ZCYWxhbmNlc0FuZEFsbG93YW5jZXNBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5lc3RpbWF0ZUdhc0ZvckFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVqZWN0KG5ldyBFcnJvcignZmFrZSBldGggY2FsbCBmYWlsdXJlJykpO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgICAgICBnYXNTdGF0aW9uQXR0ZW5kYW50OiBpbnN0YW5jZShnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5wcmVwYXJlTWV0YVRyYW5zYWN0aW9uVHJhZGVBc3luYyhqb2IsICcweHdvcmtlcmFkZHJlc3MnLCB0cnVlLCBuZXcgRGF0ZShmYWtlQ2xvY2tNcykpO1xuICAgICAgICAgICAgICAgIGV4cGVjdC5mYWlsKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGUubWVzc2FnZSkudG8uY29udGFpbignRXRoIGNhbGwgdmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoam9iKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uX2pvYixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLkZhaWxlZEV0aENhbGxGYWlsZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdza2lwcyB0aGUgZXRoX2NhbGwgZm9yIGpvYnMgd2l0aCBleGlzdGluZyBzdWJtaXNzaW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYklkID0gJ2pvYklkJztcblxuICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG5ldyBCaWdOdW1iZXIoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuOiAnMHhpbnB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJzB4aW50ZWdyYXRvcicsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbjogTU9DS19NRVRBX1RSQU5TQUNUSU9OLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25IYXNoOiBNT0NLX01FVEFfVFJBTlNBQ1RJT04uZ2V0SGFzaCgpLFxuICAgICAgICAgICAgICAgICAgICBtaW5PdXRwdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuOiAnMHhvdXRwdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzczogJzB4dGFrZXJBZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1Byb2Nlc3NpbmcsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgam9iSWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5KFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbkpvYklkOiBqb2JJZCxcbiAgICAgICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMCksXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiAwLFxuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3N1Ym1pc3Npb25JZCcsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgX2pvYiA9IF8uY2xvbmVEZWVwKGpvYik7XG5cbiAgICAgICAgICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgICAgICAgICAgd2hlbihnYXNTdGF0aW9uQXR0ZW5kYW50TW9jay5nZXRFeHBlY3RlZFRyYW5zYWN0aW9uR2FzUmF0ZUFzeW5jKCkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTApLnNoaWZ0ZWRCeShHV0VJX0RFQ0lNQUxTKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeUpvYklkQXN5bmMoam9iSWQpKS50aGVuUmVzb2x2ZShbdHJhbnNhY3Rpb25dKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2VuZXJhdGVNZXRhVHJhbnNhY3Rpb25DYWxsRGF0YShhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJldHVybihcbiAgICAgICAgICAgICAgICAnMHh2YWxpZGNhbGxkYXRhJyxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIGdhc1N0YXRpb25BdHRlbmRhbnQ6IGluc3RhbmNlKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsZGF0YSA9IGF3YWl0IHJmcW1TZXJ2aWNlLnByZXBhcmVNZXRhVHJhbnNhY3Rpb25UcmFkZUFzeW5jKFxuICAgICAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgICAgICAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIG5ldyBEYXRlKGZha2VDbG9ja01zKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoam9iKS50by5kZWVwLmVxdWFsKF9qb2IpO1xuICAgICAgICAgICAgZXhwZWN0KGNhbGxkYXRhKS50by5lcXVhbCgnMHh2YWxpZGNhbGxkYXRhJyk7XG4gICAgICAgICAgICB2ZXJpZnkobW9ja0Jsb2NrY2hhaW5VdGlscy5lc3RpbWF0ZUdhc0ZvckFzeW5jKGFueXRoaW5nKCkpKS5uZXZlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc3VjY2Vzc2Z1bGx5IHByZXBhcmVzIGEgam9iIGlmIGBzaG91bGRWYWxpZGF0ZUpvYmAgaXMgdHJ1ZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYklkID0gJ2pvYklkJztcblxuICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG5ldyBCaWdOdW1iZXIoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuOiAnMHhpbnB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJzB4aW50ZWdyYXRvcicsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbjogTU9DS19NRVRBX1RSQU5TQUNUSU9OLFxuICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25IYXNoOiBNT0NLX01FVEFfVFJBTlNBQ1RJT04uZ2V0SGFzaCgpLFxuICAgICAgICAgICAgICAgICAgICBtaW5PdXRwdXRUb2tlbkFtb3VudDogbmV3IEJpZ051bWJlcigxMCksXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuOiAnMHhvdXRwdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgIHRha2VyQWRkcmVzczogJzB4dGFrZXJBZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdGFrZXJTaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJzB4MDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGpvYklkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IF9qb2IgPSBfLmNsb25lRGVlcChqb2IpO1xuXG4gICAgICAgICAgICBjb25zdCBnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayA9IG1vY2soR2FzU3RhdGlvbkF0dGVuZGFudEV0aGVyZXVtKTtcbiAgICAgICAgICAgIHdoZW4oZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2suZ2V0RXhwZWN0ZWRUcmFuc2FjdGlvbkdhc1JhdGVBc3luYygpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwKS5zaGlmdGVkQnkoR1dFSV9ERUNJTUFMUyksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBNZXRhVHJhbnNhY3Rpb25Kb2JFbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeUpvYklkQXN5bmMoam9iSWQpKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKGpvYkFyZykgPT4ge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAoam9iQXJnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoMCk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2VuZXJhdGVNZXRhVHJhbnNhY3Rpb25DYWxsRGF0YShhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJldHVybihcbiAgICAgICAgICAgICAgICAnMHh2YWxpZGNhbGxkYXRhJyxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIGdhc1N0YXRpb25BdHRlbmRhbnQ6IGluc3RhbmNlKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBjYWxsZGF0YSA9IGF3YWl0IHJmcW1TZXJ2aWNlLnByZXBhcmVNZXRhVHJhbnNhY3Rpb25UcmFkZUFzeW5jKFxuICAgICAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgICAgICAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIG5ldyBEYXRlKGZha2VDbG9ja01zKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoam9iKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nUHJvY2Vzc2luZyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwZWN0KGNhbGxkYXRhKS50by5lcXVhbCgnMHh2YWxpZGNhbGxkYXRhJyk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbMF0pLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgICAgICAgICAgIC4uLl9qb2IsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdQcm9jZXNzaW5nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2NoZWNrTGFzdExvb2tBc3luYycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCBjYWxsIGBnZXRNaW5PZkJhbGFuY2VzQW5kQWxsb3dhbmNlc0FzeW5jYCB3aGVuIGBzaG91bGRDaGVja0FsbG93YW5jZWAgaXMgdHJ1ZSBhbmQgdGhyb3dzIHdoZW4gYmFsYW5jZSBjaGVjayBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiBudWxsLFxuICAgICAgICAgICAgICAgIG1ha2VyVXJpOiAnaHR0cDovL2Zvby5iYXInLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiBudWxsLFxuICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlci50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJzB4bWFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nUHJvY2Vzc2luZyxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgX2pvYiA9IF8uY2xvbmVEZWVwKGpvYik7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnczogUmZxbUpvYkVudGl0eVtdID0gW107XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKGpvYkFyZykgPT4ge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAoam9iQXJnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0TWluT2ZCYWxhbmNlc0FuZEFsbG93YW5jZXNBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoW25ldyBCaWdOdW1iZXIoMTAwKV0pO1xuICAgICAgICAgICAgY29uc3QgbW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSA9IG1vY2soUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKTtcbiAgICAgICAgICAgIHdoZW4obW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZS5nZXRFUkMyME93bmVyQmFsYW5jZXNBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoNSksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlOiBpbnN0YW5jZShtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLmNoZWNrTGFzdExvb2tBc3luYyhqb2IsICcweHdvcmtlcmFkZHJlc3MnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ09yZGVyIGZhaWxlZCBwcmUtc2lnbiB2YWxpZGF0aW9uJyk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzWzBdKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uX2pvYixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLkZhaWxlZFByZXNpZ25WYWxpZGF0aW9uRmFpbGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGV4cGVjdChqb2IpLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuRmFpbGVkUHJlc2lnblZhbGlkYXRpb25GYWlsZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmVyaWZ5KG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0TWluT2ZCYWxhbmNlc0FuZEFsbG93YW5jZXNBc3luYyhhbnl0aGluZygpKSkub25jZSgpO1xuICAgICAgICAgICAgICAgIHZlcmlmeShtb2NrQmxvY2tjaGFpblV0aWxzLmdldFRva2VuQmFsYW5jZXNBc3luYyhhbnl0aGluZygpKSkubmV2ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBjYWxsIGBnZXRUb2tlbkJhbGFuY2VzQXN5bmNgIHdoZW4gYHNob3VsZENoZWNrQWxsb3dhbmNlYCBpcyBmYWxzZSBhbmQgdGhyb3dzIHdoZW4gYmFsYW5jZSBjaGVjayBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiBudWxsLFxuICAgICAgICAgICAgICAgIG1ha2VyVXJpOiAnaHR0cDovL2Zvby5iYXInLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiBudWxsLFxuICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlci50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJzB4bWFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nUHJvY2Vzc2luZyxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgX2pvYiA9IF8uY2xvbmVEZWVwKGpvYik7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnczogUmZxbUpvYkVudGl0eVtdID0gW107XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKGpvYkFyZykgPT4ge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAoam9iQXJnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0VG9rZW5CYWxhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbbmV3IEJpZ051bWJlcigxMDApXSk7XG4gICAgICAgICAgICBjb25zdCBtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlID0gbW9jayhSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpO1xuICAgICAgICAgICAgd2hlbihtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlLmdldEVSQzIwT3duZXJCYWxhbmNlc0FzeW5jKGFueXRoaW5nKCksIGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcig1KSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2U6IGluc3RhbmNlKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2UuY2hlY2tMYXN0TG9va0FzeW5jKGpvYiwgJzB4d29ya2VyYWRkcmVzcycsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ09yZGVyIGZhaWxlZCBwcmUtc2lnbiB2YWxpZGF0aW9uJyk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzWzBdKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uX2pvYixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLkZhaWxlZFByZXNpZ25WYWxpZGF0aW9uRmFpbGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGV4cGVjdChqb2IpLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuRmFpbGVkUHJlc2lnblZhbGlkYXRpb25GYWlsZWQsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2ZXJpZnkobW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRUb2tlbkJhbGFuY2VzQXN5bmMoYW55dGhpbmcoKSkpLm9uY2UoKTtcbiAgICAgICAgICAgICAgICB2ZXJpZnkobW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRNaW5PZkJhbGFuY2VzQW5kQWxsb3dhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS5uZXZlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHRocm93IHdoZW4gdGFrZXIgc2lnbmF0dXJlIGlzIG5vdCBwcmVzZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnMHhtYWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdQcm9jZXNzaW5nLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiBudWxsLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgX2pvYiA9IF8uY2xvbmVEZWVwKGpvYik7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJnczogUmZxbUpvYkVudGl0eVtdID0gW107XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKGpvYkFyZykgPT4ge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAoam9iQXJnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0TWluT2ZCYWxhbmNlc0FuZEFsbG93YW5jZXNBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UgPSBtb2NrKFJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UuZ2V0RVJDMjBPd25lckJhbGFuY2VzQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZTogaW5zdGFuY2UobW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5jaGVja0xhc3RMb29rQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0LmZhaWwoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZS5tZXNzYWdlKS50by5jb250YWluKCdPcmRlciBmYWlsZWQgcHJlLXNpZ24gdmFsaWRhdGlvbiBkdWUgdG8gZW1wdHkgdGFrZXJTaWduYXR1cmUnKTtcbiAgICAgICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3NbMF0pLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuRmFpbGVkUHJlc2lnblZhbGlkYXRpb25GYWlsZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGpvYikudG8uZGVlcC5lcXVhbCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLl9qb2IsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5GYWlsZWRQcmVzaWduVmFsaWRhdGlvbkZhaWxlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ2hhbmRsZXMgZGVjbGluZSB0byBzaWduJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnMHhtYWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgX2pvYiA9IF8uY2xvbmVEZWVwKGpvYik7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKCcweDAxMjM0NTY3JykpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyUXVvdGVCeU9yZGVySGFzaEFzeW5jKCcweDAxMjM0NTY3JykpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgIG5ldyBSZnFtVjJRdW90ZUVudGl0eSh7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogam9iLmNoYWluSWQsXG4gICAgICAgICAgICAgICAgICAgIGZlZTogam9iLmZlZSxcbiAgICAgICAgICAgICAgICAgICAgbWFrZXJVcmk6IGpvYi5tYWtlclVyaSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IGpvYi5vcmRlcixcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJIYXNoOiBqb2Iub3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBSZnFtSm9iRW50aXR5W10gPSBbXTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcChqb2JBcmcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbW9ja1F1b3RlU2VydmVyQ2xpZW50ID0gbW9jayhRdW90ZVNlcnZlckNsaWVudCk7XG4gICAgICAgICAgICB3aGVuKG1vY2tRdW90ZVNlcnZlckNsaWVudC5zaWduVjJBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUodW5kZWZpbmVkKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRNaW5PZkJhbGFuY2VzQW5kQWxsb3dhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY29uc3QgbW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSA9IG1vY2soUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKTtcbiAgICAgICAgICAgIHdoZW4obW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZS5nZXRFUkMyME93bmVyQmFsYW5jZXNBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0NhY2hlQ2xpZW50ID0gbW9jayhDYWNoZUNsaWVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tSZnFNYWtlck1hbmFnZXIgPSBtb2NrKFJmcU1ha2VyTWFuYWdlcik7XG4gICAgICAgICAgICB3aGVuKG1vY2tSZnFNYWtlck1hbmFnZXIuZmluZE1ha2VySWRXaXRoUmZxbVVyaShqb2IubWFrZXJVcmkpKS50aGVuUmV0dXJuKCdtYWtlcklkMScpO1xuXG4gICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgcXVvdGVTZXJ2ZXJDbGllbnQ6IGluc3RhbmNlKG1vY2tRdW90ZVNlcnZlckNsaWVudCksXG4gICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgICAgICByZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2U6IGluc3RhbmNlKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UpLFxuICAgICAgICAgICAgICAgIHJmcU1ha2VyTWFuYWdlcjogaW5zdGFuY2UobW9ja1JmcU1ha2VyTWFuYWdlciksXG4gICAgICAgICAgICAgICAgY2FjaGVDbGllbnQ6IGluc3RhbmNlKG1vY2tDYWNoZUNsaWVudCksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5jaGVja0xhc3RMb29rQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0LmZhaWwoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZS5tZXNzYWdlKS50by5jb250YWluKCdNYXJrZXQgTWFrZXIgZGVjbGluZWQgdG8gc2lnbicpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChqb2IpLnRvLmRlZXAuZXF1YWwoe1xuICAgICAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5GYWlsZWRMYXN0TG9va0RlY2xpbmVkLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmVyaWZ5KFxuICAgICAgICAgICAgICAgICAgICBtb2NrQ2FjaGVDbGllbnQuYWRkTWFrZXJUb0Nvb2xkb3duQXN5bmMoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFrZXJJZDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvYi5jaGFpbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgam9iLm9yZGVyLm9yZGVyLm1ha2VyVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2Iub3JkZXIub3JkZXIudGFrZXJUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICApLm9uY2UoKTtcblxuICAgICAgICAgICAgICAgIHZlcmlmeShcbiAgICAgICAgICAgICAgICAgICAgbW9ja0RiVXRpbHMud3JpdGVWMkxhc3RMb29rUmVqZWN0aW9uQ29vbGRvd25Bc3luYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYWtlcklkMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2IuY2hhaW5JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvYi5vcmRlci5vcmRlci5tYWtlclRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgam9iLm9yZGVyLm9yZGVyLnRha2VyVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvYi5vcmRlckhhc2gsXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKS5vbmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdoYW5kbGVzIGEgc2lnbmF0dXJlIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIpLFxuICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnJyxcbiAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogbnVsbCxcbiAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICBtYWtlclNpZ25hdHVyZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoZmFrZUZpdmVNaW51dGVzTGF0ZXIudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcweG1ha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMTAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHhtYWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEwMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweHRha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBfam9iID0gXy5jbG9uZURlZXAoam9iKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoJzB4MDEyMzQ1NjcnKSkudGhlblJlc29sdmUoW10pO1xuICAgICAgICAgICAgY29uc3QgbW9ja1F1b3RlU2VydmVyQ2xpZW50ID0gbW9jayhRdW90ZVNlcnZlckNsaWVudCk7XG4gICAgICAgICAgICB3aGVuKG1vY2tRdW90ZVNlcnZlckNsaWVudC5zaWduVjJBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlamVjdChcbiAgICAgICAgICAgICAgICBuZXcgRXJyb3IoJ2Zha2UgdGltZW91dCcpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0TWluT2ZCYWxhbmNlc0FuZEFsbG93YW5jZXNBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UgPSBtb2NrKFJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tSZnFNYWtlckJhbGFuY2VDYWNoZVNlcnZpY2UuZ2V0RVJDMjBPd25lckJhbGFuY2VzQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICBxdW90ZVNlcnZlckNsaWVudDogaW5zdGFuY2UobW9ja1F1b3RlU2VydmVyQ2xpZW50KSxcbiAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIHJmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZTogaW5zdGFuY2UobW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5jaGVja0xhc3RMb29rQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0LmZhaWwoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZS5tZXNzYWdlKS50by5jb250YWluKCdKb2IgZmFpbGVkIGR1cmluZyBtYXJrZXQgbWFrZXIgc2lnbiBhdHRlbXB0Jyk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGpvYikudG8uZGVlcC5lcXVhbCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLl9qb2IsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5GYWlsZWRTaWduRmFpbGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnaGFuZGxlcyBzaWduZXIgaXMgbm90IHRoZSBtYWtlcicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlciksXG4gICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiBudWxsLFxuICAgICAgICAgICAgICAgIG1ha2VyVXJpOiAnaHR0cDovL2Zvby5iYXInLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiBudWxsLFxuICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihmYWtlRml2ZU1pbnV0ZXNMYXRlci50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMTAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHhtYWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEwMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweHRha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlckhhc2gsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdFbnF1ZXVlZCxcbiAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVUeXBlOiBTaWduYXR1cmVUeXBlLkV0aFNpZ24sXG4gICAgICAgICAgICAgICAgICAgIHY6IDI3LFxuICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcweDAyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3M6IFJmcW1Kb2JFbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtSm9iQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKGFzeW5jIChqb2JBcmcpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKGpvYkFyZykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKG9yZGVySGFzaCkpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tRdW90ZVNlcnZlckNsaWVudCA9IG1vY2soUXVvdGVTZXJ2ZXJDbGllbnQpO1xuICAgICAgICAgICAgY29uc3QgaW52YWxpZEVJUDcxMlNpZyA9IF8uY2xvbmVEZWVwKHZhbGlkRUlQNzEyU2lnKTtcbiAgICAgICAgICAgIGludmFsaWRFSVA3MTJTaWcuciA9ICcweGRjMTU4ZjdiNTNiOTQwODYzYmM3YjAwMTU1MmE5MDI4MmU1MTAzM2YyOWI3M2Q0NGEyNzAxYmQxNmZhYTE5ZDMnO1xuICAgICAgICAgICAgd2hlbihtb2NrUXVvdGVTZXJ2ZXJDbGllbnQuc2lnblYyQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKGludmFsaWRFSVA3MTJTaWcpO1xuICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRNaW5PZkJhbGFuY2VzQW5kQWxsb3dhbmNlc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMDAwMDAwMDAwKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY29uc3QgbW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSA9IG1vY2soUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKTtcbiAgICAgICAgICAgIHdoZW4obW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZS5nZXRFUkMyME93bmVyQmFsYW5jZXNBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHF1b3RlU2VydmVyQ2xpZW50OiBpbnN0YW5jZShtb2NrUXVvdGVTZXJ2ZXJDbGllbnQpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlOiBpbnN0YW5jZShtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLmNoZWNrTGFzdExvb2tBc3luYyhqb2IsICcweHdvcmtlcmFkZHJlc3MnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ0ludmFsaWQgb3JkZXIgc2lnbmVyIGFkZHJlc3MnKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZGVlcC5lcXVhbChSZnFtSm9iU3RhdHVzLkZhaWxlZFNpZ25GYWlsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpdCgndXBkYXRlcyBtYXJrZXQgbWFrZXIgc2lnbmF0dXJlcyBtaXNzaW5nIGJ5dGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyKSxcbiAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgbWFrZXJTaWduYXR1cmU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKGZha2VGaXZlTWludXRlc0xhdGVyLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVySGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0VucXVldWVkLFxuICAgICAgICAgICAgICAgIHRha2VyU2lnbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgdjogMjcsXG4gICAgICAgICAgICAgICAgICAgIHI6ICcweDAxJyxcbiAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBfam9iID0gXy5jbG9uZURlZXAoam9iKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMuZmluZFYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0J5T3JkZXJIYXNoQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tRdW90ZVNlcnZlckNsaWVudCA9IG1vY2soUXVvdGVTZXJ2ZXJDbGllbnQpO1xuICAgICAgICAgICAgd2hlbihtb2NrUXVvdGVTZXJ2ZXJDbGllbnQuc2lnblYyQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKG1pc3NpbmdCeXRlU2lnKTtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuaXNWYWxpZE9yZGVyU2lnbmVyQXN5bmMoYW55dGhpbmcoKSwgYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE1pbk9mQmFsYW5jZXNBbmRBbGxvd2FuY2VzQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwMDAwMDAwMDApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JGaWxsVGFrZXJTaWduZWRPdGNPcmRlckFzeW5jKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXNvbHZlKDApO1xuICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICBtb2NrQmxvY2tjaGFpblV0aWxzLmdlbmVyYXRlVGFrZXJTaWduZWRPdGNPcmRlckNhbGxEYXRhKFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLnRoZW5SZXR1cm4oJzB4dmFsaWRjYWxsZGF0YScpO1xuICAgICAgICAgICAgY29uc3QgbW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZSA9IG1vY2soUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKTtcbiAgICAgICAgICAgIHdoZW4obW9ja1JmcU1ha2VyQmFsYW5jZUNhY2hlU2VydmljZS5nZXRFUkMyME93bmVyQmFsYW5jZXNBc3luYyhhbnl0aGluZygpLCBhbnl0aGluZygpKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTAwMDAwMDAwMCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgIHF1b3RlU2VydmVyQ2xpZW50OiBpbnN0YW5jZShtb2NrUXVvdGVTZXJ2ZXJDbGllbnQpLFxuICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgcmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlOiBpbnN0YW5jZShtb2NrUmZxTWFrZXJCYWxhbmNlQ2FjaGVTZXJ2aWNlKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5jaGVja0xhc3RMb29rQXN5bmMoam9iLCAnMHh3b3JrZXJhZGRyZXNzJywgdHJ1ZSk7XG4gICAgICAgICAgICBleHBlY3Qoam9iKS50by5kZWVwLmVxdWFsKHtcbiAgICAgICAgICAgICAgICAuLi5fam9iLFxuICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgIG1ha2VyU2lnbmF0dXJlOiBwYWRTaWduYXR1cmUobWlzc2luZ0J5dGVTaWcpLFxuICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nTGFzdExvb2tBY2NlcHRlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdzdWJtaXRUb0NoYWluQXN5bmMnLCAoKSA9PiB7XG4gICAgICAgIGRlc2NyaWJlKCdraW5kIGlzIGByZnFtX3YyX2pvYmAnLCAoKSA9PiB7XG4gICAgICAgICAgICBpdCgnc3VibWl0cyBhIHRyYW5zYWN0aW9uIHN1Y2Nlc3NmdWxseSB3aGVuIHRoZXJlIGlzIG5vIHByZXZpb3VzIHRyYW5zYWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vd1MgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gT05FX1NFQ09ORF9NUyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihub3dTICsgNjAwKSxcbiAgICAgICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihub3dTICsgNjAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcweG1ha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0xhc3RMb29rQWNjZXB0ZWQsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZXF1ZXN0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZXF1ZXN0ID0ge307XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uID0gbmV3IFJmcW1WMlRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvblJlY2VpcHQ6IHByb3ZpZGVycy5UcmFuc2FjdGlvblJlY2VpcHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMHh0bycsXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweGZyb20nLFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogMCxcbiAgICAgICAgICAgICAgICAgICAgZ2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMDApLFxuICAgICAgICAgICAgICAgICAgICBsb2dzQmxvb206ICcnLFxuICAgICAgICAgICAgICAgICAgICBibG9ja0hhc2g6ICcweGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgbG9nczogW10sXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICBjb25maXJtYXRpb25zOiAzLFxuICAgICAgICAgICAgICAgICAgICBjdW11bGF0aXZlR2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdGl2ZUdhc1ByaWNlOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgYnl6YW50aXVtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrTm9uY2UgPSAwO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2sgPSBtb2NrKEdhc1N0YXRpb25BdHRlbmRhbnRFdGhlcmV1bSk7XG4gICAgICAgICAgICAgICAgd2hlbihnYXNTdGF0aW9uQXR0ZW5kYW50TW9jay5nZXRFeHBlY3RlZFRyYW5zYWN0aW9uR2FzUmF0ZUFzeW5jKCkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwKS5zaGlmdGVkQnkoR1dFSV9ERUNJTUFMUyksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKFxuICAgICAgICAgICAgICAgICAgICAgICAgJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3M6IFJmcW1Kb2JFbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAoam9iQXJnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGVWMlJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25Ub0RiQ2FsbGVkQXJnczogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy53cml0ZVYyUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblRvRGJBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jICh0cmFuc2FjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVWMlJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25Ub0RiQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKHRyYW5zYWN0aW9uQXJnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAobW9ja1RyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbkJ5VHJhbnNhY3Rpb25IYXNoQXN5bmMoJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyksXG4gICAgICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShfLmNsb25lRGVlcChtb2NrVHJhbnNhY3Rpb24pKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3M6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlbXVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAodHJhbmFjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcCh0cmFuYWN0aW9uQXJnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Tm9uY2VBc3luYygnMHh3b3JrZXJhZGRyZXNzJykpLnRoZW5SZXNvbHZlKG1vY2tOb25jZSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKDEwMCk7XG4gICAgICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICAgICAgbW9ja0Jsb2NrY2hhaW5VdGlscy50cmFuc2Zvcm1UeERhdGFUb1RyYW5zYWN0aW9uUmVxdWVzdChhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSxcbiAgICAgICAgICAgICAgICApLnRoZW5SZXR1cm4obW9ja1RyYW5zYWN0aW9uUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLnNpZ25UcmFuc2FjdGlvbkFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZFRyYW5zYWN0aW9uOiAnc2lnbmVkVHJhbnNhY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEV4Y2hhbmdlUHJveHlBZGRyZXNzKCkpLnRoZW5SZXR1cm4oJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuc3VibWl0U2lnbmVkVHJhbnNhY3Rpb25Bc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0UmVjZWlwdHNBc3luYyhkZWVwRXF1YWwoWycweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCddKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICAgICAgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdCxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Q3VycmVudEJsb2NrQXN5bmMoKSkudGhlblJlc29sdmUoNCk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldERlY29kZWRSZnFPcmRlckZpbGxFdmVudExvZ0Zyb21Mb2dzKGFueXRoaW5nKCkpKS50aGVuUmV0dXJuKHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsb2dJbmRleDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tIYXNoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICcnLFxuICAgICAgICAgICAgICAgICAgICBibG9ja051bWJlcjogMCxcbiAgICAgICAgICAgICAgICAgICAgdG9waWNzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuRmlsbGVkQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEyMzQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvb2w6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuRmlsbGVkQW1vdW50OiBuZXcgQmlnTnVtYmVyKDUpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgICAgIGdhc1N0YXRpb25BdHRlbmRhbnQ6IGluc3RhbmNlKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrKSxcbiAgICAgICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gYXN5bmMgKFxuICAgICAgICAgICAgICAgICAgICBuZXdTdWJtaXNzaW9uQ29udGV4dFN0YXR1czogU3VibWlzc2lvbkNvbnRleHRTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIG9sZFN1Ym1pc3Npb25Db250ZXh0U3RhdHVzPzogU3VibWlzc2lvbkNvbnRleHRTdGF0dXMsXG4gICAgICAgICAgICAgICAgKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyAhPT0gb2xkU3VibWlzc2lvbkNvbnRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0pvYlN0YXR1cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3VibWlzc2lvbkNvbnRleHQudHJhZGVTdWJtaXNzaW9uQ29udGV4dFN0YXR1c1RvSm9iU3RhdHVzKG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvYi5zdGF0dXMgPSBuZXdKb2JTdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBtb2NrRGJVdGlscy51cGRhdGVSZnFtSm9iQXN5bmMoam9iKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2Uuc3VibWl0VG9DaGFpbkFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogam9iLmtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBjYWxsZGF0YTogJzB4Y2FsbGRhdGEnLFxuICAgICAgICAgICAgICAgICAgICBleHBpcnk6IGpvYi5leHBpcnksXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IGpvYi5vcmRlckhhc2gsXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25UeXBlOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSxcbiAgICAgICAgICAgICAgICAgICAgb25TdWJtaXNzaW9uQ29udGV4dFN0YXR1c1VwZGF0ZTogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmVyaWZ5KG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JBc3luYyhhbnl0aGluZygpKSk7XG4gICAgICAgICAgICAgICAgLy8gZXRoX2NyZWF0ZUFjY2Vzc0xpc3Qgc2hvdWxkIG5vdCBiZSBjYWxsZWQgd2hlbiBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIHZlcmlmeShtb2NrQmxvY2tjaGFpblV0aWxzLmNyZWF0ZUFjY2Vzc0xpc3RGb3JBc3luYyhhbnl0aGluZygpKSkubmV2ZXIoKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQpO1xuICAgICAgICAgICAgICAgIGV4cGVjdCh3cml0ZVYyUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblRvRGJDYWxsZWRBcmdzWzBdLnN0YXR1cykudG8uZXF1YWwoXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuUHJlc3VibWl0LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQ2FsbGVkQXJnc1swXVswXS5zdGF0dXMpLnRvLmVxdWFsKFxuICAgICAgICAgICAgICAgICAgICBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3NbMV1bMF0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcImlnbm9yZXMgYW4gZXhpc3RpbmcgUFJFU1VCTUlUIHRyYW5zYWN0aW9uIHdoaWNoIGlzbid0IGZvdW5kIGluIHRoZSBtZW1wb29sIG9yIG9uIGNoYWluXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3dTID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIE9ORV9TRUNPTkRfTVMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIobm93UyArIDYwMCksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIobm93UyArIDYwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnMHhtYWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHhtYWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweHRha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdMYXN0TG9va0FjY2VwdGVkLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1ByZXN1Ym1pdFRyYW5zYWN0aW9uID0gbmV3IFJmcW1WMlRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eSh7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoMTIzMyksXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuUHJlc3VibWl0LFxuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHByZXN1Ym1pdHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uUmVxdWVzdDogcHJvdmlkZXJzLlRyYW5zYWN0aW9uUmVxdWVzdCA9IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvbiA9IG5ldyBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMCksXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiAwLFxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZWNlaXB0ID0ge1xuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgbG9nc0Jsb29tOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tIYXNoOiAnMHhibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIGxvZ3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICBibG9ja051bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybWF0aW9uczogMyxcbiAgICAgICAgICAgICAgICAgICAgY3VtdWxhdGl2ZUdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVHYXNQcmljZTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIGJ5emFudGl1bTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogMixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAxLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja05vbmNlID0gMDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgICAgICAgICAgICAgIHdoZW4oZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2suZ2V0RXhwZWN0ZWRUcmFuc2FjdGlvbkdhc1JhdGVBc3luYygpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMCkuc2hpZnRlZEJ5KEdXRUlfREVDSU1BTFMpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICkudGhlblJlc29sdmUoW21vY2tQcmVzdWJtaXRUcmFuc2FjdGlvbl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBSZnFtSm9iRW50aXR5W10gPSBbXTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKGpvYkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKGpvYkFyZykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyaXRlVjJSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVG9EYkNhbGxlZEFyZ3M6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMud3JpdGVWMlJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25Ub0RiQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAodHJhbnNhY3Rpb25BcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlVjJSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVG9EYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcCh0cmFuc2FjdGlvbkFyZykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKG1vY2tUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25CeVRyYW5zYWN0aW9uSGFzaEFzeW5jKCcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcpLFxuICAgICAgICAgICAgICAgICkudGhlblJlc29sdmUoXy5jbG9uZURlZXAobW9ja1RyYW5zYWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzOiBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlbXVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAodHJhbmFjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcCh0cmFuYWN0aW9uQXJnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIG1vY2sgcmVzcG9uc2UgaW5kaWNhdGVzIHRoYXQgdGhlIHByZXN1Ym1pdCB0cmFuc2FjdGlvbiBjYW4ndCBiZSBmb3VuZFxuICAgICAgICAgICAgICAgIC8vIG9uIGNoYWluIG9yIGluIHRoZSBtZW1wb29sXG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldFRyYW5zYWN0aW9uQXN5bmMoJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJykpLnRoZW5SZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXROb25jZUFzeW5jKCcweHdvcmtlcmFkZHJlc3MnKSkudGhlblJlc29sdmUobW9ja05vbmNlKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JBc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoMTAwKTtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBtb2NrQmxvY2tjaGFpblV0aWxzLnRyYW5zZm9ybVR4RGF0YVRvVHJhbnNhY3Rpb25SZXF1ZXN0KGFueXRoaW5nKCksIGFueXRoaW5nKCksIGFueXRoaW5nKCkpLFxuICAgICAgICAgICAgICAgICkudGhlblJldHVybihtb2NrVHJhbnNhY3Rpb25SZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuc2lnblRyYW5zYWN0aW9uQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmVkVHJhbnNhY3Rpb246ICdzaWduZWRUcmFuc2FjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0RXhjaGFuZ2VQcm94eUFkZHJlc3MoKSkudGhlblJldHVybignMHhleGNoYW5nZXByb3h5YWRkcmVzcycpO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5zdWJtaXRTaWduZWRUcmFuc2FjdGlvbkFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICAgICAgJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRSZWNlaXB0c0FzeW5jKGRlZXBFcXVhbChbJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJ10pKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgICAgICBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRDdXJyZW50QmxvY2tBc3luYygpKS50aGVuUmVzb2x2ZSg0KTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0RGVjb2RlZFJmcU9yZGVyRmlsbEV2ZW50TG9nRnJvbUxvZ3MoYW55dGhpbmcoKSkpLnRoZW5SZXR1cm4oe1xuICAgICAgICAgICAgICAgICAgICBldmVudDogJycsXG4gICAgICAgICAgICAgICAgICAgIGxvZ0luZGV4OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkluZGV4OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcnLFxuICAgICAgICAgICAgICAgICAgICBibG9ja0hhc2g6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJycsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrTnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgICAgICB0b3BpY3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW5GaWxsZWRBbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTIzNCksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9vbDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW5GaWxsZWRBbW91bnQ6IG5ldyBCaWdOdW1iZXIoNSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICAgICAgZ2FzU3RhdGlvbkF0dGVuZGFudDogaW5zdGFuY2UoZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2spLFxuICAgICAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoXG4gICAgICAgICAgICAgICAgICAgIG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzOiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb2xkU3VibWlzc2lvbkNvbnRleHRTdGF0dXM/OiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzICE9PSBvbGRTdWJtaXNzaW9uQ29udGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Sm9iU3RhdHVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXNzaW9uQ29udGV4dC50cmFkZVN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVG9Kb2JTdGF0dXMobmV3U3VibWlzc2lvbkNvbnRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgam9iLnN0YXR1cyA9IG5ld0pvYlN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhqb2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5zdWJtaXRUb0NoYWluQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBqb2Iua2luZCxcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxkYXRhOiAnMHhjYWxsZGF0YScsXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyeTogam9iLmV4cGlyeSxcbiAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogam9iLm9yZGVySGFzaCxcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvblR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVXBkYXRlOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGV0aF9jcmVhdGVBY2Nlc3NMaXN0IHNob3VsZCBub3QgYmUgY2FsbGVkIHdoZW4gbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICB2ZXJpZnkobW9ja0Jsb2NrY2hhaW5VdGlscy5jcmVhdGVBY2Nlc3NMaXN0Rm9yQXN5bmMoYW55dGhpbmcoKSkpLm5ldmVyKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGpvYi5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuU3VjY2VlZGVkQ29uZmlybWVkKTtcbiAgICAgICAgICAgICAgICAvLyBFeHBlY3RhdGlvbnMgYXJlIHRoZSBzYW1lIGFzIGlmIHRoZSBwcmVzdWJtaXQgdHJhbnNhY3Rpb24gbmV2ZXIgZXhpc3RlZFxuICAgICAgICAgICAgICAgIGV4cGVjdCh3cml0ZVYyUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblRvRGJDYWxsZWRBcmdzWzBdLnN0YXR1cykudG8uZXF1YWwoXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuUHJlc3VibWl0LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQ2FsbGVkQXJnc1swXVswXS5zdGF0dXMpLnRvLmVxdWFsKFxuICAgICAgICAgICAgICAgICAgICBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3NbMV1bMF0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdChcIm1hcmtzIGEgUFJFU1VCTUlUIGpvYiBhcyBleHBpcmVkIHdoZW4gZXhpc3RpbmcgdHJhbnNhY3Rpb25zIGFyZW4ndCBmb3VuZCBpbiBcXFxuICAgICAgICAgICAgdGhlIG1lbXBvb2wgb3Igb24gY2hhaW4gYW5kIHRoZSBleHBpcmF0aW9uIHRpbWUgaGFzIHBhc3NlZFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm93UyA9IE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyBPTkVfU0VDT05EX01TKTtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKG5vd1MgLSA2MCksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIobm93UyAtIDYwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcweG1ha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0xhc3RMb29rQWNjZXB0ZWQsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrUHJlc3VibWl0VHJhbnNhY3Rpb24gPSBuZXcgUmZxbVYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5KHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgxMjMzKSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIG1heEZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDAwMDApLFxuICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDApLFxuICAgICAgICAgICAgICAgICAgICBub25jZTogMCxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5QcmVzdWJtaXQsXG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZXF1ZXN0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZXF1ZXN0ID0ge307XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uID0gbmV3IFJmcW1WMlRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvblJlY2VpcHQ6IHByb3ZpZGVycy5UcmFuc2FjdGlvblJlY2VpcHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogMCxcbiAgICAgICAgICAgICAgICAgICAgZ2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMDApLFxuICAgICAgICAgICAgICAgICAgICBsb2dzQmxvb206ICcnLFxuICAgICAgICAgICAgICAgICAgICBibG9ja0hhc2g6ICcweGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgbG9nczogW10sXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICBjb25maXJtYXRpb25zOiAzLFxuICAgICAgICAgICAgICAgICAgICBjdW11bGF0aXZlR2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdGl2ZUdhc1ByaWNlOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgYnl6YW50aXVtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrTm9uY2UgPSAwO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2sgPSBtb2NrKEdhc1N0YXRpb25BdHRlbmRhbnRFdGhlcmV1bSk7XG4gICAgICAgICAgICAgICAgd2hlbihnYXNTdGF0aW9uQXR0ZW5kYW50TW9jay5nZXRFeHBlY3RlZFRyYW5zYWN0aW9uR2FzUmF0ZUFzeW5jKCkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwKS5zaGlmdGVkQnkoR1dFSV9ERUNJTUFMUyksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKFxuICAgICAgICAgICAgICAgICAgICAgICAgJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbbW9ja1ByZXN1Ym1pdFRyYW5zYWN0aW9uXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3M6IFJmcW1Kb2JFbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAoam9iQXJnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGVWMlJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25Ub0RiQ2FsbGVkQXJnczogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy53cml0ZVYyUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblRvRGJBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jICh0cmFuc2FjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVWMlJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25Ub0RiQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKHRyYW5zYWN0aW9uQXJnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAobW9ja1RyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbkJ5VHJhbnNhY3Rpb25IYXNoQXN5bmMoJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyksXG4gICAgICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShfLmNsb25lRGVlcChtb2NrVHJhbnNhY3Rpb24pKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3M6IFJmcW1WMlRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eVtdW10gPSBbXTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKGFzeW5jICh0cmFuYWN0aW9uQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKHRyYW5hY3Rpb25BcmcpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrQmxvY2tjaGFpblV0aWxzID0gbW9jayhSZnFCbG9ja2NoYWluVXRpbHMpO1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgbW9jayByZXNwb25zZSBpbmRpY2F0ZXMgdGhhdCB0aGUgcHJlc3VibWl0IHRyYW5zYWN0aW9uIGNhbid0IGJlIGZvdW5kXG4gICAgICAgICAgICAgICAgLy8gb24gY2hhaW4gb3IgaW4gdGhlIG1lbXBvb2xcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0VHJhbnNhY3Rpb25Bc3luYygnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnKSkudGhlblJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE5vbmNlQXN5bmMoJzB4d29ya2VyYWRkcmVzcycpKS50aGVuUmVzb2x2ZShtb2NrTm9uY2UpO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5lc3RpbWF0ZUdhc0ZvckFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSgxMDApO1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMudHJhbnNmb3JtVHhEYXRhVG9UcmFuc2FjdGlvblJlcXVlc3QoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSksXG4gICAgICAgICAgICAgICAgKS50aGVuUmV0dXJuKG1vY2tUcmFuc2FjdGlvblJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5zaWduVHJhbnNhY3Rpb25Bc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBzaWduZWRUcmFuc2FjdGlvbjogJ3NpZ25lZFRyYW5zYWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRFeGNoYW5nZVByb3h5QWRkcmVzcygpKS50aGVuUmV0dXJuKCcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLnN1Ym1pdFNpZ25lZFRyYW5zYWN0aW9uQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldFJlY2VpcHRzQXN5bmMoZGVlcEVxdWFsKFsnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnXSkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgICAgIG1vY2tUcmFuc2FjdGlvblJlY2VpcHQsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEN1cnJlbnRCbG9ja0FzeW5jKCkpLnRoZW5SZXNvbHZlKDQpO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXREZWNvZGVkUmZxT3JkZXJGaWxsRXZlbnRMb2dGcm9tTG9ncyhhbnl0aGluZygpKSkudGhlblJldHVybih7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgbG9nSW5kZXg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSW5kZXg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tOdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvcGljczogW10sXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbkZpbGxlZEFtb3VudDogbmV3IEJpZ051bWJlcigxMjM0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb29sOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbkZpbGxlZEFtb3VudDogbmV3IEJpZ051bWJlcig1KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgICAgICBnYXNTdGF0aW9uQXR0ZW5kYW50OiBpbnN0YW5jZShnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayksXG4gICAgICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoXG4gICAgICAgICAgICAgICAgICAgIG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzOiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb2xkU3VibWlzc2lvbkNvbnRleHRTdGF0dXM/OiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzICE9PSBvbGRTdWJtaXNzaW9uQ29udGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Sm9iU3RhdHVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXNzaW9uQ29udGV4dC50cmFkZVN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVG9Kb2JTdGF0dXMobmV3U3VibWlzc2lvbkNvbnRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgam9iLnN0YXR1cyA9IG5ld0pvYlN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhqb2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnN1Ym1pdFRvQ2hhaW5Bc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBqb2Iua2luZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxkYXRhOiAnMHhjYWxsZGF0YScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnk6IGpvYi5leHBpcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBqb2Iub3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvblR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25TdWJtaXNzaW9uQ29udGV4dFN0YXR1c1VwZGF0ZTogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QuZmFpbCgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGUubWVzc2FnZSkudG8uY29udGFpbignRXhjZWVkIGV4cGlyeScpO1xuICAgICAgICAgICAgICAgICAgICAvLyBldGhfY3JlYXRlQWNjZXNzTGlzdCBzaG91bGQgbm90IGJlIGNhbGxlZCB3aGVuIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmeShtb2NrQmxvY2tjaGFpblV0aWxzLmNyZWF0ZUFjY2Vzc0xpc3RGb3JBc3luYyhhbnl0aGluZygpKSkubmV2ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGpvYi5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuRmFpbGVkRXhwaXJlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KCdyZWNvdmVycyBhIFBSRVNVQk1JVCB0cmFuc2FjdGlvbiB3aGljaCBhY3R1YWxseSBzdWJtaXR0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm93UyA9IE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyBPTkVfU0VDT05EX01TKTtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2IgPSBuZXcgUmZxbVYySm9iRW50aXR5KHtcbiAgICAgICAgICAgICAgICAgICAgYWZmaWxpYXRlQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBuZXcgQmlnTnVtYmVyKG5vd1MgKyA2MDApLFxuICAgICAgICAgICAgICAgICAgICBmZWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgbGFzdExvb2tSZXN1bHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1ha2VyVXJpOiAnaHR0cDovL2Zvby5iYXInLFxuICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5QW5kTm9uY2U6IE90Y09yZGVyLmVuY29kZUV4cGlyeUFuZE5vbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKG5vd1MgKyA2MDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlcjogJzB4bWFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyQW1vdW50OiAnMTAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJzB4bWFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcweHRha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFtb3VudDogJzEwMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuOiAnMHh0YWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eE9yaWdpbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5aW5nQ29udHJhY3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1PcmRlclR5cGVzLk90YyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnMHgwMTIzNDU2NycsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nTGFzdExvb2tBY2NlcHRlZCxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tQcmVzdWJtaXRUcmFuc2FjdGlvbiA9IG5ldyBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoe1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKDEyMzMpLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMCksXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiAwLFxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlByZXN1Ym1pdCxcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZWNlaXB0ID0ge1xuICAgICAgICAgICAgICAgICAgICBibG9ja0hhc2g6ICcweGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICBieXphbnRpdW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbnM6IDMsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBjdW11bGF0aXZlR2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdGl2ZUdhc1ByaWNlOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgbG9nczogW10sXG4gICAgICAgICAgICAgICAgICAgIGxvZ3NCbG9vbTogJycsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogMSxcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uUmVzcG9uc2U6IHByb3ZpZGVycy5UcmFuc2FjdGlvblJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgICAgICBjb25maXJtYXRpb25zOiAwLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIGdhc0xpbWl0OiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgaGFzaDogJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IDIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgwKSxcbiAgICAgICAgICAgICAgICAgICAgd2FpdDogKF9jb25maXJtYXRpb25zOiBudW1iZXIgfCB1bmRlZmluZWQpID0+IFByb21pc2UucmVzb2x2ZShtb2NrVHJhbnNhY3Rpb25SZWNlaXB0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tNaW5lZEJsb2NrOiBwcm92aWRlcnMuQmxvY2sgPSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWZmaWN1bHR5OiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgyKSxcbiAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eTogMixcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFEYXRhOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZ2FzTGltaXQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgICAgICBnYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgaGFzaDogJzB4YmxvY2toYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgbWluZXI6ICcweG1pbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6ICcweDAwMCcsXG4gICAgICAgICAgICAgICAgICAgIG51bWJlcjogMjEsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEhhc2g6ICcweHBhcmVudGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogMTIzNDUsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczogWycweHByZXN1Ym1pdHRyYW5zYWN0aW9uaGFzaCddLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja05vbmNlID0gMDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgICAgICAgICAgICAgIHdoZW4oZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2suZ2V0RXhwZWN0ZWRUcmFuc2FjdGlvbkdhc1JhdGVBc3luYygpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMCkuc2hpZnRlZEJ5KEdXRUlfREVDSU1BTFMpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICkudGhlblJlc29sdmUoW21vY2tQcmVzdWJtaXRUcmFuc2FjdGlvbl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQ2FsbGVkQXJnczogUmZxbVYyVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5W11bXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKHRyYW5hY3Rpb25BcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAodHJhbmFjdGlvbkFyZykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtb2NrIHJlc3BvbnNlIGluZGljYXRlcyB0aGF0IHRoZSB0cmFuc2FjdGlvbiBpcyBwcmVzZW50IGluIHRoZSBtZW1wb29sXG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldFRyYW5zYWN0aW9uQXN5bmMoJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJykpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICBtb2NrVHJhbnNhY3Rpb25SZXNwb25zZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXROb25jZUFzeW5jKCcweHdvcmtlcmFkZHJlc3MnKSkudGhlblJlc29sdmUobW9ja05vbmNlKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JBc3luYyhhbnl0aGluZygpKSkudGhlblJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yKCdlc3RpbWF0ZUdhc0ZvckFzeW5jIGNhbGxlZCBkdXJpbmcgcmVjb3ZlcnknKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRSZWNlaXB0c0FzeW5jKGRlZXBFcXVhbChbJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJ10pKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgICAgICBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRCbG9ja0FzeW5jKCcweGJsb2NraGFzaCcpKS50aGVuUmVzb2x2ZShtb2NrTWluZWRCbG9jayk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEN1cnJlbnRCbG9ja0FzeW5jKCkpLnRoZW5SZXNvbHZlKDQpO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXREZWNvZGVkUmZxT3JkZXJGaWxsRXZlbnRMb2dGcm9tTG9ncyhhbnl0aGluZygpKSkudGhlblJldHVybih7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgbG9nSW5kZXg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSW5kZXg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tOdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvcGljczogW10sXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbkZpbGxlZEFtb3VudDogbmV3IEJpZ051bWJlcigxMjM0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb29sOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbkZpbGxlZEFtb3VudDogbmV3IEJpZ051bWJlcig1KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgICAgICBnYXNTdGF0aW9uQXR0ZW5kYW50OiBpbnN0YW5jZShnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayksXG4gICAgICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoXG4gICAgICAgICAgICAgICAgICAgIG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzOiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb2xkU3VibWlzc2lvbkNvbnRleHRTdGF0dXM/OiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzICE9PSBvbGRTdWJtaXNzaW9uQ29udGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Sm9iU3RhdHVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXNzaW9uQ29udGV4dC50cmFkZVN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVG9Kb2JTdGF0dXMobmV3U3VibWlzc2lvbkNvbnRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgam9iLnN0YXR1cyA9IG5ld0pvYlN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhqb2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnN1Ym1pdFRvQ2hhaW5Bc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IGpvYi5raW5kLFxuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGRhdGE6ICcweGNhbGxkYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBqb2IuZXhwaXJ5LFxuICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBqb2Iub3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uVHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgIG9uU3VibWlzc2lvbkNvbnRleHRTdGF0dXNVcGRhdGU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gZXRoX2NyZWF0ZUFjY2Vzc0xpc3Qgc2hvdWxkIG5vdCBiZSBjYWxsZWQgd2hlbiBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIHZlcmlmeShtb2NrQmxvY2tjaGFpblV0aWxzLmNyZWF0ZUFjY2Vzc0xpc3RGb3JBc3luYyhhbnl0aGluZygpKSkubmV2ZXIoKTtcbiAgICAgICAgICAgICAgICAvLyBMb2dpYyBzaG91bGQgZmlyc3QgY2hlY2sgdG8gc2VlIGlmIHRoZSB0cmFuc2FjdGlvbiB3YXMgYWN0dWFsbHkgc2VudC5cbiAgICAgICAgICAgICAgICAvLyBJZiBpdCB3YXMgKGFuZCBpdCBpcyBiZWluZyBtb2NrIHNvIGluIHRoaXMgdGVzdCkgdGhlbiB0aGUgbG9naWMgZmlyc3RcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVzIHRoZSBzdGF0dXMgb2YgdGhlIHRyYW5zYWN0aW9uIHRvIFwiU3VibWl0dGVkXCJcbiAgICAgICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzWzBdWzBdLnN0YXR1cykudG8uZXF1YWwoXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGxvZ2ljIHRoZW4gZW50ZXJzIHRoZSB3YXRjaCBsb29wLiBPbiB0aGUgZmlyc3QgY2hlY2ssIGEgdHJhbnNhY3Rpb25cbiAgICAgICAgICAgICAgICAvLyByZWNlaXB0IGV4aXN0cyBmb3IgdGhpcyB0cmFuc2FjdGlvbiBhbmQgaXQgd2lsbCBiZSBtYXJrZWQgXCJjb25maXJtZWRcIlxuICAgICAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3NbMV1bMF0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoam9iLnN0YXR1cykudG8uZXF1YWwoUmZxbUpvYlN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KCdmaW5hbGl6ZXMgYSBqb2IgdG8gRkFJTEVEX0VYUElSRUQgb25jZSB0aGUgZXhwaXJhdGlvbiB3aW5kb3cgaGFzIHBhc3NlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3dTID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIE9ORV9TRUNPTkRfTVMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5pbmV0eVNlY29uZHNBZ28gPSBub3dTIC0gMTAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIobmluZXR5U2Vjb25kc0FnbyksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIobmluZXR5U2Vjb25kc0Fnby50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcweG1ha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ1N1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZXJBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvbiA9IG5ldyBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoe1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKDEyMzMpLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMCksXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiAwLFxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgICAgICAgICAgICAgIHdoZW4oZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2suZ2V0RXhwZWN0ZWRUcmFuc2FjdGlvbkdhc1JhdGVBc3luYygpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMCkuc2hpZnRlZEJ5KEdXRUlfREVDSU1BTFMpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICkudGhlblJlc29sdmUoW21vY2tUcmFuc2FjdGlvbl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKDEwMCk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldFJlY2VpcHRzQXN5bmMoZGVlcEVxdWFsKFsnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnXSkpKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICAgICAgZ2FzU3RhdGlvbkF0dGVuZGFudDogaW5zdGFuY2UoZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2spLFxuICAgICAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gYXN5bmMgKFxuICAgICAgICAgICAgICAgICAgICBuZXdTdWJtaXNzaW9uQ29udGV4dFN0YXR1czogU3VibWlzc2lvbkNvbnRleHRTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIG9sZFN1Ym1pc3Npb25Db250ZXh0U3RhdHVzPzogU3VibWlzc2lvbkNvbnRleHRTdGF0dXMsXG4gICAgICAgICAgICAgICAgKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyAhPT0gb2xkU3VibWlzc2lvbkNvbnRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0pvYlN0YXR1cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3VibWlzc2lvbkNvbnRleHQudHJhZGVTdWJtaXNzaW9uQ29udGV4dFN0YXR1c1RvSm9iU3RhdHVzKG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvYi5zdGF0dXMgPSBuZXdKb2JTdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBtb2NrRGJVdGlscy51cGRhdGVSZnFtSm9iQXN5bmMoam9iKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5zdWJtaXRUb0NoYWluQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogam9iLmtpbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZGF0YTogJzB4Y2FsbGRhdGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBqb2IuZXhwaXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogam9iLm9yZGVySGFzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25UeXBlOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU3VibWlzc2lvbkNvbnRleHRTdGF0dXNVcGRhdGU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvLmNvbnRhaW4oJ0V4Y2VlZCBleHBpcnknKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXRoX2NyZWF0ZUFjY2Vzc0xpc3Qgc2hvdWxkIG5vdCBiZSBjYWxsZWQgd2hlbiBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICB2ZXJpZnkobW9ja0Jsb2NrY2hhaW5VdGlscy5jcmVhdGVBY2Nlc3NMaXN0Rm9yQXN5bmMoYW55dGhpbmcoKSkpLm5ldmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChqb2Iuc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLkZhaWxlZEV4cGlyZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdCgnc2hvdWxkIGNhbGwgY3JlYXRlQWNjZXNzTGlzdEZvckFzeW5jIGFuZCBzaG91bGQgbm90IGFmZmVjdCB0aGUgb3ZlcmFsbCBtZXRob2Qgd2hlbiBSUEMgcmV0dXJucyBwcm9wZXJseScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3dTID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIE9ORV9TRUNPTkRfTVMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYiA9IG5ldyBSZnFtVjJKb2JFbnRpdHkoe1xuICAgICAgICAgICAgICAgICAgICBhZmZpbGlhdGVBZGRyZXNzOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBleHBpcnk6IG5ldyBCaWdOdW1iZXIobm93UyArIDYwMCksXG4gICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnRlZ3JhdG9ySWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TG9va1Jlc3VsdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWFrZXJVcmk6ICdodHRwOi8vZm9vLmJhcicsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcnlBbmROb25jZTogT3RjT3JkZXIuZW5jb2RlRXhwaXJ5QW5kTm9uY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIobm93UyArIDYwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnMHhtYWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJBbW91bnQ6ICcxMDAwMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuOiAnMHhtYWtlcnRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWtlcjogJzB4dGFrZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyQW1vdW50OiAnMTAwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcweHRha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4T3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbU9yZGVyVHlwZXMuT3RjLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBSZnFtSm9iU3RhdHVzLlBlbmRpbmdMYXN0TG9va0FjY2VwdGVkLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uUmVxdWVzdDogcHJvdmlkZXJzLlRyYW5zYWN0aW9uUmVxdWVzdCA9IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvbiA9IG5ldyBSZnFtVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMCksXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiAwLFxuICAgICAgICAgICAgICAgICAgICBvcmRlckhhc2g6ICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZWNlaXB0ID0ge1xuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgICAgIGdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgbG9nc0Jsb29tOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tIYXNoOiAnMHhibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIGxvZ3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICBibG9ja051bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybWF0aW9uczogMyxcbiAgICAgICAgICAgICAgICAgICAgY3VtdWxhdGl2ZUdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVHYXNQcmljZTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIGJ5emFudGl1bTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogMixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAxLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja05vbmNlID0gMDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrID0gbW9jayhHYXNTdGF0aW9uQXR0ZW5kYW50RXRoZXJldW0pO1xuICAgICAgICAgICAgICAgIHdoZW4oZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2suZ2V0RXhwZWN0ZWRUcmFuc2FjdGlvbkdhc1JhdGVBc3luYygpKS50aGVuUmVzb2x2ZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxMCkuc2hpZnRlZEJ5KEdXRUlfREVDSU1BTFMpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja0RiVXRpbHMgPSBtb2NrKFJmcW1EYlV0aWxzKTtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlPcmRlckhhc2hBc3luYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICcweDAxMjM0NTY3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICkudGhlblJlc29sdmUoW10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzOiBSZnFtSm9iRW50aXR5W10gPSBbXTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKGpvYkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZnFtSm9iQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKGpvYkFyZykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyaXRlVjJSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVG9EYkNhbGxlZEFyZ3M6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMud3JpdGVWMlJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25Ub0RiQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAodHJhbnNhY3Rpb25BcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlVjJSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVG9EYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcCh0cmFuc2FjdGlvbkFyZykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKG1vY2tUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kVjJUcmFuc2FjdGlvblN1Ym1pc3Npb25CeVRyYW5zYWN0aW9uSGFzaEFzeW5jKCcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcpLFxuICAgICAgICAgICAgICAgICkudGhlblJlc29sdmUoXy5jbG9uZURlZXAobW9ja1RyYW5zYWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzOiBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5W11bXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKHRyYW5hY3Rpb25BcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAodHJhbmFjdGlvbkFyZykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldE5vbmNlQXN5bmMoJzB4d29ya2VyYWRkcmVzcycpKS50aGVuUmVzb2x2ZShtb2NrTm9uY2UpO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5lc3RpbWF0ZUdhc0ZvckFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSgxMDApO1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1vY2tCbG9ja2NoYWluVXRpbHMudHJhbnNmb3JtVHhEYXRhVG9UcmFuc2FjdGlvblJlcXVlc3QoYW55dGhpbmcoKSwgYW55dGhpbmcoKSwgYW55dGhpbmcoKSksXG4gICAgICAgICAgICAgICAgKS50aGVuUmV0dXJuKG1vY2tUcmFuc2FjdGlvblJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5zaWduVHJhbnNhY3Rpb25Bc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBzaWduZWRUcmFuc2FjdGlvbjogJ3NpZ25lZFRyYW5zYWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRFeGNoYW5nZVByb3h5QWRkcmVzcygpKS50aGVuUmV0dXJuKCcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLnN1Ym1pdFNpZ25lZFRyYW5zYWN0aW9uQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldFJlY2VpcHRzQXN5bmMoZGVlcEVxdWFsKFsnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnXSkpKS50aGVuUmVzb2x2ZShbXG4gICAgICAgICAgICAgICAgICAgIG1vY2tUcmFuc2FjdGlvblJlY2VpcHQsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEN1cnJlbnRCbG9ja0FzeW5jKCkpLnRoZW5SZXNvbHZlKDQpO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXREZWNvZGVkUmZxT3JkZXJGaWxsRXZlbnRMb2dGcm9tTG9ncyhhbnl0aGluZygpKSkudGhlblJldHVybih7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgbG9nSW5kZXg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSW5kZXg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tOdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvcGljczogW10sXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbkZpbGxlZEFtb3VudDogbmV3IEJpZ051bWJlcigxMjM0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb29sOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyVG9rZW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbkZpbGxlZEFtb3VudDogbmV3IEJpZ051bWJlcig1KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuY3JlYXRlQWNjZXNzTGlzdEZvckFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIGFjY2Vzc0xpc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcweDEyMzQnOiBbJzB4MCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgJzB4MTIzNDUnOiBbJzB4MSddLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnYXNFc3RpbWF0ZTogMTAwMCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgICAgICBnYXNTdGF0aW9uQXR0ZW5kYW50OiBpbnN0YW5jZShnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayksXG4gICAgICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUFjY2Vzc0xpc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoXG4gICAgICAgICAgICAgICAgICAgIG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzOiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb2xkU3VibWlzc2lvbkNvbnRleHRTdGF0dXM/OiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzICE9PSBvbGRTdWJtaXNzaW9uQ29udGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Sm9iU3RhdHVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXNzaW9uQ29udGV4dC50cmFkZVN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVG9Kb2JTdGF0dXMobmV3U3VibWlzc2lvbkNvbnRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgam9iLnN0YXR1cyA9IG5ld0pvYlN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhqb2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnN1Ym1pdFRvQ2hhaW5Bc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IGpvYi5raW5kLFxuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGRhdGE6ICcweGNhbGxkYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBqb2IuZXhwaXJ5LFxuICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBqb2Iub3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uVHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgIG9uU3VibWlzc2lvbkNvbnRleHRTdGF0dXNVcGRhdGU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZlcmlmeShtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpO1xuICAgICAgICAgICAgICAgIHZlcmlmeShtb2NrQmxvY2tjaGFpblV0aWxzLmNyZWF0ZUFjY2Vzc0xpc3RGb3JBc3luYyhhbnl0aGluZygpKSkub25jZSgpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChqb2Iuc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHdyaXRlVjJSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVG9EYkNhbGxlZEFyZ3NbMF0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5QcmVzdWJtaXQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzWzBdWzBdLnN0YXR1cykudG8uZXF1YWwoXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQ2FsbGVkQXJnc1sxXVswXS5zdGF0dXMpLnRvLmVxdWFsKFxuICAgICAgICAgICAgICAgICAgICBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KCdzaG91bGQgY2FsbCBjcmVhdGVBY2Nlc3NMaXN0Rm9yQXN5bmMgYW5kIHNob3VsZCBub3QgYWZmZWN0IHRoZSBvdmVyYWxsIG1ldGhvZCB3aGVuIFJQQyBlcnJvcnMgb3V0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vd1MgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gT05FX1NFQ09ORF9NUyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iID0gbmV3IFJmcW1WMkpvYkVudGl0eSh7XG4gICAgICAgICAgICAgICAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6ICcnLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAxLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihub3dTICsgNjAwKSxcbiAgICAgICAgICAgICAgICAgICAgZmVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGludGVncmF0b3JJZDogJycsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RMb29rUmVzdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtYWtlclVyaTogJ2h0dHA6Ly9mb28uYmFyJyxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeUFuZE5vbmNlOiBPdGNPcmRlci5lbmNvZGVFeHBpcnlBbmROb25jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcihub3dTICsgNjAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJpZ051bWJlcigxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcweG1ha2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlckFtb3VudDogJzEwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VyVG9rZW46ICcweG1ha2VydG9rZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VyOiAnMHh0YWtlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJBbW91bnQ6ICcxMDAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJzB4dGFrZXJ0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHhPcmlnaW46ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBSZnFtT3JkZXJUeXBlcy5PdGMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFJmcW1Kb2JTdGF0dXMuUGVuZGluZ0xhc3RMb29rQWNjZXB0ZWQsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyQWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb25SZXF1ZXN0OiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZXF1ZXN0ID0ge307XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uID0gbmV3IFJmcW1WMlRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVySGFzaDogJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvblJlY2VpcHQ6IHByb3ZpZGVycy5UcmFuc2FjdGlvblJlY2VpcHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMHh0bycsXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweGZyb20nLFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogMCxcbiAgICAgICAgICAgICAgICAgICAgZ2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMDApLFxuICAgICAgICAgICAgICAgICAgICBsb2dzQmxvb206ICcnLFxuICAgICAgICAgICAgICAgICAgICBibG9ja0hhc2g6ICcweGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgbG9nczogW10sXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICBjb25maXJtYXRpb25zOiAzLFxuICAgICAgICAgICAgICAgICAgICBjdW11bGF0aXZlR2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdGl2ZUdhc1ByaWNlOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgYnl6YW50aXVtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrTm9uY2UgPSAwO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2sgPSBtb2NrKEdhc1N0YXRpb25BdHRlbmRhbnRFdGhlcmV1bSk7XG4gICAgICAgICAgICAgICAgd2hlbihnYXNTdGF0aW9uQXR0ZW5kYW50TW9jay5nZXRFeHBlY3RlZFRyYW5zYWN0aW9uR2FzUmF0ZUFzeW5jKCkpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgQmlnTnVtYmVyKDEwKS5zaGlmdGVkQnkoR1dFSV9ERUNJTUFMUyksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrRGJVdGlscyA9IG1vY2soUmZxbURiVXRpbHMpO1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeU9yZGVySGFzaEFzeW5jKFxuICAgICAgICAgICAgICAgICAgICAgICAgJzB4MDEyMzQ1NjcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3M6IFJmcW1Kb2JFbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAoam9iQXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJmcW1Kb2JDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAoam9iQXJnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGVWMlJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25Ub0RiQ2FsbGVkQXJnczogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy53cml0ZVYyUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblRvRGJBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jICh0cmFuc2FjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVWMlJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25Ub0RiQ2FsbGVkQXJncy5wdXNoKF8uY2xvbmVEZWVwKHRyYW5zYWN0aW9uQXJnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAobW9ja1RyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdoZW4oXG4gICAgICAgICAgICAgICAgICAgIG1vY2tEYlV0aWxzLmZpbmRWMlRyYW5zYWN0aW9uU3VibWlzc2lvbkJ5VHJhbnNhY3Rpb25IYXNoQXN5bmMoJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyksXG4gICAgICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShfLmNsb25lRGVlcChtb2NrVHJhbnNhY3Rpb24pKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3M6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlbXVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAodHJhbmFjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcCh0cmFuYWN0aW9uQXJnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Tm9uY2VBc3luYygnMHh3b3JrZXJhZGRyZXNzJykpLnRoZW5SZXNvbHZlKG1vY2tOb25jZSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKDEwMCk7XG4gICAgICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICAgICAgbW9ja0Jsb2NrY2hhaW5VdGlscy50cmFuc2Zvcm1UeERhdGFUb1RyYW5zYWN0aW9uUmVxdWVzdChhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSxcbiAgICAgICAgICAgICAgICApLnRoZW5SZXR1cm4obW9ja1RyYW5zYWN0aW9uUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLnNpZ25UcmFuc2FjdGlvbkFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZFRyYW5zYWN0aW9uOiAnc2lnbmVkVHJhbnNhY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEV4Y2hhbmdlUHJveHlBZGRyZXNzKCkpLnRoZW5SZXR1cm4oJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuc3VibWl0U2lnbmVkVHJhbnNhY3Rpb25Bc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0UmVjZWlwdHNBc3luYyhkZWVwRXF1YWwoWycweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCddKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICAgICAgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdCxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Q3VycmVudEJsb2NrQXN5bmMoKSkudGhlblJlc29sdmUoNCk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldERlY29kZWRSZnFPcmRlckZpbGxFdmVudExvZ0Zyb21Mb2dzKGFueXRoaW5nKCkpKS50aGVuUmV0dXJuKHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsb2dJbmRleDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tIYXNoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICcnLFxuICAgICAgICAgICAgICAgICAgICBibG9ja051bWJlcjogMCxcbiAgICAgICAgICAgICAgICAgICAgdG9waWNzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZXJUb2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlclRva2VuRmlsbGVkQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEyMzQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJIYXNoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvb2w6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXJUb2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclRva2VuRmlsbGVkQW1vdW50OiBuZXcgQmlnTnVtYmVyKDUpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5jcmVhdGVBY2Nlc3NMaXN0Rm9yQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZWplY3QobmV3IEVycm9yKCdlcnJvcicpKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZnFtU2VydmljZSA9IGJ1aWxkV29ya2VyU2VydmljZUZvclVuaXRUZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgZGJVdGlsczogaW5zdGFuY2UobW9ja0RiVXRpbHMpLFxuICAgICAgICAgICAgICAgICAgICBnYXNTdGF0aW9uQXR0ZW5kYW50OiBpbnN0YW5jZShnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayksXG4gICAgICAgICAgICAgICAgICAgIHJmcUJsb2NrY2hhaW5VdGlsczogaW5zdGFuY2UobW9ja0Jsb2NrY2hhaW5VdGlscyksXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUFjY2Vzc0xpc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoXG4gICAgICAgICAgICAgICAgICAgIG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzOiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb2xkU3VibWlzc2lvbkNvbnRleHRTdGF0dXM/OiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzICE9PSBvbGRTdWJtaXNzaW9uQ29udGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Sm9iU3RhdHVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXNzaW9uQ29udGV4dC50cmFkZVN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVG9Kb2JTdGF0dXMobmV3U3VibWlzc2lvbkNvbnRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgam9iLnN0YXR1cyA9IG5ld0pvYlN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhqb2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnN1Ym1pdFRvQ2hhaW5Bc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IGpvYi5raW5kLFxuICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGRhdGE6ICcweGNhbGxkYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJ5OiBqb2IuZXhwaXJ5LFxuICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBqb2Iub3JkZXJIYXNoLFxuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uVHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgIG9uU3VibWlzc2lvbkNvbnRleHRTdGF0dXNVcGRhdGU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZlcmlmeShtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpO1xuICAgICAgICAgICAgICAgIHZlcmlmeShtb2NrQmxvY2tjaGFpblV0aWxzLmNyZWF0ZUFjY2Vzc0xpc3RGb3JBc3luYyhhbnl0aGluZygpKSkub25jZSgpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChqb2Iuc3RhdHVzKS50by5lcXVhbChSZnFtSm9iU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHdyaXRlVjJSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVG9EYkNhbGxlZEFyZ3NbMF0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5QcmVzdWJtaXQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzWzBdWzBdLnN0YXR1cykudG8uZXF1YWwoXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQ2FsbGVkQXJnc1sxXVswXS5zdGF0dXMpLnRvLmVxdWFsKFxuICAgICAgICAgICAgICAgICAgICBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Y2NlZWRlZENvbmZpcm1lZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE5vdCBhbGwgdGVzdHMgZnJvbSB0ZXN0IGJsb2NrICdraW5kIGlzIGByZnFtX3YyX2pvYmAnIGlzIGluY2x1ZGVkIGhlcmUgYXMgbW9zdCBvZiB0aGUgdGVzdHMgYXJlIHNpbWlsaWFyLlxuICAgICAgICAvLyBUaGUgdGVzdHMgYmVsb3cgc3BlY2lmaWNhbGx5IHRlc3QgaWYgY29ycmVzcG9uZGluZyBtZXRob2RzIGFyZSBjYWxsZWQgZm9yIGpvYiBraW5kIGBtZXRhX3RyYW5zYWN0aW9uX2pvYmAuXG4gICAgICAgIGRlc2NyaWJlKCdraW5kIGlzIGBtZXRhX3RyYW5zYWN0aW9uX2pvYmAnLCAoKSA9PiB7XG4gICAgICAgICAgICBpdCgnc3VibWl0cyBhIHRyYW5zYWN0aW9uIHN1Y2Nlc3NmdWxseSB3aGVuIHRoZXJlIGlzIG5vIHByZXZpb3VzIHRyYW5zYWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vd1MgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gT05FX1NFQ09ORF9NUyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iSWQgPSAnam9iSWQnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uU3VibWlzc2lvbklkID0gJ3N1Ym1pc3Npb25JZCc7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihub3dTICsgNjAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogbmV3IEJpZ051bWJlcigwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuOiAnMHhpbnB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnMHhpbnRlZ3JhdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbjogTU9DS19NRVRBX1RSQU5TQUNUSU9OLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbk91dHB1dFRva2VuQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuOiAnMHhvdXRwdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nTGFzdExvb2tBY2NlcHRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uUmVxdWVzdDogcHJvdmlkZXJzLlRyYW5zYWN0aW9uUmVxdWVzdCA9IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvbiA9IGNyZWF0ZU1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSm9iSWQ6IGpvYklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uU3VibWlzc2lvbklkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdDogcHJvdmlkZXJzLlRyYW5zYWN0aW9uUmVjZWlwdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweHRvJyxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4ZnJvbScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICBnYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIGxvZ3NCbG9vbTogJycsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJzB4YmxvY2toYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICBsb2dzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbnM6IDMsXG4gICAgICAgICAgICAgICAgICAgIGN1bXVsYXRpdmVHYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0aXZlR2FzUHJpY2U6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgICAgICBieXphbnRpdW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IDIsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogMSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tOb25jZSA9IDA7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayA9IG1vY2soR2FzU3RhdGlvbkF0dGVuZGFudEV0aGVyZXVtKTtcbiAgICAgICAgICAgICAgICB3aGVuKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrLmdldEV4cGVjdGVkVHJhbnNhY3Rpb25HYXNSYXRlQXN5bmMoKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTApLnNoaWZ0ZWRCeShHV0VJX0RFQ0lNQUxTKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICAgICAgbW9ja0RiVXRpbHMuZmluZE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlKb2JJZEFzeW5jKGpvYklkLCBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSksXG4gICAgICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3M6IE1ldGFUcmFuc2FjdGlvbkpvYkVudGl0eVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtSm9iQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKGFzeW5jIChqb2JBcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcChqb2JBcmcpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZU1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25Bc3luY0NhbGxlZEFyZ3M6IE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMud3JpdGVNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKGFzeW5jICh0cmFuc2FjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZU1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25Bc3luY0NhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcCh0cmFuc2FjdGlvbkFyZykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAobW9ja1RyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeVRyYW5zYWN0aW9uSGFzaEFzeW5jKFxuICAgICAgICAgICAgICAgICAgICAgICAgJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICkudGhlblJlc29sdmUoW18uY2xvbmVEZWVwKG1vY2tUcmFuc2FjdGlvbildKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3M6IE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlbXVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAodHJhbmFjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcCh0cmFuYWN0aW9uQXJnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Tm9uY2VBc3luYygnMHh3b3JrZXJhZGRyZXNzJykpLnRoZW5SZXNvbHZlKG1vY2tOb25jZSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKDEwMCk7XG4gICAgICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICAgICAgbW9ja0Jsb2NrY2hhaW5VdGlscy50cmFuc2Zvcm1UeERhdGFUb1RyYW5zYWN0aW9uUmVxdWVzdChhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSxcbiAgICAgICAgICAgICAgICApLnRoZW5SZXR1cm4obW9ja1RyYW5zYWN0aW9uUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLnNpZ25UcmFuc2FjdGlvbkFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZFRyYW5zYWN0aW9uOiAnc2lnbmVkVHJhbnNhY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEV4Y2hhbmdlUHJveHlBZGRyZXNzKCkpLnRoZW5SZXR1cm4oJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuc3VibWl0U2lnbmVkVHJhbnNhY3Rpb25Bc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0UmVjZWlwdHNBc3luYyhkZWVwRXF1YWwoWycweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCddKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICAgICAgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdCxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Q3VycmVudEJsb2NrQXN5bmMoKSkudGhlblJlc29sdmUoNCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICAgICAgZ2FzU3RhdGlvbkF0dGVuZGFudDogaW5zdGFuY2UoZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2spLFxuICAgICAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoXG4gICAgICAgICAgICAgICAgICAgIG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzOiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb2xkU3VibWlzc2lvbkNvbnRleHRTdGF0dXM/OiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzICE9PSBvbGRTdWJtaXNzaW9uQ29udGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Sm9iU3RhdHVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXNzaW9uQ29udGV4dC50cmFkZVN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVG9Kb2JTdGF0dXMobmV3U3VibWlzc2lvbkNvbnRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgam9iLnN0YXR1cyA9IG5ld0pvYlN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhqb2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZnFtU2VydmljZS5zdWJtaXRUb0NoYWluQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBqb2Iua2luZCxcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxkYXRhOiAnMHhjYWxsZGF0YScsXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyeTogam9iLmV4cGlyeSxcbiAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogam9iLmlkLFxuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uVHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgIG9uU3VibWlzc2lvbkNvbnRleHRTdGF0dXNVcGRhdGU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZlcmlmeShtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpO1xuICAgICAgICAgICAgICAgIC8vIGV0aF9jcmVhdGVBY2Nlc3NMaXN0IHNob3VsZCBub3QgYmUgY2FsbGVkIHdoZW4gbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICB2ZXJpZnkobW9ja0Jsb2NrY2hhaW5VdGlscy5jcmVhdGVBY2Nlc3NMaXN0Rm9yQXN5bmMoYW55dGhpbmcoKSkpLm5ldmVyKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGpvYi5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuU3VjY2VlZGVkQ29uZmlybWVkKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qod3JpdGVNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uQXN5bmNDYWxsZWRBcmdzWzBdLnN0YXR1cykudG8uZXF1YWwoXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuUHJlc3VibWl0LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQ2FsbGVkQXJnc1swXVswXS5zdGF0dXMpLnRvLmVxdWFsKFxuICAgICAgICAgICAgICAgICAgICBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3NbMV1bMF0uc3RhdHVzKS50by5lcXVhbChcbiAgICAgICAgICAgICAgICAgICAgUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5TdWNjZWVkZWRDb25maXJtZWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdCgncmVjb3ZlcnMgYSBQUkVTVUJNSVQgdHJhbnNhY3Rpb24gd2hpY2ggYWN0dWFsbHkgc3VibWl0dGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vd1MgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gT05FX1NFQ09ORF9NUyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iSWQgPSAnam9iSWQnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uU3VibWlzc2lvbklkID0gJ3N1Ym1pc3Npb25JZCc7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihub3dTICsgNjAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogbmV3IEJpZ051bWJlcigwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuOiAnMHhpbnB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnMHhpbnRlZ3JhdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbjogTU9DS19NRVRBX1RSQU5TQUNUSU9OLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbk91dHB1dFRva2VuQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuOiAnMHhvdXRwdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nTGFzdExvb2tBY2NlcHRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1ByZXN1Ym1pdFRyYW5zYWN0aW9uID0gY3JlYXRlTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbkVudGl0eShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4d29ya2VyYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhVHJhbnNhY3Rpb25Kb2JJZDogam9iSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG5ldyBCaWdOdW1iZXIoMTAwMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBub25jZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblN0YXR1cy5QcmVzdWJtaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uU3VibWlzc2lvbklkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdDogcHJvdmlkZXJzLlRyYW5zYWN0aW9uUmVjZWlwdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tIYXNoOiAnMHhibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgICAgICBibG9ja051bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgYnl6YW50aXVtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maXJtYXRpb25zOiAzLFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcweGV4Y2hhbmdlcHJveHlhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgY3VtdWxhdGl2ZUdhc1VzZWQ6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVHYXNQcmljZTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBnYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIGxvZ3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICBsb2dzQmxvb206ICcnLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDEsXG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogMCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogMixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvblJlc3BvbnNlOiBwcm92aWRlcnMuVHJhbnNhY3Rpb25SZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybWF0aW9uczogMCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJycsXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBnYXNMaW1pdDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIGhhc2g6ICcweHByZXN1Ym1pdHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiAwLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMCksXG4gICAgICAgICAgICAgICAgICAgIHdhaXQ6IChfY29uZmlybWF0aW9uczogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiBQcm9taXNlLnJlc29sdmUobW9ja1RyYW5zYWN0aW9uUmVjZWlwdCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrTWluZWRCbG9jazogcHJvdmlkZXJzLkJsb2NrID0ge1xuICAgICAgICAgICAgICAgICAgICBfZGlmZmljdWx0eTogRXRoZXJzQmlnTnVtYmVyLmZyb20oMiksXG4gICAgICAgICAgICAgICAgICAgIGRpZmZpY3VsdHk6IDIsXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhRGF0YTogJycsXG4gICAgICAgICAgICAgICAgICAgIGdhc0xpbWl0OiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgZ2FzVXNlZDogRXRoZXJzQmlnTnVtYmVyLmZyb20oMTAwMCksXG4gICAgICAgICAgICAgICAgICAgIGhhc2g6ICcweGJsb2NraGFzaCcsXG4gICAgICAgICAgICAgICAgICAgIG1pbmVyOiAnMHhtaW5lcicsXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiAnMHgwMDAnLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXI6IDIxLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRIYXNoOiAnMHhwYXJlbnRibG9ja2hhc2gnLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IDEyMzQ1LFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnM6IFsnMHhwcmVzdWJtaXR0cmFuc2FjdGlvbmhhc2gnXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tOb25jZSA9IDA7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayA9IG1vY2soR2FzU3RhdGlvbkF0dGVuZGFudEV0aGVyZXVtKTtcbiAgICAgICAgICAgICAgICB3aGVuKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrLmdldEV4cGVjdGVkVHJhbnNhY3Rpb25HYXNSYXRlQXN5bmMoKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTApLnNoaWZ0ZWRCeShHV0VJX0RFQ0lNQUxTKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICAgICAgbW9ja0RiVXRpbHMuZmluZE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlKb2JJZEFzeW5jKGpvYklkLCBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSksXG4gICAgICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbbW9ja1ByZXN1Ym1pdFRyYW5zYWN0aW9uXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzOiBNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uRW50aXR5W11bXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMudXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNBc3luYyhhbnl0aGluZygpKSkudGhlbkNhbGwoYXN5bmMgKHRyYW5hY3Rpb25BcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzLnB1c2goXy5jbG9uZURlZXAodHJhbmFjdGlvbkFyZykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tCbG9ja2NoYWluVXRpbHMgPSBtb2NrKFJmcUJsb2NrY2hhaW5VdGlscyk7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtb2NrIHJlc3BvbnNlIGluZGljYXRlcyB0aGF0IHRoZSB0cmFuc2FjdGlvbiBpcyBwcmVzZW50IGluIHRoZSBtZW1wb29sXG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldFRyYW5zYWN0aW9uQXN5bmMoJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJykpLnRoZW5SZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICBtb2NrVHJhbnNhY3Rpb25SZXNwb25zZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXROb25jZUFzeW5jKCcweHdvcmtlcmFkZHJlc3MnKSkudGhlblJlc29sdmUobW9ja05vbmNlKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZXN0aW1hdGVHYXNGb3JBc3luYyhhbnl0aGluZygpKSkudGhlblJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yKCdlc3RpbWF0ZUdhc0ZvckFzeW5jIGNhbGxlZCBkdXJpbmcgcmVjb3ZlcnknKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRSZWNlaXB0c0FzeW5jKGRlZXBFcXVhbChbJzB4cHJlc3VibWl0dHJhbnNhY3Rpb25oYXNoJ10pKSkudGhlblJlc29sdmUoW1xuICAgICAgICAgICAgICAgICAgICBtb2NrVHJhbnNhY3Rpb25SZWNlaXB0LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0Jsb2NrY2hhaW5VdGlscy5nZXRCbG9ja0FzeW5jKCcweGJsb2NraGFzaCcpKS50aGVuUmVzb2x2ZShtb2NrTWluZWRCbG9jayk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEN1cnJlbnRCbG9ja0FzeW5jKCkpLnRoZW5SZXNvbHZlKDQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJmcW1TZXJ2aWNlID0gYnVpbGRXb3JrZXJTZXJ2aWNlRm9yVW5pdFRlc3Qoe1xuICAgICAgICAgICAgICAgICAgICBkYlV0aWxzOiBpbnN0YW5jZShtb2NrRGJVdGlscyksXG4gICAgICAgICAgICAgICAgICAgIGdhc1N0YXRpb25BdHRlbmRhbnQ6IGluc3RhbmNlKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrKSxcbiAgICAgICAgICAgICAgICAgICAgcmZxQmxvY2tjaGFpblV0aWxzOiBpbnN0YW5jZShtb2NrQmxvY2tjaGFpblV0aWxzKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGFzeW5jIChcbiAgICAgICAgICAgICAgICAgICAgbmV3U3VibWlzc2lvbkNvbnRleHRTdGF0dXM6IFN1Ym1pc3Npb25Db250ZXh0U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBvbGRTdWJtaXNzaW9uQ29udGV4dFN0YXR1cz86IFN1Ym1pc3Npb25Db250ZXh0U3RhdHVzLFxuICAgICAgICAgICAgICAgICk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U3VibWlzc2lvbkNvbnRleHRTdGF0dXMgIT09IG9sZFN1Ym1pc3Npb25Db250ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdKb2JTdGF0dXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1Ym1pc3Npb25Db250ZXh0LnRyYWRlU3VibWlzc2lvbkNvbnRleHRTdGF0dXNUb0pvYlN0YXR1cyhuZXdTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqb2Iuc3RhdHVzID0gbmV3Sm9iU3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9ja0RiVXRpbHMudXBkYXRlUmZxbUpvYkFzeW5jKGpvYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgcmZxbVNlcnZpY2Uuc3VibWl0VG9DaGFpbkFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogam9iLmtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICBjYWxsZGF0YTogJzB4Y2FsbGRhdGEnLFxuICAgICAgICAgICAgICAgICAgICBleHBpcnk6IGpvYi5leHBpcnksXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IGpvYi5pZCxcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvblR5cGU6IFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVXBkYXRlOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGV0aF9jcmVhdGVBY2Nlc3NMaXN0IHNob3VsZCBub3QgYmUgY2FsbGVkIHdoZW4gbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICB2ZXJpZnkobW9ja0Jsb2NrY2hhaW5VdGlscy5jcmVhdGVBY2Nlc3NMaXN0Rm9yQXN5bmMoYW55dGhpbmcoKSkpLm5ldmVyKCk7XG4gICAgICAgICAgICAgICAgLy8gTG9naWMgc2hvdWxkIGZpcnN0IGNoZWNrIHRvIHNlZSBpZiB0aGUgdHJhbnNhY3Rpb24gd2FzIGFjdHVhbGx5IHNlbnQuXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQgd2FzIChhbmQgaXQgaXMgYmVpbmcgbW9jayBzbyBpbiB0aGlzIHRlc3QpIHRoZW4gdGhlIGxvZ2ljIGZpcnN0XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlcyB0aGUgc3RhdHVzIG9mIHRoZSB0cmFuc2FjdGlvbiB0byBcIlN1Ym1pdHRlZFwiXG4gICAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25zQ2FsbGVkQXJnc1swXVswXS5zdGF0dXMpLnRvLmVxdWFsKFxuICAgICAgICAgICAgICAgICAgICBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uU3RhdHVzLlN1Ym1pdHRlZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBsb2dpYyB0aGVuIGVudGVycyB0aGUgd2F0Y2ggbG9vcC4gT24gdGhlIGZpcnN0IGNoZWNrLCBhIHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgICAgLy8gcmVjZWlwdCBleGlzdHMgZm9yIHRoaXMgdHJhbnNhY3Rpb24gYW5kIGl0IHdpbGwgYmUgbWFya2VkIFwiY29uZmlybWVkXCJcbiAgICAgICAgICAgICAgICBleHBlY3QodXBkYXRlUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvbnNDYWxsZWRBcmdzWzFdWzBdLnN0YXR1cykudG8uZXF1YWwoXG4gICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25TdGF0dXMuU3VjY2VlZGVkQ29uZmlybWVkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGpvYi5zdGF0dXMpLnRvLmVxdWFsKFJmcW1Kb2JTdGF0dXMuU3VjY2VlZGVkQ29uZmlybWVkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdCgndGhyb3dzIGV4Y2VwdGlvbiBpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIDEgdHJhbnNhY3Rpb24gc3VibWlzc2lvbnMgd2l0aCB0aGUgc2FtZSB0cmFuc2FjdGlvbiBoYXNoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vd1MgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gT05FX1NFQ09ORF9NUyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iSWQgPSAnam9iSWQnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uU3VibWlzc2lvbklkID0gJ3N1Ym1pc3Npb25JZCc7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iID0gY3JlYXRlTWVhVHJzYW5jdGlvbkpvYkVudGl0eShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyeTogbmV3IEJpZ051bWJlcihub3dTICsgNjAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogbmV3IEJpZ051bWJlcigwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuOiAnMHhpbnB1dFRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5BbW91bnQ6IG5ldyBCaWdOdW1iZXIoMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRvcklkOiAnMHhpbnRlZ3JhdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFUcmFuc2FjdGlvbjogTU9DS19NRVRBX1RSQU5TQUNUSU9OLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSGFzaDogTU9DS19NRVRBX1RSQU5TQUNUSU9OLmdldEhhc2goKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbk91dHB1dFRva2VuQW1vdW50OiBuZXcgQmlnTnVtYmVyKDEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuOiAnMHhvdXRwdXRUb2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlckFkZHJlc3M6ICcweHRha2VyQWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlclNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZVR5cGU6IFNpZ25hdHVyZVR5cGUuRXRoU2lnbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OiAyNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiAnMHgwMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczogJzB4MDInLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogUmZxbUpvYlN0YXR1cy5QZW5kaW5nTGFzdExvb2tBY2NlcHRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlckFkZHJlc3M6ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uUmVxdWVzdDogcHJvdmlkZXJzLlRyYW5zYWN0aW9uUmVxdWVzdCA9IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvbiA9IGNyZWF0ZU1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHkoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206ICcweHdvcmtlcmFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YVRyYW5zYWN0aW9uSm9iSWQ6IGpvYklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBuZXcgQmlnTnVtYmVyKDEwMDAwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogbmV3IEJpZ051bWJlcigxMDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uY2U6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uU3VibWlzc2lvbklkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdDogcHJvdmlkZXJzLlRyYW5zYWN0aW9uUmVjZWlwdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG86ICcweHRvJyxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJzB4ZnJvbScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICBnYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwMCksXG4gICAgICAgICAgICAgICAgICAgIGxvZ3NCbG9vbTogJycsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrSGFzaDogJzB4YmxvY2toYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiAnMHhzaWduZWR0cmFuc2FjdGlvbmhhc2gnLFxuICAgICAgICAgICAgICAgICAgICBsb2dzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbnM6IDMsXG4gICAgICAgICAgICAgICAgICAgIGN1bXVsYXRpdmVHYXNVc2VkOiBFdGhlcnNCaWdOdW1iZXIuZnJvbSgxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0aXZlR2FzUHJpY2U6IEV0aGVyc0JpZ051bWJlci5mcm9tKDEwMDApLFxuICAgICAgICAgICAgICAgICAgICBieXphbnRpdW06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IDIsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogMSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tOb25jZSA9IDA7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBnYXNTdGF0aW9uQXR0ZW5kYW50TW9jayA9IG1vY2soR2FzU3RhdGlvbkF0dGVuZGFudEV0aGVyZXVtKTtcbiAgICAgICAgICAgICAgICB3aGVuKGdhc1N0YXRpb25BdHRlbmRhbnRNb2NrLmdldEV4cGVjdGVkVHJhbnNhY3Rpb25HYXNSYXRlQXN5bmMoKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCaWdOdW1iZXIoMTApLnNoaWZ0ZWRCeShHV0VJX0RFQ0lNQUxTKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tEYlV0aWxzID0gbW9jayhSZnFtRGJVdGlscyk7XG4gICAgICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICAgICAgbW9ja0RiVXRpbHMuZmluZE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25zQnlKb2JJZEFzeW5jKGpvYklkLCBSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uVHlwZS5UcmFkZSksXG4gICAgICAgICAgICAgICAgKS50aGVuUmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3M6IE1ldGFUcmFuc2FjdGlvbkpvYkVudGl0eVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtSm9iQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKGFzeW5jIChqb2JBcmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmZxbUpvYkNhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcChqb2JBcmcpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZU1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25Bc3luY0NhbGxlZEFyZ3M6IE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoZW4obW9ja0RiVXRpbHMud3JpdGVNZXRhVHJhbnNhY3Rpb25TdWJtaXNzaW9uQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5DYWxsKGFzeW5jICh0cmFuc2FjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZU1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25Bc3luY0NhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcCh0cmFuc2FjdGlvbkFyZykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAobW9ja1RyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBtb2NrRGJVdGlscy5maW5kTWV0YVRyYW5zYWN0aW9uU3VibWlzc2lvbnNCeVRyYW5zYWN0aW9uSGFzaEFzeW5jKFxuICAgICAgICAgICAgICAgICAgICAgICAgJzB4c2lnbmVkdHJhbnNhY3Rpb25oYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJmcW1UcmFuc2FjdGlvblN1Ym1pc3Npb25UeXBlLlRyYWRlLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICkudGhlblJlc29sdmUoW18uY2xvbmVEZWVwKG1vY2tUcmFuc2FjdGlvbiksIF8uY2xvbmVEZWVwKG1vY2tUcmFuc2FjdGlvbildKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3M6IE1ldGFUcmFuc2FjdGlvblN1Ym1pc3Npb25FbnRpdHlbXVtdID0gW107XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrRGJVdGlscy51cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0FzeW5jKGFueXRoaW5nKCkpKS50aGVuQ2FsbChhc3luYyAodHJhbmFjdGlvbkFyZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZnFtVHJhbnNhY3Rpb25TdWJtaXNzaW9uc0NhbGxlZEFyZ3MucHVzaChfLmNsb25lRGVlcCh0cmFuYWN0aW9uQXJnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9ja0Jsb2NrY2hhaW5VdGlscyA9IG1vY2soUmZxQmxvY2tjaGFpblV0aWxzKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Tm9uY2VBc3luYygnMHh3b3JrZXJhZGRyZXNzJykpLnRoZW5SZXNvbHZlKG1vY2tOb25jZSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmVzdGltYXRlR2FzRm9yQXN5bmMoYW55dGhpbmcoKSkpLnRoZW5SZXNvbHZlKDEwMCk7XG4gICAgICAgICAgICAgICAgd2hlbihcbiAgICAgICAgICAgICAgICAgICAgbW9ja0Jsb2NrY2hhaW5VdGlscy50cmFuc2Zvcm1UeERhdGFUb1RyYW5zYWN0aW9uUmVxdWVzdChhbnl0aGluZygpLCBhbnl0aGluZygpLCBhbnl0aGluZygpKSxcbiAgICAgICAgICAgICAgICApLnRoZW5SZXR1cm4obW9ja1RyYW5zYWN0aW9uUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLnNpZ25UcmFuc2FjdGlvbkFzeW5jKGFueXRoaW5nKCkpKS50aGVuUmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZFRyYW5zYWN0aW9uOiAnc2lnbmVkVHJhbnNhY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6ICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgd2hlbihtb2NrQmxvY2tjaGFpblV0aWxzLmdldEV4Y2hhbmdlUHJveHlBZGRyZXNzKCkpLnRoZW5SZXR1cm4oJzB4ZXhjaGFuZ2Vwcm94eWFkZHJlc3MnKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuc3VibWl0U2lnbmVkVHJhbnNhY3Rpb25Bc3luYyhhbnl0aGluZygpKSkudGhlblJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgICcweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCcsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0UmVjZWlwdHNBc3luYyhkZWVwRXF1YWwoWycweHNpZ25lZHRyYW5zYWN0aW9uaGFzaCddKSkpLnRoZW5SZXNvbHZlKFtcbiAgICAgICAgICAgICAgICAgICAgbW9ja1RyYW5zYWN0aW9uUmVjZWlwdCxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB3aGVuKG1vY2tCbG9ja2NoYWluVXRpbHMuZ2V0Q3VycmVudEJsb2NrQXN5bmMoKSkudGhlblJlc29sdmUoNCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmZxbVNlcnZpY2UgPSBidWlsZFdvcmtlclNlcnZpY2VGb3JVbml0VGVzdCh7XG4gICAgICAgICAgICAgICAgICAgIGRiVXRpbHM6IGluc3RhbmNlKG1vY2tEYlV0aWxzKSxcbiAgICAgICAgICAgICAgICAgICAgZ2FzU3RhdGlvbkF0dGVuZGFudDogaW5zdGFuY2UoZ2FzU3RhdGlvbkF0dGVuZGFudE1vY2spLFxuICAgICAgICAgICAgICAgICAgICByZnFCbG9ja2NoYWluVXRpbHM6IGluc3RhbmNlKG1vY2tCbG9ja2NoYWluVXRpbHMpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoXG4gICAgICAgICAgICAgICAgICAgIG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzOiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb2xkU3VibWlzc2lvbkNvbnRleHRTdGF0dXM/OiBTdWJtaXNzaW9uQ29udGV4dFN0YXR1cyxcbiAgICAgICAgICAgICAgICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1N1Ym1pc3Npb25Db250ZXh0U3RhdHVzICE9PSBvbGRTdWJtaXNzaW9uQ29udGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Sm9iU3RhdHVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJtaXNzaW9uQ29udGV4dC50cmFkZVN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVG9Kb2JTdGF0dXMobmV3U3VibWlzc2lvbkNvbnRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgam9iLnN0YXR1cyA9IG5ld0pvYlN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vY2tEYlV0aWxzLnVwZGF0ZVJmcW1Kb2JBc3luYyhqb2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJmcW1TZXJ2aWNlLnN1Ym1pdFRvQ2hhaW5Bc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBqb2Iua2luZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAnMHhleGNoYW5nZXByb3h5YWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAnMHh3b3JrZXJhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxkYXRhOiAnMHhjYWxsZGF0YScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcnk6IGpvYi5leHBpcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBqb2IuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uVHlwZTogUmZxbVRyYW5zYWN0aW9uU3VibWlzc2lvblR5cGUuVHJhZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Ym1pc3Npb25Db250ZXh0U3RhdHVzVXBkYXRlOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdC5mYWlsKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QoZS5tZXNzYWdlKS50by5jb250YWluKCdUcmFuc2FjdGlvbiBoYXNoIGhhdmUgYmVlbiBzdWJtaXR0ZWQgbm90IGV4YWN0bHkgb25jZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9