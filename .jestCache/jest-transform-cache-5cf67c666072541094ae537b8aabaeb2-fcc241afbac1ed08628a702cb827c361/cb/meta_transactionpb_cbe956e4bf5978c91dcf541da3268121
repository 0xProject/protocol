d0330e55260c31efb94d1cd08c92cfb9
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GetQuoteResponseJSON = exports.GetQuoteRequestJSON = exports.MetaTransactionJSON = exports.QuoteJSON = exports.LiquiditySourceJSON = exports.GetQuoteResponse = exports.GetQuoteRequest = exports.MetaTransaction = exports.Quote = exports.LiquiditySource = exports.createMetaTransactionService = exports.GetQuoteJSON = exports.GetQuote = exports.MIN_SUPPORTED_VERSION_0_0_56 = void 0;
const protoscript_1 = require("protoscript");
const twirpscript_1 = require("twirpscript");
// This is the minimum version supported by the current runtime.
// If this line fails typechecking, breaking changes have been introduced and this
// file needs to be regenerated by running `npx twirpscript`.
var twirpscript_2 = require("twirpscript");
Object.defineProperty(exports, "MIN_SUPPORTED_VERSION_0_0_56", { enumerable: true, get: function () { return twirpscript_2.MIN_SUPPORTED_VERSION_0_0_56; } });
const big_number_js_pb_1 = require("./big_number_js.pb");
//========================================//
// MetaTransactionService Protobuf Client //
//========================================//
async function GetQuote(getQuoteRequest, config) {
    const response = await (0, twirpscript_1.PBrequest)("/MetaTransactionService/GetQuote", exports.GetQuoteRequest.encode(getQuoteRequest), config);
    return exports.GetQuoteResponse.decode(response);
}
exports.GetQuote = GetQuote;
//========================================//
//   MetaTransactionService JSON Client   //
//========================================//
async function GetQuoteJSON(getQuoteRequest, config) {
    const response = await (0, twirpscript_1.JSONrequest)("/MetaTransactionService/GetQuote", exports.GetQuoteRequestJSON.encode(getQuoteRequest), config);
    return exports.GetQuoteResponseJSON.decode(response);
}
exports.GetQuoteJSON = GetQuoteJSON;
function createMetaTransactionService(service) {
    return {
        name: "MetaTransactionService",
        methods: {
            GetQuote: {
                name: "GetQuote",
                handler: service.GetQuote,
                input: { protobuf: exports.GetQuoteRequest, json: exports.GetQuoteRequestJSON },
                output: { protobuf: exports.GetQuoteResponse, json: exports.GetQuoteResponseJSON },
            },
        },
    };
}
exports.createMetaTransactionService = createMetaTransactionService;
//========================================//
//        Protobuf Encode / Decode        //
//========================================//
exports.LiquiditySource = {
    /**
     * Serializes LiquiditySource to protobuf.
     */
    encode: function (msg) {
        return exports.LiquiditySource._writeMessage(msg, new protoscript_1.BinaryWriter()).getResultBuffer();
    },
    /**
     * Deserializes LiquiditySource from protobuf.
     */
    decode: function (bytes) {
        return exports.LiquiditySource._readMessage(exports.LiquiditySource.initialize(), new protoscript_1.BinaryReader(bytes));
    },
    /**
     * Initializes LiquiditySource with all fields set to their default value.
     */
    initialize: function () {
        return {
            name: "",
            proportion: big_number_js_pb_1.BigNumberJs.initialize(),
            intermediateToken: undefined,
            hops: [],
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg, writer) {
        var _a;
        if (msg.name) {
            writer.writeString(1, msg.name);
        }
        if (msg.proportion) {
            writer.writeMessage(2, msg.proportion, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.intermediateToken != undefined) {
            writer.writeString(3, msg.intermediateToken);
        }
        if ((_a = msg.hops) === null || _a === void 0 ? void 0 : _a.length) {
            writer.writeRepeatedString(4, msg.hops);
        }
        return writer;
    },
    /**
     * @private
     */
    _readMessage: function (msg, reader) {
        while (reader.nextField()) {
            const field = reader.getFieldNumber();
            switch (field) {
                case 1: {
                    msg.name = reader.readString();
                    break;
                }
                case 2: {
                    reader.readMessage(msg.proportion, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 3: {
                    msg.intermediateToken = reader.readString();
                    break;
                }
                case 4: {
                    msg.hops.push(reader.readString());
                    break;
                }
                default: {
                    reader.skipField();
                    break;
                }
            }
        }
        return msg;
    },
};
exports.Quote = {
    /**
     * Serializes Quote to protobuf.
     */
    encode: function (msg) {
        return exports.Quote._writeMessage(msg, new protoscript_1.BinaryWriter()).getResultBuffer();
    },
    /**
     * Deserializes Quote from protobuf.
     */
    decode: function (bytes) {
        return exports.Quote._readMessage(exports.Quote.initialize(), new protoscript_1.BinaryReader(bytes));
    },
    /**
     * Initializes Quote with all fields set to their default value.
     */
    initialize: function () {
        return {
            sellTokenAddress: "",
            sellAmount: big_number_js_pb_1.BigNumberJs.initialize(),
            buyTokenAddress: "",
            buyAmount: big_number_js_pb_1.BigNumberJs.initialize(),
            price: big_number_js_pb_1.BigNumberJs.initialize(),
            estimatedPriceImpact: undefined,
            sellTokenToNativeTokenRate: big_number_js_pb_1.BigNumberJs.initialize(),
            buyTokenToNativeTokenRate: big_number_js_pb_1.BigNumberJs.initialize(),
            chainId: 0,
            gas: big_number_js_pb_1.BigNumberJs.initialize(),
            estimatedGas: big_number_js_pb_1.BigNumberJs.initialize(),
            gasPrice: big_number_js_pb_1.BigNumberJs.initialize(),
            value: big_number_js_pb_1.BigNumberJs.initialize(),
            protocolFee: big_number_js_pb_1.BigNumberJs.initialize(),
            minimumProtocolFee: big_number_js_pb_1.BigNumberJs.initialize(),
            allowanceTarget: "",
            liquiditySources: [],
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg, writer) {
        var _a;
        if (msg.sellTokenAddress) {
            writer.writeString(1, msg.sellTokenAddress);
        }
        if (msg.sellAmount) {
            writer.writeMessage(2, msg.sellAmount, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.buyTokenAddress) {
            writer.writeString(3, msg.buyTokenAddress);
        }
        if (msg.buyAmount) {
            writer.writeMessage(4, msg.buyAmount, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.price) {
            writer.writeMessage(5, msg.price, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.estimatedPriceImpact != undefined) {
            writer.writeMessage(6, msg.estimatedPriceImpact, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.sellTokenToNativeTokenRate) {
            writer.writeMessage(7, msg.sellTokenToNativeTokenRate, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.buyTokenToNativeTokenRate) {
            writer.writeMessage(8, msg.buyTokenToNativeTokenRate, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.chainId) {
            writer.writeInt32(9, msg.chainId);
        }
        if (msg.gas) {
            writer.writeMessage(10, msg.gas, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.estimatedGas) {
            writer.writeMessage(11, msg.estimatedGas, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.gasPrice) {
            writer.writeMessage(12, msg.gasPrice, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.value) {
            writer.writeMessage(13, msg.value, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.protocolFee) {
            writer.writeMessage(14, msg.protocolFee, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.minimumProtocolFee) {
            writer.writeMessage(15, msg.minimumProtocolFee, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.allowanceTarget) {
            writer.writeString(16, msg.allowanceTarget);
        }
        if ((_a = msg.liquiditySources) === null || _a === void 0 ? void 0 : _a.length) {
            writer.writeRepeatedMessage(17, msg.liquiditySources, exports.LiquiditySource._writeMessage);
        }
        return writer;
    },
    /**
     * @private
     */
    _readMessage: function (msg, reader) {
        while (reader.nextField()) {
            const field = reader.getFieldNumber();
            switch (field) {
                case 1: {
                    msg.sellTokenAddress = reader.readString();
                    break;
                }
                case 2: {
                    reader.readMessage(msg.sellAmount, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 3: {
                    msg.buyTokenAddress = reader.readString();
                    break;
                }
                case 4: {
                    reader.readMessage(msg.buyAmount, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 5: {
                    reader.readMessage(msg.price, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 6: {
                    msg.estimatedPriceImpact = big_number_js_pb_1.BigNumberJs.initialize();
                    reader.readMessage(msg.estimatedPriceImpact, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 7: {
                    reader.readMessage(msg.sellTokenToNativeTokenRate, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 8: {
                    reader.readMessage(msg.buyTokenToNativeTokenRate, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 9: {
                    msg.chainId = reader.readInt32();
                    break;
                }
                case 10: {
                    reader.readMessage(msg.gas, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 11: {
                    reader.readMessage(msg.estimatedGas, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 12: {
                    reader.readMessage(msg.gasPrice, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 13: {
                    reader.readMessage(msg.value, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 14: {
                    reader.readMessage(msg.protocolFee, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 15: {
                    reader.readMessage(msg.minimumProtocolFee, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 16: {
                    msg.allowanceTarget = reader.readString();
                    break;
                }
                case 17: {
                    const m = exports.LiquiditySource.initialize();
                    reader.readMessage(m, exports.LiquiditySource._readMessage);
                    msg.liquiditySources.push(m);
                    break;
                }
                default: {
                    reader.skipField();
                    break;
                }
            }
        }
        return msg;
    },
};
exports.MetaTransaction = {
    /**
     * Serializes MetaTransaction to protobuf.
     */
    encode: function (msg) {
        return exports.MetaTransaction._writeMessage(msg, new protoscript_1.BinaryWriter()).getResultBuffer();
    },
    /**
     * Deserializes MetaTransaction from protobuf.
     */
    decode: function (bytes) {
        return exports.MetaTransaction._readMessage(exports.MetaTransaction.initialize(), new protoscript_1.BinaryReader(bytes));
    },
    /**
     * Initializes MetaTransaction with all fields set to their default value.
     */
    initialize: function () {
        return {
            signerAddress: "",
            senderAddress: "",
            minGasPrice: big_number_js_pb_1.BigNumberJs.initialize(),
            maxGasPrice: big_number_js_pb_1.BigNumberJs.initialize(),
            expirationTimeSeconds: big_number_js_pb_1.BigNumberJs.initialize(),
            salt: big_number_js_pb_1.BigNumberJs.initialize(),
            callData: "",
            value: big_number_js_pb_1.BigNumberJs.initialize(),
            feeTokenAddress: "",
            feeAmount: big_number_js_pb_1.BigNumberJs.initialize(),
            chainId: 0,
            verifyingContract: "",
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg, writer) {
        if (msg.signerAddress) {
            writer.writeString(1, msg.signerAddress);
        }
        if (msg.senderAddress) {
            writer.writeString(2, msg.senderAddress);
        }
        if (msg.minGasPrice) {
            writer.writeMessage(3, msg.minGasPrice, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.maxGasPrice) {
            writer.writeMessage(4, msg.maxGasPrice, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.expirationTimeSeconds) {
            writer.writeMessage(5, msg.expirationTimeSeconds, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.salt) {
            writer.writeMessage(6, msg.salt, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.callData) {
            writer.writeString(7, msg.callData);
        }
        if (msg.value) {
            writer.writeMessage(8, msg.value, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.feeTokenAddress) {
            writer.writeString(9, msg.feeTokenAddress);
        }
        if (msg.feeAmount) {
            writer.writeMessage(10, msg.feeAmount, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.chainId) {
            writer.writeInt32(11, msg.chainId);
        }
        if (msg.verifyingContract) {
            writer.writeString(12, msg.verifyingContract);
        }
        return writer;
    },
    /**
     * @private
     */
    _readMessage: function (msg, reader) {
        while (reader.nextField()) {
            const field = reader.getFieldNumber();
            switch (field) {
                case 1: {
                    msg.signerAddress = reader.readString();
                    break;
                }
                case 2: {
                    msg.senderAddress = reader.readString();
                    break;
                }
                case 3: {
                    reader.readMessage(msg.minGasPrice, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 4: {
                    reader.readMessage(msg.maxGasPrice, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 5: {
                    reader.readMessage(msg.expirationTimeSeconds, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 6: {
                    reader.readMessage(msg.salt, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 7: {
                    msg.callData = reader.readString();
                    break;
                }
                case 8: {
                    reader.readMessage(msg.value, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 9: {
                    msg.feeTokenAddress = reader.readString();
                    break;
                }
                case 10: {
                    reader.readMessage(msg.feeAmount, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 11: {
                    msg.chainId = reader.readInt32();
                    break;
                }
                case 12: {
                    msg.verifyingContract = reader.readString();
                    break;
                }
                default: {
                    reader.skipField();
                    break;
                }
            }
        }
        return msg;
    },
};
exports.GetQuoteRequest = {
    /**
     * Serializes GetQuoteRequest to protobuf.
     */
    encode: function (msg) {
        return exports.GetQuoteRequest._writeMessage(msg, new protoscript_1.BinaryWriter()).getResultBuffer();
    },
    /**
     * Deserializes GetQuoteRequest from protobuf.
     */
    decode: function (bytes) {
        return exports.GetQuoteRequest._readMessage(exports.GetQuoteRequest.initialize(), new protoscript_1.BinaryReader(bytes));
    },
    /**
     * Initializes GetQuoteRequest with all fields set to their default value.
     */
    initialize: function () {
        return {
            sellTokenAddress: "",
            buyTokenAddress: "",
            sellAmount: undefined,
            buyAmount: undefined,
            chainId: 0,
            takerAddress: "",
            integratorId: "",
            affiliateAddress: undefined,
            slippagePercentage: undefined,
            quoteUniqueId: undefined,
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg, writer) {
        if (msg.sellTokenAddress) {
            writer.writeString(1, msg.sellTokenAddress);
        }
        if (msg.buyTokenAddress) {
            writer.writeString(2, msg.buyTokenAddress);
        }
        if (msg.sellAmount != undefined) {
            writer.writeMessage(3, msg.sellAmount, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.buyAmount != undefined) {
            writer.writeMessage(4, msg.buyAmount, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.chainId) {
            writer.writeInt32(5, msg.chainId);
        }
        if (msg.takerAddress) {
            writer.writeString(6, msg.takerAddress);
        }
        if (msg.integratorId) {
            writer.writeString(7, msg.integratorId);
        }
        if (msg.affiliateAddress != undefined) {
            writer.writeString(8, msg.affiliateAddress);
        }
        if (msg.slippagePercentage != undefined) {
            writer.writeMessage(9, msg.slippagePercentage, big_number_js_pb_1.BigNumberJs._writeMessage);
        }
        if (msg.quoteUniqueId != undefined) {
            writer.writeString(10, msg.quoteUniqueId);
        }
        return writer;
    },
    /**
     * @private
     */
    _readMessage: function (msg, reader) {
        while (reader.nextField()) {
            const field = reader.getFieldNumber();
            switch (field) {
                case 1: {
                    msg.sellTokenAddress = reader.readString();
                    break;
                }
                case 2: {
                    msg.buyTokenAddress = reader.readString();
                    break;
                }
                case 3: {
                    msg.sellAmount = big_number_js_pb_1.BigNumberJs.initialize();
                    reader.readMessage(msg.sellAmount, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 4: {
                    msg.buyAmount = big_number_js_pb_1.BigNumberJs.initialize();
                    reader.readMessage(msg.buyAmount, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 5: {
                    msg.chainId = reader.readInt32();
                    break;
                }
                case 6: {
                    msg.takerAddress = reader.readString();
                    break;
                }
                case 7: {
                    msg.integratorId = reader.readString();
                    break;
                }
                case 8: {
                    msg.affiliateAddress = reader.readString();
                    break;
                }
                case 9: {
                    msg.slippagePercentage = big_number_js_pb_1.BigNumberJs.initialize();
                    reader.readMessage(msg.slippagePercentage, big_number_js_pb_1.BigNumberJs._readMessage);
                    break;
                }
                case 10: {
                    msg.quoteUniqueId = reader.readString();
                    break;
                }
                default: {
                    reader.skipField();
                    break;
                }
            }
        }
        return msg;
    },
};
exports.GetQuoteResponse = {
    /**
     * Serializes GetQuoteResponse to protobuf.
     */
    encode: function (msg) {
        return exports.GetQuoteResponse._writeMessage(msg, new protoscript_1.BinaryWriter()).getResultBuffer();
    },
    /**
     * Deserializes GetQuoteResponse from protobuf.
     */
    decode: function (bytes) {
        return exports.GetQuoteResponse._readMessage(exports.GetQuoteResponse.initialize(), new protoscript_1.BinaryReader(bytes));
    },
    /**
     * Initializes GetQuoteResponse with all fields set to their default value.
     */
    initialize: function () {
        return {
            quote: exports.Quote.initialize(),
            metaTransaction: exports.MetaTransaction.initialize(),
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg, writer) {
        if (msg.quote) {
            writer.writeMessage(1, msg.quote, exports.Quote._writeMessage);
        }
        if (msg.metaTransaction) {
            writer.writeMessage(2, msg.metaTransaction, exports.MetaTransaction._writeMessage);
        }
        return writer;
    },
    /**
     * @private
     */
    _readMessage: function (msg, reader) {
        while (reader.nextField()) {
            const field = reader.getFieldNumber();
            switch (field) {
                case 1: {
                    reader.readMessage(msg.quote, exports.Quote._readMessage);
                    break;
                }
                case 2: {
                    reader.readMessage(msg.metaTransaction, exports.MetaTransaction._readMessage);
                    break;
                }
                default: {
                    reader.skipField();
                    break;
                }
            }
        }
        return msg;
    },
};
//========================================//
//          JSON Encode / Decode          //
//========================================//
exports.LiquiditySourceJSON = {
    /**
     * Serializes LiquiditySource to JSON.
     */
    encode: function (msg) {
        return JSON.stringify(exports.LiquiditySourceJSON._writeMessage(msg));
    },
    /**
     * Deserializes LiquiditySource from JSON.
     */
    decode: function (json) {
        return exports.LiquiditySourceJSON._readMessage(exports.LiquiditySourceJSON.initialize(), JSON.parse(json));
    },
    /**
     * Initializes LiquiditySource with all fields set to their default value.
     */
    initialize: function () {
        return {
            name: "",
            proportion: big_number_js_pb_1.BigNumberJs.initialize(),
            intermediateToken: undefined,
            hops: [],
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg) {
        var _a;
        const json = {};
        if (msg.name) {
            json["name"] = msg.name;
        }
        if (msg.proportion) {
            const proportion = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.proportion);
            if (Object.keys(proportion).length > 0) {
                json["proportion"] = proportion;
            }
        }
        if (msg.intermediateToken != undefined) {
            json["intermediateToken"] = msg.intermediateToken;
        }
        if ((_a = msg.hops) === null || _a === void 0 ? void 0 : _a.length) {
            json["hops"] = msg.hops;
        }
        return json;
    },
    /**
     * @private
     */
    _readMessage: function (msg, json) {
        var _a;
        const _name = json["name"];
        if (_name) {
            msg.name = _name;
        }
        const _proportion = json["proportion"];
        if (_proportion) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _proportion);
            msg.proportion = m;
        }
        const _intermediateToken = (_a = json["intermediateToken"]) !== null && _a !== void 0 ? _a : json["intermediate_token"];
        if (_intermediateToken) {
            msg.intermediateToken = _intermediateToken;
        }
        const _hops = json["hops"];
        if (_hops) {
            msg.hops = _hops;
        }
        return msg;
    },
};
exports.QuoteJSON = {
    /**
     * Serializes Quote to JSON.
     */
    encode: function (msg) {
        return JSON.stringify(exports.QuoteJSON._writeMessage(msg));
    },
    /**
     * Deserializes Quote from JSON.
     */
    decode: function (json) {
        return exports.QuoteJSON._readMessage(exports.QuoteJSON.initialize(), JSON.parse(json));
    },
    /**
     * Initializes Quote with all fields set to their default value.
     */
    initialize: function () {
        return {
            sellTokenAddress: "",
            sellAmount: big_number_js_pb_1.BigNumberJs.initialize(),
            buyTokenAddress: "",
            buyAmount: big_number_js_pb_1.BigNumberJs.initialize(),
            price: big_number_js_pb_1.BigNumberJs.initialize(),
            estimatedPriceImpact: undefined,
            sellTokenToNativeTokenRate: big_number_js_pb_1.BigNumberJs.initialize(),
            buyTokenToNativeTokenRate: big_number_js_pb_1.BigNumberJs.initialize(),
            chainId: 0,
            gas: big_number_js_pb_1.BigNumberJs.initialize(),
            estimatedGas: big_number_js_pb_1.BigNumberJs.initialize(),
            gasPrice: big_number_js_pb_1.BigNumberJs.initialize(),
            value: big_number_js_pb_1.BigNumberJs.initialize(),
            protocolFee: big_number_js_pb_1.BigNumberJs.initialize(),
            minimumProtocolFee: big_number_js_pb_1.BigNumberJs.initialize(),
            allowanceTarget: "",
            liquiditySources: [],
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg) {
        var _a;
        const json = {};
        if (msg.sellTokenAddress) {
            json["sellTokenAddress"] = msg.sellTokenAddress;
        }
        if (msg.sellAmount) {
            const sellAmount = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.sellAmount);
            if (Object.keys(sellAmount).length > 0) {
                json["sellAmount"] = sellAmount;
            }
        }
        if (msg.buyTokenAddress) {
            json["buyTokenAddress"] = msg.buyTokenAddress;
        }
        if (msg.buyAmount) {
            const buyAmount = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.buyAmount);
            if (Object.keys(buyAmount).length > 0) {
                json["buyAmount"] = buyAmount;
            }
        }
        if (msg.price) {
            const price = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.price);
            if (Object.keys(price).length > 0) {
                json["price"] = price;
            }
        }
        if (msg.estimatedPriceImpact != undefined) {
            const estimatedPriceImpact = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.estimatedPriceImpact);
            json["estimatedPriceImpact"] = estimatedPriceImpact;
        }
        if (msg.sellTokenToNativeTokenRate) {
            const sellTokenToNativeTokenRate = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.sellTokenToNativeTokenRate);
            if (Object.keys(sellTokenToNativeTokenRate).length > 0) {
                json["sellTokenToNativeTokenRate"] = sellTokenToNativeTokenRate;
            }
        }
        if (msg.buyTokenToNativeTokenRate) {
            const buyTokenToNativeTokenRate = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.buyTokenToNativeTokenRate);
            if (Object.keys(buyTokenToNativeTokenRate).length > 0) {
                json["buyTokenToNativeTokenRate"] = buyTokenToNativeTokenRate;
            }
        }
        if (msg.chainId) {
            json["chainId"] = msg.chainId;
        }
        if (msg.gas) {
            const gas = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.gas);
            if (Object.keys(gas).length > 0) {
                json["gas"] = gas;
            }
        }
        if (msg.estimatedGas) {
            const estimatedGas = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.estimatedGas);
            if (Object.keys(estimatedGas).length > 0) {
                json["estimatedGas"] = estimatedGas;
            }
        }
        if (msg.gasPrice) {
            const gasPrice = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.gasPrice);
            if (Object.keys(gasPrice).length > 0) {
                json["gasPrice"] = gasPrice;
            }
        }
        if (msg.value) {
            const value = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.value);
            if (Object.keys(value).length > 0) {
                json["value"] = value;
            }
        }
        if (msg.protocolFee) {
            const protocolFee = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.protocolFee);
            if (Object.keys(protocolFee).length > 0) {
                json["protocolFee"] = protocolFee;
            }
        }
        if (msg.minimumProtocolFee) {
            const minimumProtocolFee = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.minimumProtocolFee);
            if (Object.keys(minimumProtocolFee).length > 0) {
                json["minimumProtocolFee"] = minimumProtocolFee;
            }
        }
        if (msg.allowanceTarget) {
            json["allowanceTarget"] = msg.allowanceTarget;
        }
        if ((_a = msg.liquiditySources) === null || _a === void 0 ? void 0 : _a.length) {
            json["liquiditySources"] = msg.liquiditySources.map(exports.LiquiditySourceJSON._writeMessage);
        }
        return json;
    },
    /**
     * @private
     */
    _readMessage: function (msg, json) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;
        const _sellTokenAddress = (_a = json["sellTokenAddress"]) !== null && _a !== void 0 ? _a : json["sell_token_address"];
        if (_sellTokenAddress) {
            msg.sellTokenAddress = _sellTokenAddress;
        }
        const _sellAmount = (_b = json["sellAmount"]) !== null && _b !== void 0 ? _b : json["sell_amount"];
        if (_sellAmount) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _sellAmount);
            msg.sellAmount = m;
        }
        const _buyTokenAddress = (_c = json["buyTokenAddress"]) !== null && _c !== void 0 ? _c : json["buy_token_address"];
        if (_buyTokenAddress) {
            msg.buyTokenAddress = _buyTokenAddress;
        }
        const _buyAmount = (_d = json["buyAmount"]) !== null && _d !== void 0 ? _d : json["buy_amount"];
        if (_buyAmount) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _buyAmount);
            msg.buyAmount = m;
        }
        const _price = json["price"];
        if (_price) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _price);
            msg.price = m;
        }
        const _estimatedPriceImpact = (_e = json["estimatedPriceImpact"]) !== null && _e !== void 0 ? _e : json["estimated_price_impact"];
        if (_estimatedPriceImpact) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _estimatedPriceImpact);
            msg.estimatedPriceImpact = m;
        }
        const _sellTokenToNativeTokenRate = (_f = json["sellTokenToNativeTokenRate"]) !== null && _f !== void 0 ? _f : json["sell_token_to_native_token_rate"];
        if (_sellTokenToNativeTokenRate) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _sellTokenToNativeTokenRate);
            msg.sellTokenToNativeTokenRate = m;
        }
        const _buyTokenToNativeTokenRate = (_g = json["buyTokenToNativeTokenRate"]) !== null && _g !== void 0 ? _g : json["buy_token_to_native_token_rate"];
        if (_buyTokenToNativeTokenRate) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _buyTokenToNativeTokenRate);
            msg.buyTokenToNativeTokenRate = m;
        }
        const _chainId = (_h = json["chainId"]) !== null && _h !== void 0 ? _h : json["chain_id"];
        if (_chainId) {
            msg.chainId = _chainId;
        }
        const _gas = json["gas"];
        if (_gas) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _gas);
            msg.gas = m;
        }
        const _estimatedGas = (_j = json["estimatedGas"]) !== null && _j !== void 0 ? _j : json["estimated_gas"];
        if (_estimatedGas) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _estimatedGas);
            msg.estimatedGas = m;
        }
        const _gasPrice = (_k = json["gasPrice"]) !== null && _k !== void 0 ? _k : json["gas_price"];
        if (_gasPrice) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _gasPrice);
            msg.gasPrice = m;
        }
        const _value = json["value"];
        if (_value) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _value);
            msg.value = m;
        }
        const _protocolFee = (_l = json["protocolFee"]) !== null && _l !== void 0 ? _l : json["protocol_fee"];
        if (_protocolFee) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _protocolFee);
            msg.protocolFee = m;
        }
        const _minimumProtocolFee = (_m = json["minimumProtocolFee"]) !== null && _m !== void 0 ? _m : json["minimum_protocol_fee"];
        if (_minimumProtocolFee) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _minimumProtocolFee);
            msg.minimumProtocolFee = m;
        }
        const _allowanceTarget = (_o = json["allowanceTarget"]) !== null && _o !== void 0 ? _o : json["allowance_target"];
        if (_allowanceTarget) {
            msg.allowanceTarget = _allowanceTarget;
        }
        const _liquiditySources = (_p = json["liquiditySources"]) !== null && _p !== void 0 ? _p : json["liquidity_sources"];
        if (_liquiditySources) {
            for (const item of _liquiditySources) {
                const m = exports.LiquiditySource.initialize();
                exports.LiquiditySourceJSON._readMessage(m, item);
                msg.liquiditySources.push(m);
            }
        }
        return msg;
    },
};
exports.MetaTransactionJSON = {
    /**
     * Serializes MetaTransaction to JSON.
     */
    encode: function (msg) {
        return JSON.stringify(exports.MetaTransactionJSON._writeMessage(msg));
    },
    /**
     * Deserializes MetaTransaction from JSON.
     */
    decode: function (json) {
        return exports.MetaTransactionJSON._readMessage(exports.MetaTransactionJSON.initialize(), JSON.parse(json));
    },
    /**
     * Initializes MetaTransaction with all fields set to their default value.
     */
    initialize: function () {
        return {
            signerAddress: "",
            senderAddress: "",
            minGasPrice: big_number_js_pb_1.BigNumberJs.initialize(),
            maxGasPrice: big_number_js_pb_1.BigNumberJs.initialize(),
            expirationTimeSeconds: big_number_js_pb_1.BigNumberJs.initialize(),
            salt: big_number_js_pb_1.BigNumberJs.initialize(),
            callData: "",
            value: big_number_js_pb_1.BigNumberJs.initialize(),
            feeTokenAddress: "",
            feeAmount: big_number_js_pb_1.BigNumberJs.initialize(),
            chainId: 0,
            verifyingContract: "",
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg) {
        const json = {};
        if (msg.signerAddress) {
            json["signerAddress"] = msg.signerAddress;
        }
        if (msg.senderAddress) {
            json["senderAddress"] = msg.senderAddress;
        }
        if (msg.minGasPrice) {
            const minGasPrice = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.minGasPrice);
            if (Object.keys(minGasPrice).length > 0) {
                json["minGasPrice"] = minGasPrice;
            }
        }
        if (msg.maxGasPrice) {
            const maxGasPrice = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.maxGasPrice);
            if (Object.keys(maxGasPrice).length > 0) {
                json["maxGasPrice"] = maxGasPrice;
            }
        }
        if (msg.expirationTimeSeconds) {
            const expirationTimeSeconds = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.expirationTimeSeconds);
            if (Object.keys(expirationTimeSeconds).length > 0) {
                json["expirationTimeSeconds"] = expirationTimeSeconds;
            }
        }
        if (msg.salt) {
            const salt = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.salt);
            if (Object.keys(salt).length > 0) {
                json["salt"] = salt;
            }
        }
        if (msg.callData) {
            json["callData"] = msg.callData;
        }
        if (msg.value) {
            const value = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.value);
            if (Object.keys(value).length > 0) {
                json["value"] = value;
            }
        }
        if (msg.feeTokenAddress) {
            json["feeTokenAddress"] = msg.feeTokenAddress;
        }
        if (msg.feeAmount) {
            const feeAmount = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.feeAmount);
            if (Object.keys(feeAmount).length > 0) {
                json["feeAmount"] = feeAmount;
            }
        }
        if (msg.chainId) {
            json["chainId"] = msg.chainId;
        }
        if (msg.verifyingContract) {
            json["verifyingContract"] = msg.verifyingContract;
        }
        return json;
    },
    /**
     * @private
     */
    _readMessage: function (msg, json) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
        const _signerAddress = (_a = json["signerAddress"]) !== null && _a !== void 0 ? _a : json["signer_address"];
        if (_signerAddress) {
            msg.signerAddress = _signerAddress;
        }
        const _senderAddress = (_b = json["senderAddress"]) !== null && _b !== void 0 ? _b : json["sender_address"];
        if (_senderAddress) {
            msg.senderAddress = _senderAddress;
        }
        const _minGasPrice = (_c = json["minGasPrice"]) !== null && _c !== void 0 ? _c : json["min_gas_price"];
        if (_minGasPrice) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _minGasPrice);
            msg.minGasPrice = m;
        }
        const _maxGasPrice = (_d = json["maxGasPrice"]) !== null && _d !== void 0 ? _d : json["max_gas_price"];
        if (_maxGasPrice) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _maxGasPrice);
            msg.maxGasPrice = m;
        }
        const _expirationTimeSeconds = (_e = json["expirationTimeSeconds"]) !== null && _e !== void 0 ? _e : json["expiration_time_seconds"];
        if (_expirationTimeSeconds) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _expirationTimeSeconds);
            msg.expirationTimeSeconds = m;
        }
        const _salt = json["salt"];
        if (_salt) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _salt);
            msg.salt = m;
        }
        const _callData = (_f = json["callData"]) !== null && _f !== void 0 ? _f : json["call_data"];
        if (_callData) {
            msg.callData = _callData;
        }
        const _value = json["value"];
        if (_value) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _value);
            msg.value = m;
        }
        const _feeTokenAddress = (_g = json["feeTokenAddress"]) !== null && _g !== void 0 ? _g : json["fee_token_address"];
        if (_feeTokenAddress) {
            msg.feeTokenAddress = _feeTokenAddress;
        }
        const _feeAmount = (_h = json["feeAmount"]) !== null && _h !== void 0 ? _h : json["fee_amount"];
        if (_feeAmount) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _feeAmount);
            msg.feeAmount = m;
        }
        const _chainId = (_j = json["chainId"]) !== null && _j !== void 0 ? _j : json["chain_id"];
        if (_chainId) {
            msg.chainId = _chainId;
        }
        const _verifyingContract = (_k = json["verifyingContract"]) !== null && _k !== void 0 ? _k : json["verifying_contract"];
        if (_verifyingContract) {
            msg.verifyingContract = _verifyingContract;
        }
        return msg;
    },
};
exports.GetQuoteRequestJSON = {
    /**
     * Serializes GetQuoteRequest to JSON.
     */
    encode: function (msg) {
        return JSON.stringify(exports.GetQuoteRequestJSON._writeMessage(msg));
    },
    /**
     * Deserializes GetQuoteRequest from JSON.
     */
    decode: function (json) {
        return exports.GetQuoteRequestJSON._readMessage(exports.GetQuoteRequestJSON.initialize(), JSON.parse(json));
    },
    /**
     * Initializes GetQuoteRequest with all fields set to their default value.
     */
    initialize: function () {
        return {
            sellTokenAddress: "",
            buyTokenAddress: "",
            sellAmount: undefined,
            buyAmount: undefined,
            chainId: 0,
            takerAddress: "",
            integratorId: "",
            affiliateAddress: undefined,
            slippagePercentage: undefined,
            quoteUniqueId: undefined,
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg) {
        const json = {};
        if (msg.sellTokenAddress) {
            json["sellTokenAddress"] = msg.sellTokenAddress;
        }
        if (msg.buyTokenAddress) {
            json["buyTokenAddress"] = msg.buyTokenAddress;
        }
        if (msg.sellAmount != undefined) {
            const sellAmount = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.sellAmount);
            json["sellAmount"] = sellAmount;
        }
        if (msg.buyAmount != undefined) {
            const buyAmount = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.buyAmount);
            json["buyAmount"] = buyAmount;
        }
        if (msg.chainId) {
            json["chainId"] = msg.chainId;
        }
        if (msg.takerAddress) {
            json["takerAddress"] = msg.takerAddress;
        }
        if (msg.integratorId) {
            json["integratorId"] = msg.integratorId;
        }
        if (msg.affiliateAddress != undefined) {
            json["affiliateAddress"] = msg.affiliateAddress;
        }
        if (msg.slippagePercentage != undefined) {
            const slippagePercentage = big_number_js_pb_1.BigNumberJsJSON._writeMessage(msg.slippagePercentage);
            json["slippagePercentage"] = slippagePercentage;
        }
        if (msg.quoteUniqueId != undefined) {
            json["quoteUniqueId"] = msg.quoteUniqueId;
        }
        return json;
    },
    /**
     * @private
     */
    _readMessage: function (msg, json) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
        const _sellTokenAddress = (_a = json["sellTokenAddress"]) !== null && _a !== void 0 ? _a : json["sell_token_address"];
        if (_sellTokenAddress) {
            msg.sellTokenAddress = _sellTokenAddress;
        }
        const _buyTokenAddress = (_b = json["buyTokenAddress"]) !== null && _b !== void 0 ? _b : json["buy_token_address"];
        if (_buyTokenAddress) {
            msg.buyTokenAddress = _buyTokenAddress;
        }
        const _sellAmount = (_c = json["sellAmount"]) !== null && _c !== void 0 ? _c : json["sell_amount"];
        if (_sellAmount) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _sellAmount);
            msg.sellAmount = m;
        }
        const _buyAmount = (_d = json["buyAmount"]) !== null && _d !== void 0 ? _d : json["buy_amount"];
        if (_buyAmount) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _buyAmount);
            msg.buyAmount = m;
        }
        const _chainId = (_e = json["chainId"]) !== null && _e !== void 0 ? _e : json["chain_id"];
        if (_chainId) {
            msg.chainId = _chainId;
        }
        const _takerAddress = (_f = json["takerAddress"]) !== null && _f !== void 0 ? _f : json["taker_address"];
        if (_takerAddress) {
            msg.takerAddress = _takerAddress;
        }
        const _integratorId = (_g = json["integratorId"]) !== null && _g !== void 0 ? _g : json["integrator_id"];
        if (_integratorId) {
            msg.integratorId = _integratorId;
        }
        const _affiliateAddress = (_h = json["affiliateAddress"]) !== null && _h !== void 0 ? _h : json["affiliate_address"];
        if (_affiliateAddress) {
            msg.affiliateAddress = _affiliateAddress;
        }
        const _slippagePercentage = (_j = json["slippagePercentage"]) !== null && _j !== void 0 ? _j : json["slippage_percentage"];
        if (_slippagePercentage) {
            const m = big_number_js_pb_1.BigNumberJs.initialize();
            big_number_js_pb_1.BigNumberJsJSON._readMessage(m, _slippagePercentage);
            msg.slippagePercentage = m;
        }
        const _quoteUniqueId = (_k = json["quoteUniqueId"]) !== null && _k !== void 0 ? _k : json["quote_unique_id"];
        if (_quoteUniqueId) {
            msg.quoteUniqueId = _quoteUniqueId;
        }
        return msg;
    },
};
exports.GetQuoteResponseJSON = {
    /**
     * Serializes GetQuoteResponse to JSON.
     */
    encode: function (msg) {
        return JSON.stringify(exports.GetQuoteResponseJSON._writeMessage(msg));
    },
    /**
     * Deserializes GetQuoteResponse from JSON.
     */
    decode: function (json) {
        return exports.GetQuoteResponseJSON._readMessage(exports.GetQuoteResponseJSON.initialize(), JSON.parse(json));
    },
    /**
     * Initializes GetQuoteResponse with all fields set to their default value.
     */
    initialize: function () {
        return {
            quote: exports.Quote.initialize(),
            metaTransaction: exports.MetaTransaction.initialize(),
        };
    },
    /**
     * @private
     */
    _writeMessage: function (msg) {
        const json = {};
        if (msg.quote) {
            const quote = exports.QuoteJSON._writeMessage(msg.quote);
            if (Object.keys(quote).length > 0) {
                json["quote"] = quote;
            }
        }
        if (msg.metaTransaction) {
            const metaTransaction = exports.MetaTransactionJSON._writeMessage(msg.metaTransaction);
            if (Object.keys(metaTransaction).length > 0) {
                json["metaTransaction"] = metaTransaction;
            }
        }
        return json;
    },
    /**
     * @private
     */
    _readMessage: function (msg, json) {
        var _a;
        const _quote = json["quote"];
        if (_quote) {
            const m = exports.Quote.initialize();
            exports.QuoteJSON._readMessage(m, _quote);
            msg.quote = m;
        }
        const _metaTransaction = (_a = json["metaTransaction"]) !== null && _a !== void 0 ? _a : json["meta_transaction"];
        if (_metaTransaction) {
            const m = exports.MetaTransaction.initialize();
            exports.MetaTransactionJSON._readMessage(m, _metaTransaction);
            msg.metaTransaction = m;
        }
        return msg;
    },
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3NyYy9wcm90by10cy9tZXRhX3RyYW5zYWN0aW9uLnBiLnRzIiwibWFwcGluZ3MiOiI7OztBQUtBLDZDQUF5RDtBQUN6RCw2Q0FBcUQ7QUFDckQsZ0VBQWdFO0FBQ2hFLGtGQUFrRjtBQUNsRiw2REFBNkQ7QUFDN0QsMkNBQTJEO0FBQWxELDJIQUFBLDRCQUE0QixPQUFBO0FBRXJDLHlEQUFrRTtBQTBFbEUsNENBQTRDO0FBQzVDLDRDQUE0QztBQUM1Qyw0Q0FBNEM7QUFFckMsS0FBSyxVQUFVLFFBQVEsQ0FDNUIsZUFBZ0MsRUFDaEMsTUFBNEI7SUFFNUIsTUFBTSxRQUFRLEdBQUcsTUFBTSxJQUFBLHVCQUFTLEVBQzlCLGtDQUFrQyxFQUNsQyx1QkFBZSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFDdkMsTUFBTSxDQUNQLENBQUM7SUFDRixPQUFPLHdCQUFnQixDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMzQyxDQUFDO0FBVkQsNEJBVUM7QUFFRCw0Q0FBNEM7QUFDNUMsNENBQTRDO0FBQzVDLDRDQUE0QztBQUVyQyxLQUFLLFVBQVUsWUFBWSxDQUNoQyxlQUFnQyxFQUNoQyxNQUE0QjtJQUU1QixNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUEseUJBQVcsRUFDaEMsa0NBQWtDLEVBQ2xDLDJCQUFtQixDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFDM0MsTUFBTSxDQUNQLENBQUM7SUFDRixPQUFPLDRCQUFvQixDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvQyxDQUFDO0FBVkQsb0NBVUM7QUFhRCxTQUFnQiw0QkFBNEIsQ0FDMUMsT0FBd0M7SUFFeEMsT0FBTztRQUNMLElBQUksRUFBRSx3QkFBd0I7UUFDOUIsT0FBTyxFQUFFO1lBQ1AsUUFBUSxFQUFFO2dCQUNSLElBQUksRUFBRSxVQUFVO2dCQUNoQixPQUFPLEVBQUUsT0FBTyxDQUFDLFFBQVE7Z0JBQ3pCLEtBQUssRUFB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QUM7WUFDRixJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDM0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsZUFBZSxDQUFDO2FBQzNDO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRDs7T0FFRztJQUNILFlBQVksRUFBRSxVQUFVLEdBQXFCLEVBQUUsSUFBUzs7UUFDdEQsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzdCLElBQUksTUFBTSxFQUFFO1lBQ1YsTUFBTSxDQUFDLEdBQUcsYUFBSyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQzdCLGlCQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUNsQyxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztTQUNmO1FBQ0QsTUFBTSxnQkFBZ0IsR0FDcEIsTUFBQSxJQUFJLENBQUMsaUJBQWlCLENBQUMsbUNBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDdEQsSUFBSSxnQkFBZ0IsRUFBRTtZQUNwQixNQUFNLENBQUMsR0FBRyx1QkFBZSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ3ZDLDJCQUFtQixDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUN0RCxHQUFHLENBQUMsZUFBZSxHQUFHLENBQUMsQ0FBQztTQUN6QjtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztDQUNGLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2Rhdmlkd2Fsc2gvY29kZS1sb2NhbC8weC1yZnEtYXBpL3NyYy9wcm90by10cy9tZXRhX3RyYW5zYWN0aW9uLnBiLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRISVMgSVMgQU4gQVVUT0dFTkVSQVRFRCBGSUxFLiBETyBOT1QgRURJVCBUSElTIEZJTEUgRElSRUNUTFkuXHJcbi8vIFNvdXJjZTogbWV0YV90cmFuc2FjdGlvbi5wcm90b1xyXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xyXG5cclxuaW1wb3J0IHR5cGUgeyBCeXRlU291cmNlIH0gZnJvbSBcInByb3Rvc2NyaXB0XCI7XHJcbmltcG9ydCB7IEJpbmFyeVJlYWRlciwgQmluYXJ5V3JpdGVyIH0gZnJvbSBcInByb3Rvc2NyaXB0XCI7XHJcbmltcG9ydCB7IEpTT05yZXF1ZXN0LCBQQnJlcXVlc3QgfSBmcm9tIFwidHdpcnBzY3JpcHRcIjtcclxuLy8gVGhpcyBpcyB0aGUgbWluaW11bSB2ZXJzaW9uIHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBydW50aW1lLlxyXG4vLyBJZiB0aGlzIGxpbmUgZmFpbHMgdHlwZWNoZWNraW5nLCBicmVha2luZyBjaGFuZ2VzIGhhdmUgYmVlbiBpbnRyb2R1Y2VkIGFuZCB0aGlzXHJcbi8vIGZpbGUgbmVlZHMgdG8gYmUgcmVnZW5lcmF0ZWQgYnkgcnVubmluZyBgbnB4IHR3aXJwc2NyaXB0YC5cclxuZXhwb3J0IHsgTUlOX1NVUFBPUlRFRF9WRVJTSU9OXzBfMF81NiB9IGZyb20gXCJ0d2lycHNjcmlwdFwiO1xyXG5pbXBvcnQgdHlwZSB7IENsaWVudENvbmZpZ3VyYXRpb24gfSBmcm9tIFwidHdpcnBzY3JpcHRcIjtcclxuaW1wb3J0IHsgQmlnTnVtYmVySnMsIEJpZ051bWJlckpzSlNPTiB9IGZyb20gXCIuL2JpZ19udW1iZXJfanMucGJcIjtcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vXHJcbi8vICAgICAgICAgICAgICAgICBUeXBlcyAgICAgICAgICAgICAgICAgIC8vXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PS8vXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExpcXVpZGl0eVNvdXJjZSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHByb3BvcnRpb246IEJpZ051bWJlckpzO1xyXG4gIGludGVybWVkaWF0ZVRva2VuPzogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcclxuICBob3BzOiBzdHJpbmdbXTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBRdW90ZSB7XHJcbiAgc2VsbFRva2VuQWRkcmVzczogc3RyaW5nO1xyXG4gIHNlbGxBbW91bnQ6IEJpZ051bWJlckpzO1xyXG4gIGJ1eVRva2VuQWRkcmVzczogc3RyaW5nO1xyXG4gIGJ1eUFtb3VudDogQmlnTnVtYmVySnM7XHJcbiAgcHJpY2U6IEJpZ051bWJlckpzO1xyXG4gIGVzdGltYXRlZFByaWNlSW1wYWN0PzogQmlnTnVtYmVySnMgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG4gIHNlbGxUb2tlblRvTmF0aXZlVG9rZW5SYXRlOiBCaWdOdW1iZXJKcztcclxuICBidXlUb2tlblRvTmF0aXZlVG9rZW5SYXRlOiBCaWdOdW1iZXJKcztcclxuICBjaGFpbklkOiBudW1iZXI7XHJcbiAgZ2FzOiBCaWdOdW1iZXJKcztcclxuICBlc3RpbWF0ZWRHYXM6IEJpZ051bWJlckpzO1xyXG4gIGdhc1ByaWNlOiBCaWdOdW1iZXJKcztcclxuICB2YWx1ZTogQmlnTnVtYmVySnM7XHJcbiAgcHJvdG9jb2xGZWU6IEJpZ051bWJlckpzO1xyXG4gIG1pbmltdW1Qcm90b2NvbEZlZTogQmlnTnVtYmVySnM7XHJcbiAgYWxsb3dhbmNlVGFyZ2V0OiBzdHJpbmc7XHJcbiAgbGlxdWlkaXR5U291cmNlczogTGlxdWlkaXR5U291cmNlW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKipcclxuICogTWV0YVRyYW5zYWN0aW9uXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS8weFByb2plY3QvcHJvdG9jb2wvYmxvYi9kZXZlbG9wbWVudC9wYWNrYWdlcy9wcm90b2NvbC11dGlscy9zcmMvbWV0YV90cmFuc2FjdGlvbnMudHMjTDM5XHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFUcmFuc2FjdGlvbiB7XHJcbiAgc2lnbmVyQWRkcmVzczogc3RyaW5nO1xyXG4gIHNlbmRlckFkZHJlc3M6IHN0cmluZztcclxuICBtaW5HYXNQcmljZTogQmlnTnVtYmVySnM7XHJcbiAgbWF4R2FzUHJpY2U6IEJpZ051bWJlckpzO1xyXG4gIGV4cGlyYXRpb25UaW1lU2Vjb25kczogQmlnTnVtYmVySnM7XHJcbiAgc2FsdDogQmlnTnVtYmVySnM7XHJcbiAgY2FsbERhdGE6IHN0cmluZztcclxuICB2YWx1ZTogQmlnTnVtYmVySnM7XHJcbiAgZmVlVG9rZW5BZGRyZXNzOiBzdHJpbmc7XHJcbiAgZmVlQW1vdW50OiBCaWdOdW1iZXJKcztcclxuICBjaGFpbklkOiBudW1iZXI7XHJcbiAgdmVyaWZ5aW5nQ29udHJhY3Q6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHZXRRdW90ZVJlcXVlc3Qge1xyXG4gIHNlbGxUb2tlbkFkZHJlc3M6IHN0cmluZztcclxuICBidXlUb2tlbkFkZHJlc3M6IHN0cmluZztcclxuICBzZWxsQW1vdW50PzogQmlnTnVtYmVySnMgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG4gIGJ1eUFtb3VudD86IEJpZ051bWJlckpzIHwgbnVsbCB8IHVuZGVmaW5lZDtcclxuICBjaGFpbklkOiBudW1iZXI7XHJcbiAgdGFrZXJBZGRyZXNzOiBzdHJpbmc7XHJcbiAgaW50ZWdyYXRvcklkOiBzdHJpbmc7XHJcbiAgYWZmaWxpYXRlQWRkcmVzcz86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XHJcbiAgc2xpcHBhZ2VQZXJjZW50YWdlPzogQmlnTnVtYmVySnMgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG4gIC8qKlxyXG4gICAqIElEIHRvIHVzZSBmb3IgdGhlIHF1b3RlIHJlcG9ydCBgZGVjb2RlZFVuaXF1ZUlkYFxyXG4gICAqL1xyXG4gIHF1b3RlVW5pcXVlSWQ/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEdldFF1b3RlUmVzcG9uc2Uge1xyXG4gIHF1b3RlOiBRdW90ZTtcclxuICBtZXRhVHJhbnNhY3Rpb246IE1ldGFUcmFuc2FjdGlvbjtcclxufVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cclxuLy8gTWV0YVRyYW5zYWN0aW9uU2VydmljZSBQcm90b2J1ZiBDbGllbnQgLy9cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHZXRRdW90ZShcclxuICBnZXRRdW90ZVJlcXVlc3Q6IEdldFF1b3RlUmVxdWVzdCxcclxuICBjb25maWc/OiBDbGllbnRDb25maWd1cmF0aW9uXHJcbik6IFByb21pc2U8R2V0UXVvdGVSZXNwb25zZT4ge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUEJyZXF1ZXN0KFxyXG4gICAgXCIvTWV0YVRyYW5zYWN0aW9uU2VydmljZS9HZXRRdW90ZVwiLFxyXG4gICAgR2V0UXVvdGVSZXF1ZXN0LmVuY29kZShnZXRRdW90ZVJlcXVlc3QpLFxyXG4gICAgY29uZmlnXHJcbiAgKTtcclxuICByZXR1cm4gR2V0UXVvdGVSZXNwb25zZS5kZWNvZGUocmVzcG9uc2UpO1xyXG59XHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xyXG4vLyAgIE1ldGFUcmFuc2FjdGlvblNlcnZpY2UgSlNPTiBDbGllbnQgICAvL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdldFF1b3RlSlNPTihcclxuICBnZXRRdW90ZVJlcXVlc3Q6IEdldFF1b3RlUmVxdWVzdCxcclxuICBjb25maWc/OiBDbGllbnRDb25maWd1cmF0aW9uXHJcbik6IFByb21pc2U8R2V0UXVvdGVSZXNwb25zZT4ge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgSlNPTnJlcXVlc3QoXHJcbiAgICBcIi9NZXRhVHJhbnNhY3Rpb25TZXJ2aWNlL0dldFF1b3RlXCIsXHJcbiAgICBHZXRRdW90ZVJlcXVlc3RKU09OLmVuY29kZShnZXRRdW90ZVJlcXVlc3QpLFxyXG4gICAgY29uZmlnXHJcbiAgKTtcclxuICByZXR1cm4gR2V0UXVvdGVSZXNwb25zZUpTT04uZGVjb2RlKHJlc3BvbnNlKTtcclxufVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cclxuLy8gICAgICAgICBNZXRhVHJhbnNhY3Rpb25TZXJ2aWNlICAgICAgICAgLy9cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWV0YVRyYW5zYWN0aW9uU2VydmljZTxDb250ZXh0ID0gdW5rbm93bj4ge1xyXG4gIEdldFF1b3RlOiAoXHJcbiAgICBnZXRRdW90ZVJlcXVlc3Q6IEdldFF1b3RlUmVxdWVzdCxcclxuICAgIGNvbnRleHQ6IENvbnRleHRcclxuICApID0+IFByb21pc2U8R2V0UXVvdGVSZXNwb25zZT4gfCBHZXRRdW90ZVJlc3BvbnNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWV0YVRyYW5zYWN0aW9uU2VydmljZTxDb250ZXh0PihcclxuICBzZXJ2aWNlOiBNZXRhVHJhbnNhY3Rpb25TZXJ2aWNlPENvbnRleHQ+XHJcbikge1xyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiBcIk1ldGFUcmFuc2FjdGlvblNlcnZpY2VcIixcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgR2V0UXVvdGU6IHtcclxuICAgICAgICBuYW1lOiBcIkdldFF1b3RlXCIsXHJcbiAgICAgICAgaGFuZGxlcjogc2VydmljZS5HZXRRdW90ZSxcclxuICAgICAgICBpbnB1dDogeyBwcm90b2J1ZjogR2V0UXVvdGVSZXF1ZXN0LCBqc29uOiBHZXRRdW90ZVJlcXVlc3RKU09OIH0sXHJcbiAgICAgICAgb3V0cHV0OiB7IHByb3RvYnVmOiBHZXRRdW90ZVJlc3BvbnNlLCBqc29uOiBHZXRRdW90ZVJlc3BvbnNlSlNPTiB9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9IGFzIGNvbnN0O1xyXG59XHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xyXG4vLyAgICAgICAgUHJvdG9idWYgRW5jb2RlIC8gRGVjb2RlICAgICAgICAvL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xyXG5cclxuZXhwb3J0IGNvbnN0IExpcXVpZGl0eVNvdXJjZSA9IHtcclxuICAvKipcclxuICAgKiBTZXJpYWxpemVzIExpcXVpZGl0eVNvdXJjZSB0byBwcm90b2J1Zi5cclxuICAgKi9cclxuICBlbmNvZGU6IGZ1bmN0aW9uIChtc2c6IFBhcnRpYWw8TGlxdWlkaXR5U291cmNlPik6IFVpbnQ4QXJyYXkge1xyXG4gICAgcmV0dXJuIExpcXVpZGl0eVNvdXJjZS5fd3JpdGVNZXNzYWdlKFxyXG4gICAgICBtc2csXHJcbiAgICAgIG5ldyBCaW5hcnlXcml0ZXIoKVxyXG4gICAgKS5nZXRSZXN1bHRCdWZmZXIoKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBEZXNlcmlhbGl6ZXMgTGlxdWlkaXR5U291cmNlIGZyb20gcHJvdG9idWYuXHJcbiAgICovXHJcbiAgZGVjb2RlOiBmdW5jdGlvbiAoYnl0ZXM6IEJ5dGVTb3VyY2UpOiBMaXF1aWRpdHlTb3VyY2Uge1xyXG4gICAgcmV0dXJuIExpcXVpZGl0eVNvdXJjZS5fcmVhZE1lc3NhZ2UoXHJcbiAgICAgIExpcXVpZGl0eVNvdXJjZS5pbml0aWFsaXplKCksXHJcbiAgICAgIG5ldyBCaW5hcnlSZWFkZXIoYnl0ZXMpXHJcbiAgICApO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIExpcXVpZGl0eVNvdXJjZSB3aXRoIGFsbCBmaWVsZHMgc2V0IHRvIHRoZWlyIGRlZmF1bHQgdmFsdWUuXHJcbiAgICovXHJcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCk6IExpcXVpZGl0eVNvdXJjZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiBcIlwiLFxyXG4gICAgICBwcm9wb3J0aW9uOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGludGVybWVkaWF0ZVRva2VuOiB1bmRlZmluZWQsXHJcbiAgICAgIGhvcHM6IFtdLFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF93cml0ZU1lc3NhZ2U6IGZ1bmN0aW9uIChcclxuICAgIG1zZzogUGFydGlhbDxMaXF1aWRpdHlTb3VyY2U+LFxyXG4gICAgd3JpdGVyOiBCaW5hcnlXcml0ZXJcclxuICApOiBCaW5hcnlXcml0ZXIge1xyXG4gICAgaWYgKG1zZy5uYW1lKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZVN0cmluZygxLCBtc2cubmFtZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLnByb3BvcnRpb24pIHtcclxuICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZSgyLCBtc2cucHJvcG9ydGlvbiwgQmlnTnVtYmVySnMuX3dyaXRlTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmludGVybWVkaWF0ZVRva2VuICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICB3cml0ZXIud3JpdGVTdHJpbmcoMywgbXNnLmludGVybWVkaWF0ZVRva2VuKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cuaG9wcz8ubGVuZ3RoKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZVJlcGVhdGVkU3RyaW5nKDQsIG1zZy5ob3BzKTtcclxuICAgIH1cclxuICAgIHJldHVybiB3cml0ZXI7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfcmVhZE1lc3NhZ2U6IGZ1bmN0aW9uIChcclxuICAgIG1zZzogTGlxdWlkaXR5U291cmNlLFxyXG4gICAgcmVhZGVyOiBCaW5hcnlSZWFkZXJcclxuICApOiBMaXF1aWRpdHlTb3VyY2Uge1xyXG4gICAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkge1xyXG4gICAgICBjb25zdCBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpO1xyXG4gICAgICBzd2l0Y2ggKGZpZWxkKSB7XHJcbiAgICAgICAgY2FzZSAxOiB7XHJcbiAgICAgICAgICBtc2cubmFtZSA9IHJlYWRlci5yZWFkU3RyaW5nKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAyOiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobXNnLnByb3BvcnRpb24sIEJpZ051bWJlckpzLl9yZWFkTWVzc2FnZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAzOiB7XHJcbiAgICAgICAgICBtc2cuaW50ZXJtZWRpYXRlVG9rZW4gPSByZWFkZXIucmVhZFN0cmluZygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgNDoge1xyXG4gICAgICAgICAgbXNnLmhvcHMucHVzaChyZWFkZXIucmVhZFN0cmluZygpKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtc2c7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBRdW90ZSA9IHtcclxuICAvKipcclxuICAgKiBTZXJpYWxpemVzIFF1b3RlIHRvIHByb3RvYnVmLlxyXG4gICAqL1xyXG4gIGVuY29kZTogZnVuY3Rpb24gKG1zZzogUGFydGlhbDxRdW90ZT4pOiBVaW50OEFycmF5IHtcclxuICAgIHJldHVybiBRdW90ZS5fd3JpdGVNZXNzYWdlKG1zZywgbmV3IEJpbmFyeVdyaXRlcigpKS5nZXRSZXN1bHRCdWZmZXIoKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBEZXNlcmlhbGl6ZXMgUXVvdGUgZnJvbSBwcm90b2J1Zi5cclxuICAgKi9cclxuICBkZWNvZGU6IGZ1bmN0aW9uIChieXRlczogQnl0ZVNvdXJjZSk6IFF1b3RlIHtcclxuICAgIHJldHVybiBRdW90ZS5fcmVhZE1lc3NhZ2UoUXVvdGUuaW5pdGlhbGl6ZSgpLCBuZXcgQmluYXJ5UmVhZGVyKGJ5dGVzKSk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgUXVvdGUgd2l0aCBhbGwgZmllbGRzIHNldCB0byB0aGVpciBkZWZhdWx0IHZhbHVlLlxyXG4gICAqL1xyXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpOiBRdW90ZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWxsVG9rZW5BZGRyZXNzOiBcIlwiLFxyXG4gICAgICBzZWxsQW1vdW50OiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGJ1eVRva2VuQWRkcmVzczogXCJcIixcclxuICAgICAgYnV5QW1vdW50OiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIHByaWNlOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGVzdGltYXRlZFByaWNlSW1wYWN0OiB1bmRlZmluZWQsXHJcbiAgICAgIHNlbGxUb2tlblRvTmF0aXZlVG9rZW5SYXRlOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGJ1eVRva2VuVG9OYXRpdmVUb2tlblJhdGU6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgY2hhaW5JZDogMCxcclxuICAgICAgZ2FzOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGVzdGltYXRlZEdhczogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBnYXNQcmljZTogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICB2YWx1ZTogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBwcm90b2NvbEZlZTogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBtaW5pbXVtUHJvdG9jb2xGZWU6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgYWxsb3dhbmNlVGFyZ2V0OiBcIlwiLFxyXG4gICAgICBsaXF1aWRpdHlTb3VyY2VzOiBbXSxcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfd3JpdGVNZXNzYWdlOiBmdW5jdGlvbiAoXHJcbiAgICBtc2c6IFBhcnRpYWw8UXVvdGU+LFxyXG4gICAgd3JpdGVyOiBCaW5hcnlXcml0ZXJcclxuICApOiBCaW5hcnlXcml0ZXIge1xyXG4gICAgaWYgKG1zZy5zZWxsVG9rZW5BZGRyZXNzKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZVN0cmluZygxLCBtc2cuc2VsbFRva2VuQWRkcmVzcyk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLnNlbGxBbW91bnQpIHtcclxuICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZSgyLCBtc2cuc2VsbEFtb3VudCwgQmlnTnVtYmVySnMuX3dyaXRlTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmJ1eVRva2VuQWRkcmVzcykge1xyXG4gICAgICB3cml0ZXIud3JpdGVTdHJpbmcoMywgbXNnLmJ1eVRva2VuQWRkcmVzcyk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmJ1eUFtb3VudCkge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDQsIG1zZy5idXlBbW91bnQsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5wcmljZSkge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDUsIG1zZy5wcmljZSwgQmlnTnVtYmVySnMuX3dyaXRlTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmVzdGltYXRlZFByaWNlSW1wYWN0ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKFxyXG4gICAgICAgIDYsXHJcbiAgICAgICAgbXNnLmVzdGltYXRlZFByaWNlSW1wYWN0LFxyXG4gICAgICAgIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2VcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cuc2VsbFRva2VuVG9OYXRpdmVUb2tlblJhdGUpIHtcclxuICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZShcclxuICAgICAgICA3LFxyXG4gICAgICAgIG1zZy5zZWxsVG9rZW5Ub05hdGl2ZVRva2VuUmF0ZSxcclxuICAgICAgICBCaWdOdW1iZXJKcy5fd3JpdGVNZXNzYWdlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmJ1eVRva2VuVG9OYXRpdmVUb2tlblJhdGUpIHtcclxuICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZShcclxuICAgICAgICA4LFxyXG4gICAgICAgIG1zZy5idXlUb2tlblRvTmF0aXZlVG9rZW5SYXRlLFxyXG4gICAgICAgIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2VcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cuY2hhaW5JZCkge1xyXG4gICAgICB3cml0ZXIud3JpdGVJbnQzMig5LCBtc2cuY2hhaW5JZCk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmdhcykge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDEwLCBtc2cuZ2FzLCBCaWdOdW1iZXJKcy5fd3JpdGVNZXNzYWdlKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cuZXN0aW1hdGVkR2FzKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZU1lc3NhZ2UoMTEsIG1zZy5lc3RpbWF0ZWRHYXMsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5nYXNQcmljZSkge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDEyLCBtc2cuZ2FzUHJpY2UsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy52YWx1ZSkge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDEzLCBtc2cudmFsdWUsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5wcm90b2NvbEZlZSkge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDE0LCBtc2cucHJvdG9jb2xGZWUsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5taW5pbXVtUHJvdG9jb2xGZWUpIHtcclxuICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZShcclxuICAgICAgICAxNSxcclxuICAgICAgICBtc2cubWluaW11bVByb3RvY29sRmVlLFxyXG4gICAgICAgIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2VcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cuYWxsb3dhbmNlVGFyZ2V0KSB7XHJcbiAgICAgIHdyaXRlci53cml0ZVN0cmluZygxNiwgbXNnLmFsbG93YW5jZVRhcmdldCk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmxpcXVpZGl0eVNvdXJjZXM/Lmxlbmd0aCkge1xyXG4gICAgICB3cml0ZXIud3JpdGVSZXBlYXRlZE1lc3NhZ2UoXHJcbiAgICAgICAgMTcsXHJcbiAgICAgICAgbXNnLmxpcXVpZGl0eVNvdXJjZXMgYXMgYW55LFxyXG4gICAgICAgIExpcXVpZGl0eVNvdXJjZS5fd3JpdGVNZXNzYWdlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gd3JpdGVyO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3JlYWRNZXNzYWdlOiBmdW5jdGlvbiAobXNnOiBRdW90ZSwgcmVhZGVyOiBCaW5hcnlSZWFkZXIpOiBRdW90ZSB7XHJcbiAgICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7XHJcbiAgICAgIGNvbnN0IGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7XHJcbiAgICAgIHN3aXRjaCAoZmllbGQpIHtcclxuICAgICAgICBjYXNlIDE6IHtcclxuICAgICAgICAgIG1zZy5zZWxsVG9rZW5BZGRyZXNzID0gcmVhZGVyLnJlYWRTdHJpbmcoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDI6IHtcclxuICAgICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZShtc2cuc2VsbEFtb3VudCwgQmlnTnVtYmVySnMuX3JlYWRNZXNzYWdlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDM6IHtcclxuICAgICAgICAgIG1zZy5idXlUb2tlbkFkZHJlc3MgPSByZWFkZXIucmVhZFN0cmluZygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgNDoge1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKG1zZy5idXlBbW91bnQsIEJpZ051bWJlckpzLl9yZWFkTWVzc2FnZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSA1OiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobXNnLnByaWNlLCBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgNjoge1xyXG4gICAgICAgICAgbXNnLmVzdGltYXRlZFByaWNlSW1wYWN0ID0gQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKFxyXG4gICAgICAgICAgICBtc2cuZXN0aW1hdGVkUHJpY2VJbXBhY3QsXHJcbiAgICAgICAgICAgIEJpZ051bWJlckpzLl9yZWFkTWVzc2FnZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDc6IHtcclxuICAgICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZShcclxuICAgICAgICAgICAgbXNnLnNlbGxUb2tlblRvTmF0aXZlVG9rZW5SYXRlLFxyXG4gICAgICAgICAgICBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2VcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSA4OiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UoXHJcbiAgICAgICAgICAgIG1zZy5idXlUb2tlblRvTmF0aXZlVG9rZW5SYXRlLFxyXG4gICAgICAgICAgICBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2VcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSA5OiB7XHJcbiAgICAgICAgICBtc2cuY2hhaW5JZCA9IHJlYWRlci5yZWFkSW50MzIoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDEwOiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobXNnLmdhcywgQmlnTnVtYmVySnMuX3JlYWRNZXNzYWdlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDExOiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobXNnLmVzdGltYXRlZEdhcywgQmlnTnVtYmVySnMuX3JlYWRNZXNzYWdlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDEyOiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobXNnLmdhc1ByaWNlLCBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgMTM6IHtcclxuICAgICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZShtc2cudmFsdWUsIEJpZ051bWJlckpzLl9yZWFkTWVzc2FnZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAxNDoge1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKG1zZy5wcm90b2NvbEZlZSwgQmlnTnVtYmVySnMuX3JlYWRNZXNzYWdlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDE1OiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobXNnLm1pbmltdW1Qcm90b2NvbEZlZSwgQmlnTnVtYmVySnMuX3JlYWRNZXNzYWdlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDE2OiB7XHJcbiAgICAgICAgICBtc2cuYWxsb3dhbmNlVGFyZ2V0ID0gcmVhZGVyLnJlYWRTdHJpbmcoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDE3OiB7XHJcbiAgICAgICAgICBjb25zdCBtID0gTGlxdWlkaXR5U291cmNlLmluaXRpYWxpemUoKTtcclxuICAgICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZShtLCBMaXF1aWRpdHlTb3VyY2UuX3JlYWRNZXNzYWdlKTtcclxuICAgICAgICAgIG1zZy5saXF1aWRpdHlTb3VyY2VzLnB1c2gobSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbXNnO1xyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgTWV0YVRyYW5zYWN0aW9uID0ge1xyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZXMgTWV0YVRyYW5zYWN0aW9uIHRvIHByb3RvYnVmLlxyXG4gICAqL1xyXG4gIGVuY29kZTogZnVuY3Rpb24gKG1zZzogUGFydGlhbDxNZXRhVHJhbnNhY3Rpb24+KTogVWludDhBcnJheSB7XHJcbiAgICByZXR1cm4gTWV0YVRyYW5zYWN0aW9uLl93cml0ZU1lc3NhZ2UoXHJcbiAgICAgIG1zZyxcclxuICAgICAgbmV3IEJpbmFyeVdyaXRlcigpXHJcbiAgICApLmdldFJlc3VsdEJ1ZmZlcigpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIERlc2VyaWFsaXplcyBNZXRhVHJhbnNhY3Rpb24gZnJvbSBwcm90b2J1Zi5cclxuICAgKi9cclxuICBkZWNvZGU6IGZ1bmN0aW9uIChieXRlczogQnl0ZVNvdXJjZSk6IE1ldGFUcmFuc2FjdGlvbiB7XHJcbiAgICByZXR1cm4gTWV0YVRyYW5zYWN0aW9uLl9yZWFkTWVzc2FnZShcclxuICAgICAgTWV0YVRyYW5zYWN0aW9uLmluaXRpYWxpemUoKSxcclxuICAgICAgbmV3IEJpbmFyeVJlYWRlcihieXRlcylcclxuICAgICk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgTWV0YVRyYW5zYWN0aW9uIHdpdGggYWxsIGZpZWxkcyBzZXQgdG8gdGhlaXIgZGVmYXVsdCB2YWx1ZS5cclxuICAgKi9cclxuICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKTogTWV0YVRyYW5zYWN0aW9uIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNpZ25lckFkZHJlc3M6IFwiXCIsXHJcbiAgICAgIHNlbmRlckFkZHJlc3M6IFwiXCIsXHJcbiAgICAgIG1pbkdhc1ByaWNlOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIG1heEdhc1ByaWNlOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGV4cGlyYXRpb25UaW1lU2Vjb25kczogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBzYWx0OiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGNhbGxEYXRhOiBcIlwiLFxyXG4gICAgICB2YWx1ZTogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBmZWVUb2tlbkFkZHJlc3M6IFwiXCIsXHJcbiAgICAgIGZlZUFtb3VudDogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBjaGFpbklkOiAwLFxyXG4gICAgICB2ZXJpZnlpbmdDb250cmFjdDogXCJcIixcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfd3JpdGVNZXNzYWdlOiBmdW5jdGlvbiAoXHJcbiAgICBtc2c6IFBhcnRpYWw8TWV0YVRyYW5zYWN0aW9uPixcclxuICAgIHdyaXRlcjogQmluYXJ5V3JpdGVyXHJcbiAgKTogQmluYXJ5V3JpdGVyIHtcclxuICAgIGlmIChtc2cuc2lnbmVyQWRkcmVzcykge1xyXG4gICAgICB3cml0ZXIud3JpdGVTdHJpbmcoMSwgbXNnLnNpZ25lckFkZHJlc3MpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5zZW5kZXJBZGRyZXNzKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZVN0cmluZygyLCBtc2cuc2VuZGVyQWRkcmVzcyk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLm1pbkdhc1ByaWNlKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZU1lc3NhZ2UoMywgbXNnLm1pbkdhc1ByaWNlLCBCaWdOdW1iZXJKcy5fd3JpdGVNZXNzYWdlKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cubWF4R2FzUHJpY2UpIHtcclxuICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZSg0LCBtc2cubWF4R2FzUHJpY2UsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5leHBpcmF0aW9uVGltZVNlY29uZHMpIHtcclxuICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZShcclxuICAgICAgICA1LFxyXG4gICAgICAgIG1zZy5leHBpcmF0aW9uVGltZVNlY29uZHMsXHJcbiAgICAgICAgQmlnTnVtYmVySnMuX3dyaXRlTWVzc2FnZVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5zYWx0KSB7XHJcbiAgICAgIHdyaXRlci53cml0ZU1lc3NhZ2UoNiwgbXNnLnNhbHQsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5jYWxsRGF0YSkge1xyXG4gICAgICB3cml0ZXIud3JpdGVTdHJpbmcoNywgbXNnLmNhbGxEYXRhKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cudmFsdWUpIHtcclxuICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZSg4LCBtc2cudmFsdWUsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5mZWVUb2tlbkFkZHJlc3MpIHtcclxuICAgICAgd3JpdGVyLndyaXRlU3RyaW5nKDksIG1zZy5mZWVUb2tlbkFkZHJlc3MpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5mZWVBbW91bnQpIHtcclxuICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZSgxMCwgbXNnLmZlZUFtb3VudCwgQmlnTnVtYmVySnMuX3dyaXRlTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmNoYWluSWQpIHtcclxuICAgICAgd3JpdGVyLndyaXRlSW50MzIoMTEsIG1zZy5jaGFpbklkKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cudmVyaWZ5aW5nQ29udHJhY3QpIHtcclxuICAgICAgd3JpdGVyLndyaXRlU3RyaW5nKDEyLCBtc2cudmVyaWZ5aW5nQ29udHJhY3QpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHdyaXRlcjtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9yZWFkTWVzc2FnZTogZnVuY3Rpb24gKFxyXG4gICAgbXNnOiBNZXRhVHJhbnNhY3Rpb24sXHJcbiAgICByZWFkZXI6IEJpbmFyeVJlYWRlclxyXG4gICk6IE1ldGFUcmFuc2FjdGlvbiB7XHJcbiAgICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7XHJcbiAgICAgIGNvbnN0IGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7XHJcbiAgICAgIHN3aXRjaCAoZmllbGQpIHtcclxuICAgICAgICBjYXNlIDE6IHtcclxuICAgICAgICAgIG1zZy5zaWduZXJBZGRyZXNzID0gcmVhZGVyLnJlYWRTdHJpbmcoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDI6IHtcclxuICAgICAgICAgIG1zZy5zZW5kZXJBZGRyZXNzID0gcmVhZGVyLnJlYWRTdHJpbmcoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDM6IHtcclxuICAgICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZShtc2cubWluR2FzUHJpY2UsIEJpZ051bWJlckpzLl9yZWFkTWVzc2FnZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSA0OiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobXNnLm1heEdhc1ByaWNlLCBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgNToge1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKFxyXG4gICAgICAgICAgICBtc2cuZXhwaXJhdGlvblRpbWVTZWNvbmRzLFxyXG4gICAgICAgICAgICBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2VcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSA2OiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobXNnLnNhbHQsIEJpZ051bWJlckpzLl9yZWFkTWVzc2FnZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSA3OiB7XHJcbiAgICAgICAgICBtc2cuY2FsbERhdGEgPSByZWFkZXIucmVhZFN0cmluZygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgODoge1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKG1zZy52YWx1ZSwgQmlnTnVtYmVySnMuX3JlYWRNZXNzYWdlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDk6IHtcclxuICAgICAgICAgIG1zZy5mZWVUb2tlbkFkZHJlc3MgPSByZWFkZXIucmVhZFN0cmluZygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgMTA6IHtcclxuICAgICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZShtc2cuZmVlQW1vdW50LCBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgMTE6IHtcclxuICAgICAgICAgIG1zZy5jaGFpbklkID0gcmVhZGVyLnJlYWRJbnQzMigpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgMTI6IHtcclxuICAgICAgICAgIG1zZy52ZXJpZnlpbmdDb250cmFjdCA9IHJlYWRlci5yZWFkU3RyaW5nKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbXNnO1xyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgR2V0UXVvdGVSZXF1ZXN0ID0ge1xyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZXMgR2V0UXVvdGVSZXF1ZXN0IHRvIHByb3RvYnVmLlxyXG4gICAqL1xyXG4gIGVuY29kZTogZnVuY3Rpb24gKG1zZzogUGFydGlhbDxHZXRRdW90ZVJlcXVlc3Q+KTogVWludDhBcnJheSB7XHJcbiAgICByZXR1cm4gR2V0UXVvdGVSZXF1ZXN0Ll93cml0ZU1lc3NhZ2UoXHJcbiAgICAgIG1zZyxcclxuICAgICAgbmV3IEJpbmFyeVdyaXRlcigpXHJcbiAgICApLmdldFJlc3VsdEJ1ZmZlcigpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIERlc2VyaWFsaXplcyBHZXRRdW90ZVJlcXVlc3QgZnJvbSBwcm90b2J1Zi5cclxuICAgKi9cclxuICBkZWNvZGU6IGZ1bmN0aW9uIChieXRlczogQnl0ZVNvdXJjZSk6IEdldFF1b3RlUmVxdWVzdCB7XHJcbiAgICByZXR1cm4gR2V0UXVvdGVSZXF1ZXN0Ll9yZWFkTWVzc2FnZShcclxuICAgICAgR2V0UXVvdGVSZXF1ZXN0LmluaXRpYWxpemUoKSxcclxuICAgICAgbmV3IEJpbmFyeVJlYWRlcihieXRlcylcclxuICAgICk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgR2V0UXVvdGVSZXF1ZXN0IHdpdGggYWxsIGZpZWxkcyBzZXQgdG8gdGhlaXIgZGVmYXVsdCB2YWx1ZS5cclxuICAgKi9cclxuICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKTogR2V0UXVvdGVSZXF1ZXN0IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNlbGxUb2tlbkFkZHJlc3M6IFwiXCIsXHJcbiAgICAgIGJ1eVRva2VuQWRkcmVzczogXCJcIixcclxuICAgICAgc2VsbEFtb3VudDogdW5kZWZpbmVkLFxyXG4gICAgICBidXlBbW91bnQ6IHVuZGVmaW5lZCxcclxuICAgICAgY2hhaW5JZDogMCxcclxuICAgICAgdGFrZXJBZGRyZXNzOiBcIlwiLFxyXG4gICAgICBpbnRlZ3JhdG9ySWQ6IFwiXCIsXHJcbiAgICAgIGFmZmlsaWF0ZUFkZHJlc3M6IHVuZGVmaW5lZCxcclxuICAgICAgc2xpcHBhZ2VQZXJjZW50YWdlOiB1bmRlZmluZWQsXHJcbiAgICAgIHF1b3RlVW5pcXVlSWQ6IHVuZGVmaW5lZCxcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfd3JpdGVNZXNzYWdlOiBmdW5jdGlvbiAoXHJcbiAgICBtc2c6IFBhcnRpYWw8R2V0UXVvdGVSZXF1ZXN0PixcclxuICAgIHdyaXRlcjogQmluYXJ5V3JpdGVyXHJcbiAgKTogQmluYXJ5V3JpdGVyIHtcclxuICAgIGlmIChtc2cuc2VsbFRva2VuQWRkcmVzcykge1xyXG4gICAgICB3cml0ZXIud3JpdGVTdHJpbmcoMSwgbXNnLnNlbGxUb2tlbkFkZHJlc3MpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5idXlUb2tlbkFkZHJlc3MpIHtcclxuICAgICAgd3JpdGVyLndyaXRlU3RyaW5nKDIsIG1zZy5idXlUb2tlbkFkZHJlc3MpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5zZWxsQW1vdW50ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDMsIG1zZy5zZWxsQW1vdW50LCBCaWdOdW1iZXJKcy5fd3JpdGVNZXNzYWdlKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cuYnV5QW1vdW50ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDQsIG1zZy5idXlBbW91bnQsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5jaGFpbklkKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZUludDMyKDUsIG1zZy5jaGFpbklkKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cudGFrZXJBZGRyZXNzKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZVN0cmluZyg2LCBtc2cudGFrZXJBZGRyZXNzKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cuaW50ZWdyYXRvcklkKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZVN0cmluZyg3LCBtc2cuaW50ZWdyYXRvcklkKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cuYWZmaWxpYXRlQWRkcmVzcyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgd3JpdGVyLndyaXRlU3RyaW5nKDgsIG1zZy5hZmZpbGlhdGVBZGRyZXNzKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cuc2xpcHBhZ2VQZXJjZW50YWdlICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDksIG1zZy5zbGlwcGFnZVBlcmNlbnRhZ2UsIEJpZ051bWJlckpzLl93cml0ZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5xdW90ZVVuaXF1ZUlkICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICB3cml0ZXIud3JpdGVTdHJpbmcoMTAsIG1zZy5xdW90ZVVuaXF1ZUlkKTtcclxuICAgIH1cclxuICAgIHJldHVybiB3cml0ZXI7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfcmVhZE1lc3NhZ2U6IGZ1bmN0aW9uIChcclxuICAgIG1zZzogR2V0UXVvdGVSZXF1ZXN0LFxyXG4gICAgcmVhZGVyOiBCaW5hcnlSZWFkZXJcclxuICApOiBHZXRRdW90ZVJlcXVlc3Qge1xyXG4gICAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkge1xyXG4gICAgICBjb25zdCBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpO1xyXG4gICAgICBzd2l0Y2ggKGZpZWxkKSB7XHJcbiAgICAgICAgY2FzZSAxOiB7XHJcbiAgICAgICAgICBtc2cuc2VsbFRva2VuQWRkcmVzcyA9IHJlYWRlci5yZWFkU3RyaW5nKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAyOiB7XHJcbiAgICAgICAgICBtc2cuYnV5VG9rZW5BZGRyZXNzID0gcmVhZGVyLnJlYWRTdHJpbmcoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDM6IHtcclxuICAgICAgICAgIG1zZy5zZWxsQW1vdW50ID0gQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKG1zZy5zZWxsQW1vdW50LCBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgNDoge1xyXG4gICAgICAgICAgbXNnLmJ1eUFtb3VudCA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZShtc2cuYnV5QW1vdW50LCBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgNToge1xyXG4gICAgICAgICAgbXNnLmNoYWluSWQgPSByZWFkZXIucmVhZEludDMyKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSA2OiB7XHJcbiAgICAgICAgICBtc2cudGFrZXJBZGRyZXNzID0gcmVhZGVyLnJlYWRTdHJpbmcoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIDc6IHtcclxuICAgICAgICAgIG1zZy5pbnRlZ3JhdG9ySWQgPSByZWFkZXIucmVhZFN0cmluZygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgODoge1xyXG4gICAgICAgICAgbXNnLmFmZmlsaWF0ZUFkZHJlc3MgPSByZWFkZXIucmVhZFN0cmluZygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgOToge1xyXG4gICAgICAgICAgbXNnLnNsaXBwYWdlUGVyY2VudGFnZSA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZShtc2cuc2xpcHBhZ2VQZXJjZW50YWdlLCBCaWdOdW1iZXJKcy5fcmVhZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgMTA6IHtcclxuICAgICAgICAgIG1zZy5xdW90ZVVuaXF1ZUlkID0gcmVhZGVyLnJlYWRTdHJpbmcoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtc2c7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBHZXRRdW90ZVJlc3BvbnNlID0ge1xyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZXMgR2V0UXVvdGVSZXNwb25zZSB0byBwcm90b2J1Zi5cclxuICAgKi9cclxuICBlbmNvZGU6IGZ1bmN0aW9uIChtc2c6IFBhcnRpYWw8R2V0UXVvdGVSZXNwb25zZT4pOiBVaW50OEFycmF5IHtcclxuICAgIHJldHVybiBHZXRRdW90ZVJlc3BvbnNlLl93cml0ZU1lc3NhZ2UoXHJcbiAgICAgIG1zZyxcclxuICAgICAgbmV3IEJpbmFyeVdyaXRlcigpXHJcbiAgICApLmdldFJlc3VsdEJ1ZmZlcigpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIERlc2VyaWFsaXplcyBHZXRRdW90ZVJlc3BvbnNlIGZyb20gcHJvdG9idWYuXHJcbiAgICovXHJcbiAgZGVjb2RlOiBmdW5jdGlvbiAoYnl0ZXM6IEJ5dGVTb3VyY2UpOiBHZXRRdW90ZVJlc3BvbnNlIHtcclxuICAgIHJldHVybiBHZXRRdW90ZVJlc3BvbnNlLl9yZWFkTWVzc2FnZShcclxuICAgICAgR2V0UXVvdGVSZXNwb25zZS5pbml0aWFsaXplKCksXHJcbiAgICAgIG5ldyBCaW5hcnlSZWFkZXIoYnl0ZXMpXHJcbiAgICApO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIEdldFF1b3RlUmVzcG9uc2Ugd2l0aCBhbGwgZmllbGRzIHNldCB0byB0aGVpciBkZWZhdWx0IHZhbHVlLlxyXG4gICAqL1xyXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpOiBHZXRRdW90ZVJlc3BvbnNlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHF1b3RlOiBRdW90ZS5pbml0aWFsaXplKCksXHJcbiAgICAgIG1ldGFUcmFuc2FjdGlvbjogTWV0YVRyYW5zYWN0aW9uLmluaXRpYWxpemUoKSxcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfd3JpdGVNZXNzYWdlOiBmdW5jdGlvbiAoXHJcbiAgICBtc2c6IFBhcnRpYWw8R2V0UXVvdGVSZXNwb25zZT4sXHJcbiAgICB3cml0ZXI6IEJpbmFyeVdyaXRlclxyXG4gICk6IEJpbmFyeVdyaXRlciB7XHJcbiAgICBpZiAobXNnLnF1b3RlKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZU1lc3NhZ2UoMSwgbXNnLnF1b3RlLCBRdW90ZS5fd3JpdGVNZXNzYWdlKTtcclxuICAgIH1cclxuICAgIGlmIChtc2cubWV0YVRyYW5zYWN0aW9uKSB7XHJcbiAgICAgIHdyaXRlci53cml0ZU1lc3NhZ2UoXHJcbiAgICAgICAgMixcclxuICAgICAgICBtc2cubWV0YVRyYW5zYWN0aW9uLFxyXG4gICAgICAgIE1ldGFUcmFuc2FjdGlvbi5fd3JpdGVNZXNzYWdlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gd3JpdGVyO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3JlYWRNZXNzYWdlOiBmdW5jdGlvbiAoXHJcbiAgICBtc2c6IEdldFF1b3RlUmVzcG9uc2UsXHJcbiAgICByZWFkZXI6IEJpbmFyeVJlYWRlclxyXG4gICk6IEdldFF1b3RlUmVzcG9uc2Uge1xyXG4gICAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkge1xyXG4gICAgICBjb25zdCBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpO1xyXG4gICAgICBzd2l0Y2ggKGZpZWxkKSB7XHJcbiAgICAgICAgY2FzZSAxOiB7XHJcbiAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobXNnLnF1b3RlLCBRdW90ZS5fcmVhZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgMjoge1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKG1zZy5tZXRhVHJhbnNhY3Rpb24sIE1ldGFUcmFuc2FjdGlvbi5fcmVhZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgIHJlYWRlci5za2lwRmllbGQoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1zZztcclxuICB9LFxyXG59O1xyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cclxuLy8gICAgICAgICAgSlNPTiBFbmNvZGUgLyBEZWNvZGUgICAgICAgICAgLy9cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly9cclxuXHJcbmV4cG9ydCBjb25zdCBMaXF1aWRpdHlTb3VyY2VKU09OID0ge1xyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZXMgTGlxdWlkaXR5U291cmNlIHRvIEpTT04uXHJcbiAgICovXHJcbiAgZW5jb2RlOiBmdW5jdGlvbiAobXNnOiBQYXJ0aWFsPExpcXVpZGl0eVNvdXJjZT4pOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KExpcXVpZGl0eVNvdXJjZUpTT04uX3dyaXRlTWVzc2FnZShtc2cpKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBEZXNlcmlhbGl6ZXMgTGlxdWlkaXR5U291cmNlIGZyb20gSlNPTi5cclxuICAgKi9cclxuICBkZWNvZGU6IGZ1bmN0aW9uIChqc29uOiBzdHJpbmcpOiBMaXF1aWRpdHlTb3VyY2Uge1xyXG4gICAgcmV0dXJuIExpcXVpZGl0eVNvdXJjZUpTT04uX3JlYWRNZXNzYWdlKFxyXG4gICAgICBMaXF1aWRpdHlTb3VyY2VKU09OLmluaXRpYWxpemUoKSxcclxuICAgICAgSlNPTi5wYXJzZShqc29uKVxyXG4gICAgKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBMaXF1aWRpdHlTb3VyY2Ugd2l0aCBhbGwgZmllbGRzIHNldCB0byB0aGVpciBkZWZhdWx0IHZhbHVlLlxyXG4gICAqL1xyXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpOiBMaXF1aWRpdHlTb3VyY2Uge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogXCJcIixcclxuICAgICAgcHJvcG9ydGlvbjogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBpbnRlcm1lZGlhdGVUb2tlbjogdW5kZWZpbmVkLFxyXG4gICAgICBob3BzOiBbXSxcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfd3JpdGVNZXNzYWdlOiBmdW5jdGlvbiAoXHJcbiAgICBtc2c6IFBhcnRpYWw8TGlxdWlkaXR5U291cmNlPlxyXG4gICk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcclxuICAgIGNvbnN0IGpzb246IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XHJcbiAgICBpZiAobXNnLm5hbWUpIHtcclxuICAgICAganNvbltcIm5hbWVcIl0gPSBtc2cubmFtZTtcclxuICAgIH1cclxuICAgIGlmIChtc2cucHJvcG9ydGlvbikge1xyXG4gICAgICBjb25zdCBwcm9wb3J0aW9uID0gQmlnTnVtYmVySnNKU09OLl93cml0ZU1lc3NhZ2UobXNnLnByb3BvcnRpb24pO1xyXG4gICAgICBpZiAoT2JqZWN0LmtleXMocHJvcG9ydGlvbikubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGpzb25bXCJwcm9wb3J0aW9uXCJdID0gcHJvcG9ydGlvbjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5pbnRlcm1lZGlhdGVUb2tlbiAhPSB1bmRlZmluZWQpIHtcclxuICAgICAganNvbltcImludGVybWVkaWF0ZVRva2VuXCJdID0gbXNnLmludGVybWVkaWF0ZVRva2VuO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5ob3BzPy5sZW5ndGgpIHtcclxuICAgICAganNvbltcImhvcHNcIl0gPSBtc2cuaG9wcztcclxuICAgIH1cclxuICAgIHJldHVybiBqc29uO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3JlYWRNZXNzYWdlOiBmdW5jdGlvbiAobXNnOiBMaXF1aWRpdHlTb3VyY2UsIGpzb246IGFueSk6IExpcXVpZGl0eVNvdXJjZSB7XHJcbiAgICBjb25zdCBfbmFtZSA9IGpzb25bXCJuYW1lXCJdO1xyXG4gICAgaWYgKF9uYW1lKSB7XHJcbiAgICAgIG1zZy5uYW1lID0gX25hbWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBfcHJvcG9ydGlvbiA9IGpzb25bXCJwcm9wb3J0aW9uXCJdO1xyXG4gICAgaWYgKF9wcm9wb3J0aW9uKSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX3Byb3BvcnRpb24pO1xyXG4gICAgICBtc2cucHJvcG9ydGlvbiA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfaW50ZXJtZWRpYXRlVG9rZW4gPVxyXG4gICAgICBqc29uW1wiaW50ZXJtZWRpYXRlVG9rZW5cIl0gPz8ganNvbltcImludGVybWVkaWF0ZV90b2tlblwiXTtcclxuICAgIGlmIChfaW50ZXJtZWRpYXRlVG9rZW4pIHtcclxuICAgICAgbXNnLmludGVybWVkaWF0ZVRva2VuID0gX2ludGVybWVkaWF0ZVRva2VuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX2hvcHMgPSBqc29uW1wiaG9wc1wiXTtcclxuICAgIGlmIChfaG9wcykge1xyXG4gICAgICBtc2cuaG9wcyA9IF9ob3BzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1zZztcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFF1b3RlSlNPTiA9IHtcclxuICAvKipcclxuICAgKiBTZXJpYWxpemVzIFF1b3RlIHRvIEpTT04uXHJcbiAgICovXHJcbiAgZW5jb2RlOiBmdW5jdGlvbiAobXNnOiBQYXJ0aWFsPFF1b3RlPik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoUXVvdGVKU09OLl93cml0ZU1lc3NhZ2UobXNnKSk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRGVzZXJpYWxpemVzIFF1b3RlIGZyb20gSlNPTi5cclxuICAgKi9cclxuICBkZWNvZGU6IGZ1bmN0aW9uIChqc29uOiBzdHJpbmcpOiBRdW90ZSB7XHJcbiAgICByZXR1cm4gUXVvdGVKU09OLl9yZWFkTWVzc2FnZShRdW90ZUpTT04uaW5pdGlhbGl6ZSgpLCBKU09OLnBhcnNlKGpzb24pKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBRdW90ZSB3aXRoIGFsbCBmaWVsZHMgc2V0IHRvIHRoZWlyIGRlZmF1bHQgdmFsdWUuXHJcbiAgICovXHJcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCk6IFF1b3RlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNlbGxUb2tlbkFkZHJlc3M6IFwiXCIsXHJcbiAgICAgIHNlbGxBbW91bnQ6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgYnV5VG9rZW5BZGRyZXNzOiBcIlwiLFxyXG4gICAgICBidXlBbW91bnQ6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgcHJpY2U6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgZXN0aW1hdGVkUHJpY2VJbXBhY3Q6IHVuZGVmaW5lZCxcclxuICAgICAgc2VsbFRva2VuVG9OYXRpdmVUb2tlblJhdGU6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgYnV5VG9rZW5Ub05hdGl2ZVRva2VuUmF0ZTogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBjaGFpbklkOiAwLFxyXG4gICAgICBnYXM6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgZXN0aW1hdGVkR2FzOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGdhc1ByaWNlOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIHZhbHVlOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIHByb3RvY29sRmVlOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIG1pbmltdW1Qcm90b2NvbEZlZTogQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBhbGxvd2FuY2VUYXJnZXQ6IFwiXCIsXHJcbiAgICAgIGxpcXVpZGl0eVNvdXJjZXM6IFtdLFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF93cml0ZU1lc3NhZ2U6IGZ1bmN0aW9uIChtc2c6IFBhcnRpYWw8UXVvdGU+KTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xyXG4gICAgY29uc3QganNvbjogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuICAgIGlmIChtc2cuc2VsbFRva2VuQWRkcmVzcykge1xyXG4gICAgICBqc29uW1wic2VsbFRva2VuQWRkcmVzc1wiXSA9IG1zZy5zZWxsVG9rZW5BZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5zZWxsQW1vdW50KSB7XHJcbiAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShtc2cuc2VsbEFtb3VudCk7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyhzZWxsQW1vdW50KS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAganNvbltcInNlbGxBbW91bnRcIl0gPSBzZWxsQW1vdW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmJ1eVRva2VuQWRkcmVzcykge1xyXG4gICAgICBqc29uW1wiYnV5VG9rZW5BZGRyZXNzXCJdID0gbXNnLmJ1eVRva2VuQWRkcmVzcztcclxuICAgIH1cclxuICAgIGlmIChtc2cuYnV5QW1vdW50KSB7XHJcbiAgICAgIGNvbnN0IGJ1eUFtb3VudCA9IEJpZ051bWJlckpzSlNPTi5fd3JpdGVNZXNzYWdlKG1zZy5idXlBbW91bnQpO1xyXG4gICAgICBpZiAoT2JqZWN0LmtleXMoYnV5QW1vdW50KS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAganNvbltcImJ1eUFtb3VudFwiXSA9IGJ1eUFtb3VudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5wcmljZSkge1xyXG4gICAgICBjb25zdCBwcmljZSA9IEJpZ051bWJlckpzSlNPTi5fd3JpdGVNZXNzYWdlKG1zZy5wcmljZSk7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyhwcmljZSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGpzb25bXCJwcmljZVwiXSA9IHByaWNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmVzdGltYXRlZFByaWNlSW1wYWN0ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICBjb25zdCBlc3RpbWF0ZWRQcmljZUltcGFjdCA9IEJpZ051bWJlckpzSlNPTi5fd3JpdGVNZXNzYWdlKFxyXG4gICAgICAgIG1zZy5lc3RpbWF0ZWRQcmljZUltcGFjdFxyXG4gICAgICApO1xyXG4gICAgICBqc29uW1wiZXN0aW1hdGVkUHJpY2VJbXBhY3RcIl0gPSBlc3RpbWF0ZWRQcmljZUltcGFjdDtcclxuICAgIH1cclxuICAgIGlmIChtc2cuc2VsbFRva2VuVG9OYXRpdmVUb2tlblJhdGUpIHtcclxuICAgICAgY29uc3Qgc2VsbFRva2VuVG9OYXRpdmVUb2tlblJhdGUgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShcclxuICAgICAgICBtc2cuc2VsbFRva2VuVG9OYXRpdmVUb2tlblJhdGVcclxuICAgICAgKTtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKHNlbGxUb2tlblRvTmF0aXZlVG9rZW5SYXRlKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAganNvbltcInNlbGxUb2tlblRvTmF0aXZlVG9rZW5SYXRlXCJdID0gc2VsbFRva2VuVG9OYXRpdmVUb2tlblJhdGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtc2cuYnV5VG9rZW5Ub05hdGl2ZVRva2VuUmF0ZSkge1xyXG4gICAgICBjb25zdCBidXlUb2tlblRvTmF0aXZlVG9rZW5SYXRlID0gQmlnTnVtYmVySnNKU09OLl93cml0ZU1lc3NhZ2UoXHJcbiAgICAgICAgbXNnLmJ1eVRva2VuVG9OYXRpdmVUb2tlblJhdGVcclxuICAgICAgKTtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKGJ1eVRva2VuVG9OYXRpdmVUb2tlblJhdGUpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBqc29uW1wiYnV5VG9rZW5Ub05hdGl2ZVRva2VuUmF0ZVwiXSA9IGJ1eVRva2VuVG9OYXRpdmVUb2tlblJhdGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtc2cuY2hhaW5JZCkge1xyXG4gICAgICBqc29uW1wiY2hhaW5JZFwiXSA9IG1zZy5jaGFpbklkO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5nYXMpIHtcclxuICAgICAgY29uc3QgZ2FzID0gQmlnTnVtYmVySnNKU09OLl93cml0ZU1lc3NhZ2UobXNnLmdhcyk7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyhnYXMpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBqc29uW1wiZ2FzXCJdID0gZ2FzO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmVzdGltYXRlZEdhcykge1xyXG4gICAgICBjb25zdCBlc3RpbWF0ZWRHYXMgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShtc2cuZXN0aW1hdGVkR2FzKTtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKGVzdGltYXRlZEdhcykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGpzb25bXCJlc3RpbWF0ZWRHYXNcIl0gPSBlc3RpbWF0ZWRHYXM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtc2cuZ2FzUHJpY2UpIHtcclxuICAgICAgY29uc3QgZ2FzUHJpY2UgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShtc2cuZ2FzUHJpY2UpO1xyXG4gICAgICBpZiAoT2JqZWN0LmtleXMoZ2FzUHJpY2UpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBqc29uW1wiZ2FzUHJpY2VcIl0gPSBnYXNQcmljZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1zZy52YWx1ZSkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IEJpZ051bWJlckpzSlNPTi5fd3JpdGVNZXNzYWdlKG1zZy52YWx1ZSk7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGpzb25bXCJ2YWx1ZVwiXSA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLnByb3RvY29sRmVlKSB7XHJcbiAgICAgIGNvbnN0IHByb3RvY29sRmVlID0gQmlnTnVtYmVySnNKU09OLl93cml0ZU1lc3NhZ2UobXNnLnByb3RvY29sRmVlKTtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKHByb3RvY29sRmVlKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAganNvbltcInByb3RvY29sRmVlXCJdID0gcHJvdG9jb2xGZWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtc2cubWluaW11bVByb3RvY29sRmVlKSB7XHJcbiAgICAgIGNvbnN0IG1pbmltdW1Qcm90b2NvbEZlZSA9IEJpZ051bWJlckpzSlNPTi5fd3JpdGVNZXNzYWdlKFxyXG4gICAgICAgIG1zZy5taW5pbXVtUHJvdG9jb2xGZWVcclxuICAgICAgKTtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKG1pbmltdW1Qcm90b2NvbEZlZSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGpzb25bXCJtaW5pbXVtUHJvdG9jb2xGZWVcIl0gPSBtaW5pbXVtUHJvdG9jb2xGZWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtc2cuYWxsb3dhbmNlVGFyZ2V0KSB7XHJcbiAgICAgIGpzb25bXCJhbGxvd2FuY2VUYXJnZXRcIl0gPSBtc2cuYWxsb3dhbmNlVGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5saXF1aWRpdHlTb3VyY2VzPy5sZW5ndGgpIHtcclxuICAgICAganNvbltcImxpcXVpZGl0eVNvdXJjZXNcIl0gPSBtc2cubGlxdWlkaXR5U291cmNlcy5tYXAoXHJcbiAgICAgICAgTGlxdWlkaXR5U291cmNlSlNPTi5fd3JpdGVNZXNzYWdlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ganNvbjtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9yZWFkTWVzc2FnZTogZnVuY3Rpb24gKG1zZzogUXVvdGUsIGpzb246IGFueSk6IFF1b3RlIHtcclxuICAgIGNvbnN0IF9zZWxsVG9rZW5BZGRyZXNzID1cclxuICAgICAganNvbltcInNlbGxUb2tlbkFkZHJlc3NcIl0gPz8ganNvbltcInNlbGxfdG9rZW5fYWRkcmVzc1wiXTtcclxuICAgIGlmIChfc2VsbFRva2VuQWRkcmVzcykge1xyXG4gICAgICBtc2cuc2VsbFRva2VuQWRkcmVzcyA9IF9zZWxsVG9rZW5BZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX3NlbGxBbW91bnQgPSBqc29uW1wic2VsbEFtb3VudFwiXSA/PyBqc29uW1wic2VsbF9hbW91bnRcIl07XHJcbiAgICBpZiAoX3NlbGxBbW91bnQpIHtcclxuICAgICAgY29uc3QgbSA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgQmlnTnVtYmVySnNKU09OLl9yZWFkTWVzc2FnZShtLCBfc2VsbEFtb3VudCk7XHJcbiAgICAgIG1zZy5zZWxsQW1vdW50ID0gbTtcclxuICAgIH1cclxuICAgIGNvbnN0IF9idXlUb2tlbkFkZHJlc3MgPVxyXG4gICAgICBqc29uW1wiYnV5VG9rZW5BZGRyZXNzXCJdID8/IGpzb25bXCJidXlfdG9rZW5fYWRkcmVzc1wiXTtcclxuICAgIGlmIChfYnV5VG9rZW5BZGRyZXNzKSB7XHJcbiAgICAgIG1zZy5idXlUb2tlbkFkZHJlc3MgPSBfYnV5VG9rZW5BZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX2J1eUFtb3VudCA9IGpzb25bXCJidXlBbW91bnRcIl0gPz8ganNvbltcImJ1eV9hbW91bnRcIl07XHJcbiAgICBpZiAoX2J1eUFtb3VudCkge1xyXG4gICAgICBjb25zdCBtID0gQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICBCaWdOdW1iZXJKc0pTT04uX3JlYWRNZXNzYWdlKG0sIF9idXlBbW91bnQpO1xyXG4gICAgICBtc2cuYnV5QW1vdW50ID0gbTtcclxuICAgIH1cclxuICAgIGNvbnN0IF9wcmljZSA9IGpzb25bXCJwcmljZVwiXTtcclxuICAgIGlmIChfcHJpY2UpIHtcclxuICAgICAgY29uc3QgbSA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgQmlnTnVtYmVySnNKU09OLl9yZWFkTWVzc2FnZShtLCBfcHJpY2UpO1xyXG4gICAgICBtc2cucHJpY2UgPSBtO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX2VzdGltYXRlZFByaWNlSW1wYWN0ID1cclxuICAgICAganNvbltcImVzdGltYXRlZFByaWNlSW1wYWN0XCJdID8/IGpzb25bXCJlc3RpbWF0ZWRfcHJpY2VfaW1wYWN0XCJdO1xyXG4gICAgaWYgKF9lc3RpbWF0ZWRQcmljZUltcGFjdCkge1xyXG4gICAgICBjb25zdCBtID0gQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICBCaWdOdW1iZXJKc0pTT04uX3JlYWRNZXNzYWdlKG0sIF9lc3RpbWF0ZWRQcmljZUltcGFjdCk7XHJcbiAgICAgIG1zZy5lc3RpbWF0ZWRQcmljZUltcGFjdCA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfc2VsbFRva2VuVG9OYXRpdmVUb2tlblJhdGUgPVxyXG4gICAgICBqc29uW1wic2VsbFRva2VuVG9OYXRpdmVUb2tlblJhdGVcIl0gPz9cclxuICAgICAganNvbltcInNlbGxfdG9rZW5fdG9fbmF0aXZlX3Rva2VuX3JhdGVcIl07XHJcbiAgICBpZiAoX3NlbGxUb2tlblRvTmF0aXZlVG9rZW5SYXRlKSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX3NlbGxUb2tlblRvTmF0aXZlVG9rZW5SYXRlKTtcclxuICAgICAgbXNnLnNlbGxUb2tlblRvTmF0aXZlVG9rZW5SYXRlID0gbTtcclxuICAgIH1cclxuICAgIGNvbnN0IF9idXlUb2tlblRvTmF0aXZlVG9rZW5SYXRlID1cclxuICAgICAganNvbltcImJ1eVRva2VuVG9OYXRpdmVUb2tlblJhdGVcIl0gPz9cclxuICAgICAganNvbltcImJ1eV90b2tlbl90b19uYXRpdmVfdG9rZW5fcmF0ZVwiXTtcclxuICAgIGlmIChfYnV5VG9rZW5Ub05hdGl2ZVRva2VuUmF0ZSkge1xyXG4gICAgICBjb25zdCBtID0gQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICBCaWdOdW1iZXJKc0pTT04uX3JlYWRNZXNzYWdlKG0sIF9idXlUb2tlblRvTmF0aXZlVG9rZW5SYXRlKTtcclxuICAgICAgbXNnLmJ1eVRva2VuVG9OYXRpdmVUb2tlblJhdGUgPSBtO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX2NoYWluSWQgPSBqc29uW1wiY2hhaW5JZFwiXSA/PyBqc29uW1wiY2hhaW5faWRcIl07XHJcbiAgICBpZiAoX2NoYWluSWQpIHtcclxuICAgICAgbXNnLmNoYWluSWQgPSBfY2hhaW5JZDtcclxuICAgIH1cclxuICAgIGNvbnN0IF9nYXMgPSBqc29uW1wiZ2FzXCJdO1xyXG4gICAgaWYgKF9nYXMpIHtcclxuICAgICAgY29uc3QgbSA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgQmlnTnVtYmVySnNKU09OLl9yZWFkTWVzc2FnZShtLCBfZ2FzKTtcclxuICAgICAgbXNnLmdhcyA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfZXN0aW1hdGVkR2FzID0ganNvbltcImVzdGltYXRlZEdhc1wiXSA/PyBqc29uW1wiZXN0aW1hdGVkX2dhc1wiXTtcclxuICAgIGlmIChfZXN0aW1hdGVkR2FzKSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX2VzdGltYXRlZEdhcyk7XHJcbiAgICAgIG1zZy5lc3RpbWF0ZWRHYXMgPSBtO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX2dhc1ByaWNlID0ganNvbltcImdhc1ByaWNlXCJdID8/IGpzb25bXCJnYXNfcHJpY2VcIl07XHJcbiAgICBpZiAoX2dhc1ByaWNlKSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX2dhc1ByaWNlKTtcclxuICAgICAgbXNnLmdhc1ByaWNlID0gbTtcclxuICAgIH1cclxuICAgIGNvbnN0IF92YWx1ZSA9IGpzb25bXCJ2YWx1ZVwiXTtcclxuICAgIGlmIChfdmFsdWUpIHtcclxuICAgICAgY29uc3QgbSA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgQmlnTnVtYmVySnNKU09OLl9yZWFkTWVzc2FnZShtLCBfdmFsdWUpO1xyXG4gICAgICBtc2cudmFsdWUgPSBtO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX3Byb3RvY29sRmVlID0ganNvbltcInByb3RvY29sRmVlXCJdID8/IGpzb25bXCJwcm90b2NvbF9mZWVcIl07XHJcbiAgICBpZiAoX3Byb3RvY29sRmVlKSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX3Byb3RvY29sRmVlKTtcclxuICAgICAgbXNnLnByb3RvY29sRmVlID0gbTtcclxuICAgIH1cclxuICAgIGNvbnN0IF9taW5pbXVtUHJvdG9jb2xGZWUgPVxyXG4gICAgICBqc29uW1wibWluaW11bVByb3RvY29sRmVlXCJdID8/IGpzb25bXCJtaW5pbXVtX3Byb3RvY29sX2ZlZVwiXTtcclxuICAgIGlmIChfbWluaW11bVByb3RvY29sRmVlKSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX21pbmltdW1Qcm90b2NvbEZlZSk7XHJcbiAgICAgIG1zZy5taW5pbXVtUHJvdG9jb2xGZWUgPSBtO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX2FsbG93YW5jZVRhcmdldCA9XHJcbiAgICAgIGpzb25bXCJhbGxvd2FuY2VUYXJnZXRcIl0gPz8ganNvbltcImFsbG93YW5jZV90YXJnZXRcIl07XHJcbiAgICBpZiAoX2FsbG93YW5jZVRhcmdldCkge1xyXG4gICAgICBtc2cuYWxsb3dhbmNlVGFyZ2V0ID0gX2FsbG93YW5jZVRhcmdldDtcclxuICAgIH1cclxuICAgIGNvbnN0IF9saXF1aWRpdHlTb3VyY2VzID1cclxuICAgICAganNvbltcImxpcXVpZGl0eVNvdXJjZXNcIl0gPz8ganNvbltcImxpcXVpZGl0eV9zb3VyY2VzXCJdO1xyXG4gICAgaWYgKF9saXF1aWRpdHlTb3VyY2VzKSB7XHJcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBfbGlxdWlkaXR5U291cmNlcykge1xyXG4gICAgICAgIGNvbnN0IG0gPSBMaXF1aWRpdHlTb3VyY2UuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIExpcXVpZGl0eVNvdXJjZUpTT04uX3JlYWRNZXNzYWdlKG0sIGl0ZW0pO1xyXG4gICAgICAgIG1zZy5saXF1aWRpdHlTb3VyY2VzLnB1c2gobSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtc2c7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBNZXRhVHJhbnNhY3Rpb25KU09OID0ge1xyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZXMgTWV0YVRyYW5zYWN0aW9uIHRvIEpTT04uXHJcbiAgICovXHJcbiAgZW5jb2RlOiBmdW5jdGlvbiAobXNnOiBQYXJ0aWFsPE1ldGFUcmFuc2FjdGlvbj4pOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KE1ldGFUcmFuc2FjdGlvbkpTT04uX3dyaXRlTWVzc2FnZShtc2cpKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBEZXNlcmlhbGl6ZXMgTWV0YVRyYW5zYWN0aW9uIGZyb20gSlNPTi5cclxuICAgKi9cclxuICBkZWNvZGU6IGZ1bmN0aW9uIChqc29uOiBzdHJpbmcpOiBNZXRhVHJhbnNhY3Rpb24ge1xyXG4gICAgcmV0dXJuIE1ldGFUcmFuc2FjdGlvbkpTT04uX3JlYWRNZXNzYWdlKFxyXG4gICAgICBNZXRhVHJhbnNhY3Rpb25KU09OLmluaXRpYWxpemUoKSxcclxuICAgICAgSlNPTi5wYXJzZShqc29uKVxyXG4gICAgKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBNZXRhVHJhbnNhY3Rpb24gd2l0aCBhbGwgZmllbGRzIHNldCB0byB0aGVpciBkZWZhdWx0IHZhbHVlLlxyXG4gICAqL1xyXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpOiBNZXRhVHJhbnNhY3Rpb24ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc2lnbmVyQWRkcmVzczogXCJcIixcclxuICAgICAgc2VuZGVyQWRkcmVzczogXCJcIixcclxuICAgICAgbWluR2FzUHJpY2U6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgbWF4R2FzUHJpY2U6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgZXhwaXJhdGlvblRpbWVTZWNvbmRzOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIHNhbHQ6IEJpZ051bWJlckpzLmluaXRpYWxpemUoKSxcclxuICAgICAgY2FsbERhdGE6IFwiXCIsXHJcbiAgICAgIHZhbHVlOiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGZlZVRva2VuQWRkcmVzczogXCJcIixcclxuICAgICAgZmVlQW1vdW50OiBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCksXHJcbiAgICAgIGNoYWluSWQ6IDAsXHJcbiAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiBcIlwiLFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF93cml0ZU1lc3NhZ2U6IGZ1bmN0aW9uIChcclxuICAgIG1zZzogUGFydGlhbDxNZXRhVHJhbnNhY3Rpb24+XHJcbiAgKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xyXG4gICAgY29uc3QganNvbjogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuICAgIGlmIChtc2cuc2lnbmVyQWRkcmVzcykge1xyXG4gICAgICBqc29uW1wic2lnbmVyQWRkcmVzc1wiXSA9IG1zZy5zaWduZXJBZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5zZW5kZXJBZGRyZXNzKSB7XHJcbiAgICAgIGpzb25bXCJzZW5kZXJBZGRyZXNzXCJdID0gbXNnLnNlbmRlckFkZHJlc3M7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLm1pbkdhc1ByaWNlKSB7XHJcbiAgICAgIGNvbnN0IG1pbkdhc1ByaWNlID0gQmlnTnVtYmVySnNKU09OLl93cml0ZU1lc3NhZ2UobXNnLm1pbkdhc1ByaWNlKTtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKG1pbkdhc1ByaWNlKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAganNvbltcIm1pbkdhc1ByaWNlXCJdID0gbWluR2FzUHJpY2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtc2cubWF4R2FzUHJpY2UpIHtcclxuICAgICAgY29uc3QgbWF4R2FzUHJpY2UgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShtc2cubWF4R2FzUHJpY2UpO1xyXG4gICAgICBpZiAoT2JqZWN0LmtleXMobWF4R2FzUHJpY2UpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBqc29uW1wibWF4R2FzUHJpY2VcIl0gPSBtYXhHYXNQcmljZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5leHBpcmF0aW9uVGltZVNlY29uZHMpIHtcclxuICAgICAgY29uc3QgZXhwaXJhdGlvblRpbWVTZWNvbmRzID0gQmlnTnVtYmVySnNKU09OLl93cml0ZU1lc3NhZ2UoXHJcbiAgICAgICAgbXNnLmV4cGlyYXRpb25UaW1lU2Vjb25kc1xyXG4gICAgICApO1xyXG4gICAgICBpZiAoT2JqZWN0LmtleXMoZXhwaXJhdGlvblRpbWVTZWNvbmRzKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAganNvbltcImV4cGlyYXRpb25UaW1lU2Vjb25kc1wiXSA9IGV4cGlyYXRpb25UaW1lU2Vjb25kcztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5zYWx0KSB7XHJcbiAgICAgIGNvbnN0IHNhbHQgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShtc2cuc2FsdCk7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyhzYWx0KS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAganNvbltcInNhbHRcIl0gPSBzYWx0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmNhbGxEYXRhKSB7XHJcbiAgICAgIGpzb25bXCJjYWxsRGF0YVwiXSA9IG1zZy5jYWxsRGF0YTtcclxuICAgIH1cclxuICAgIGlmIChtc2cudmFsdWUpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShtc2cudmFsdWUpO1xyXG4gICAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBqc29uW1widmFsdWVcIl0gPSB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5mZWVUb2tlbkFkZHJlc3MpIHtcclxuICAgICAganNvbltcImZlZVRva2VuQWRkcmVzc1wiXSA9IG1zZy5mZWVUb2tlbkFkZHJlc3M7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmZlZUFtb3VudCkge1xyXG4gICAgICBjb25zdCBmZWVBbW91bnQgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShtc2cuZmVlQW1vdW50KTtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKGZlZUFtb3VudCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGpzb25bXCJmZWVBbW91bnRcIl0gPSBmZWVBbW91bnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChtc2cuY2hhaW5JZCkge1xyXG4gICAgICBqc29uW1wiY2hhaW5JZFwiXSA9IG1zZy5jaGFpbklkO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy52ZXJpZnlpbmdDb250cmFjdCkge1xyXG4gICAgICBqc29uW1widmVyaWZ5aW5nQ29udHJhY3RcIl0gPSBtc2cudmVyaWZ5aW5nQ29udHJhY3Q7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ganNvbjtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9yZWFkTWVzc2FnZTogZnVuY3Rpb24gKG1zZzogTWV0YVRyYW5zYWN0aW9uLCBqc29uOiBhbnkpOiBNZXRhVHJhbnNhY3Rpb24ge1xyXG4gICAgY29uc3QgX3NpZ25lckFkZHJlc3MgPSBqc29uW1wic2lnbmVyQWRkcmVzc1wiXSA/PyBqc29uW1wic2lnbmVyX2FkZHJlc3NcIl07XHJcbiAgICBpZiAoX3NpZ25lckFkZHJlc3MpIHtcclxuICAgICAgbXNnLnNpZ25lckFkZHJlc3MgPSBfc2lnbmVyQWRkcmVzcztcclxuICAgIH1cclxuICAgIGNvbnN0IF9zZW5kZXJBZGRyZXNzID0ganNvbltcInNlbmRlckFkZHJlc3NcIl0gPz8ganNvbltcInNlbmRlcl9hZGRyZXNzXCJdO1xyXG4gICAgaWYgKF9zZW5kZXJBZGRyZXNzKSB7XHJcbiAgICAgIG1zZy5zZW5kZXJBZGRyZXNzID0gX3NlbmRlckFkZHJlc3M7XHJcbiAgICB9XHJcbiAgICBjb25zdCBfbWluR2FzUHJpY2UgPSBqc29uW1wibWluR2FzUHJpY2VcIl0gPz8ganNvbltcIm1pbl9nYXNfcHJpY2VcIl07XHJcbiAgICBpZiAoX21pbkdhc1ByaWNlKSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX21pbkdhc1ByaWNlKTtcclxuICAgICAgbXNnLm1pbkdhc1ByaWNlID0gbTtcclxuICAgIH1cclxuICAgIGNvbnN0IF9tYXhHYXNQcmljZSA9IGpzb25bXCJtYXhHYXNQcmljZVwiXSA/PyBqc29uW1wibWF4X2dhc19wcmljZVwiXTtcclxuICAgIGlmIChfbWF4R2FzUHJpY2UpIHtcclxuICAgICAgY29uc3QgbSA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgQmlnTnVtYmVySnNKU09OLl9yZWFkTWVzc2FnZShtLCBfbWF4R2FzUHJpY2UpO1xyXG4gICAgICBtc2cubWF4R2FzUHJpY2UgPSBtO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX2V4cGlyYXRpb25UaW1lU2Vjb25kcyA9XHJcbiAgICAgIGpzb25bXCJleHBpcmF0aW9uVGltZVNlY29uZHNcIl0gPz8ganNvbltcImV4cGlyYXRpb25fdGltZV9zZWNvbmRzXCJdO1xyXG4gICAgaWYgKF9leHBpcmF0aW9uVGltZVNlY29uZHMpIHtcclxuICAgICAgY29uc3QgbSA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgQmlnTnVtYmVySnNKU09OLl9yZWFkTWVzc2FnZShtLCBfZXhwaXJhdGlvblRpbWVTZWNvbmRzKTtcclxuICAgICAgbXNnLmV4cGlyYXRpb25UaW1lU2Vjb25kcyA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfc2FsdCA9IGpzb25bXCJzYWx0XCJdO1xyXG4gICAgaWYgKF9zYWx0KSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX3NhbHQpO1xyXG4gICAgICBtc2cuc2FsdCA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfY2FsbERhdGEgPSBqc29uW1wiY2FsbERhdGFcIl0gPz8ganNvbltcImNhbGxfZGF0YVwiXTtcclxuICAgIGlmIChfY2FsbERhdGEpIHtcclxuICAgICAgbXNnLmNhbGxEYXRhID0gX2NhbGxEYXRhO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX3ZhbHVlID0ganNvbltcInZhbHVlXCJdO1xyXG4gICAgaWYgKF92YWx1ZSkge1xyXG4gICAgICBjb25zdCBtID0gQmlnTnVtYmVySnMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICBCaWdOdW1iZXJKc0pTT04uX3JlYWRNZXNzYWdlKG0sIF92YWx1ZSk7XHJcbiAgICAgIG1zZy52YWx1ZSA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfZmVlVG9rZW5BZGRyZXNzID1cclxuICAgICAganNvbltcImZlZVRva2VuQWRkcmVzc1wiXSA/PyBqc29uW1wiZmVlX3Rva2VuX2FkZHJlc3NcIl07XHJcbiAgICBpZiAoX2ZlZVRva2VuQWRkcmVzcykge1xyXG4gICAgICBtc2cuZmVlVG9rZW5BZGRyZXNzID0gX2ZlZVRva2VuQWRkcmVzcztcclxuICAgIH1cclxuICAgIGNvbnN0IF9mZWVBbW91bnQgPSBqc29uW1wiZmVlQW1vdW50XCJdID8/IGpzb25bXCJmZWVfYW1vdW50XCJdO1xyXG4gICAgaWYgKF9mZWVBbW91bnQpIHtcclxuICAgICAgY29uc3QgbSA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgQmlnTnVtYmVySnNKU09OLl9yZWFkTWVzc2FnZShtLCBfZmVlQW1vdW50KTtcclxuICAgICAgbXNnLmZlZUFtb3VudCA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfY2hhaW5JZCA9IGpzb25bXCJjaGFpbklkXCJdID8/IGpzb25bXCJjaGFpbl9pZFwiXTtcclxuICAgIGlmIChfY2hhaW5JZCkge1xyXG4gICAgICBtc2cuY2hhaW5JZCA9IF9jaGFpbklkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX3ZlcmlmeWluZ0NvbnRyYWN0ID1cclxuICAgICAganNvbltcInZlcmlmeWluZ0NvbnRyYWN0XCJdID8/IGpzb25bXCJ2ZXJpZnlpbmdfY29udHJhY3RcIl07XHJcbiAgICBpZiAoX3ZlcmlmeWluZ0NvbnRyYWN0KSB7XHJcbiAgICAgIG1zZy52ZXJpZnlpbmdDb250cmFjdCA9IF92ZXJpZnlpbmdDb250cmFjdDtcclxuICAgIH1cclxuICAgIHJldHVybiBtc2c7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBHZXRRdW90ZVJlcXVlc3RKU09OID0ge1xyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZXMgR2V0UXVvdGVSZXF1ZXN0IHRvIEpTT04uXHJcbiAgICovXHJcbiAgZW5jb2RlOiBmdW5jdGlvbiAobXNnOiBQYXJ0aWFsPEdldFF1b3RlUmVxdWVzdD4pOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEdldFF1b3RlUmVxdWVzdEpTT04uX3dyaXRlTWVzc2FnZShtc2cpKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBEZXNlcmlhbGl6ZXMgR2V0UXVvdGVSZXF1ZXN0IGZyb20gSlNPTi5cclxuICAgKi9cclxuICBkZWNvZGU6IGZ1bmN0aW9uIChqc29uOiBzdHJpbmcpOiBHZXRRdW90ZVJlcXVlc3Qge1xyXG4gICAgcmV0dXJuIEdldFF1b3RlUmVxdWVzdEpTT04uX3JlYWRNZXNzYWdlKFxyXG4gICAgICBHZXRRdW90ZVJlcXVlc3RKU09OLmluaXRpYWxpemUoKSxcclxuICAgICAgSlNPTi5wYXJzZShqc29uKVxyXG4gICAgKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBHZXRRdW90ZVJlcXVlc3Qgd2l0aCBhbGwgZmllbGRzIHNldCB0byB0aGVpciBkZWZhdWx0IHZhbHVlLlxyXG4gICAqL1xyXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpOiBHZXRRdW90ZVJlcXVlc3Qge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc2VsbFRva2VuQWRkcmVzczogXCJcIixcclxuICAgICAgYnV5VG9rZW5BZGRyZXNzOiBcIlwiLFxyXG4gICAgICBzZWxsQW1vdW50OiB1bmRlZmluZWQsXHJcbiAgICAgIGJ1eUFtb3VudDogdW5kZWZpbmVkLFxyXG4gICAgICBjaGFpbklkOiAwLFxyXG4gICAgICB0YWtlckFkZHJlc3M6IFwiXCIsXHJcbiAgICAgIGludGVncmF0b3JJZDogXCJcIixcclxuICAgICAgYWZmaWxpYXRlQWRkcmVzczogdW5kZWZpbmVkLFxyXG4gICAgICBzbGlwcGFnZVBlcmNlbnRhZ2U6IHVuZGVmaW5lZCxcclxuICAgICAgcXVvdGVVbmlxdWVJZDogdW5kZWZpbmVkLFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF93cml0ZU1lc3NhZ2U6IGZ1bmN0aW9uIChcclxuICAgIG1zZzogUGFydGlhbDxHZXRRdW90ZVJlcXVlc3Q+XHJcbiAgKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xyXG4gICAgY29uc3QganNvbjogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcclxuICAgIGlmIChtc2cuc2VsbFRva2VuQWRkcmVzcykge1xyXG4gICAgICBqc29uW1wic2VsbFRva2VuQWRkcmVzc1wiXSA9IG1zZy5zZWxsVG9rZW5BZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy5idXlUb2tlbkFkZHJlc3MpIHtcclxuICAgICAganNvbltcImJ1eVRva2VuQWRkcmVzc1wiXSA9IG1zZy5idXlUb2tlbkFkZHJlc3M7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLnNlbGxBbW91bnQgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGNvbnN0IHNlbGxBbW91bnQgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShtc2cuc2VsbEFtb3VudCk7XHJcbiAgICAgIGpzb25bXCJzZWxsQW1vdW50XCJdID0gc2VsbEFtb3VudDtcclxuICAgIH1cclxuICAgIGlmIChtc2cuYnV5QW1vdW50ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICBjb25zdCBidXlBbW91bnQgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShtc2cuYnV5QW1vdW50KTtcclxuICAgICAganNvbltcImJ1eUFtb3VudFwiXSA9IGJ1eUFtb3VudDtcclxuICAgIH1cclxuICAgIGlmIChtc2cuY2hhaW5JZCkge1xyXG4gICAgICBqc29uW1wiY2hhaW5JZFwiXSA9IG1zZy5jaGFpbklkO1xyXG4gICAgfVxyXG4gICAgaWYgKG1zZy50YWtlckFkZHJlc3MpIHtcclxuICAgICAganNvbltcInRha2VyQWRkcmVzc1wiXSA9IG1zZy50YWtlckFkZHJlc3M7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLmludGVncmF0b3JJZCkge1xyXG4gICAgICBqc29uW1wiaW50ZWdyYXRvcklkXCJdID0gbXNnLmludGVncmF0b3JJZDtcclxuICAgIH1cclxuICAgIGlmIChtc2cuYWZmaWxpYXRlQWRkcmVzcyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAganNvbltcImFmZmlsaWF0ZUFkZHJlc3NcIl0gPSBtc2cuYWZmaWxpYXRlQWRkcmVzcztcclxuICAgIH1cclxuICAgIGlmIChtc2cuc2xpcHBhZ2VQZXJjZW50YWdlICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICBjb25zdCBzbGlwcGFnZVBlcmNlbnRhZ2UgPSBCaWdOdW1iZXJKc0pTT04uX3dyaXRlTWVzc2FnZShcclxuICAgICAgICBtc2cuc2xpcHBhZ2VQZXJjZW50YWdlXHJcbiAgICAgICk7XHJcbiAgICAgIGpzb25bXCJzbGlwcGFnZVBlcmNlbnRhZ2VcIl0gPSBzbGlwcGFnZVBlcmNlbnRhZ2U7XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLnF1b3RlVW5pcXVlSWQgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGpzb25bXCJxdW90ZVVuaXF1ZUlkXCJdID0gbXNnLnF1b3RlVW5pcXVlSWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ganNvbjtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIF9yZWFkTWVzc2FnZTogZnVuY3Rpb24gKG1zZzogR2V0UXVvdGVSZXF1ZXN0LCBqc29uOiBhbnkpOiBHZXRRdW90ZVJlcXVlc3Qge1xyXG4gICAgY29uc3QgX3NlbGxUb2tlbkFkZHJlc3MgPVxyXG4gICAgICBqc29uW1wic2VsbFRva2VuQWRkcmVzc1wiXSA/PyBqc29uW1wic2VsbF90b2tlbl9hZGRyZXNzXCJdO1xyXG4gICAgaWYgKF9zZWxsVG9rZW5BZGRyZXNzKSB7XHJcbiAgICAgIG1zZy5zZWxsVG9rZW5BZGRyZXNzID0gX3NlbGxUb2tlbkFkZHJlc3M7XHJcbiAgICB9XHJcbiAgICBjb25zdCBfYnV5VG9rZW5BZGRyZXNzID1cclxuICAgICAganNvbltcImJ1eVRva2VuQWRkcmVzc1wiXSA/PyBqc29uW1wiYnV5X3Rva2VuX2FkZHJlc3NcIl07XHJcbiAgICBpZiAoX2J1eVRva2VuQWRkcmVzcykge1xyXG4gICAgICBtc2cuYnV5VG9rZW5BZGRyZXNzID0gX2J1eVRva2VuQWRkcmVzcztcclxuICAgIH1cclxuICAgIGNvbnN0IF9zZWxsQW1vdW50ID0ganNvbltcInNlbGxBbW91bnRcIl0gPz8ganNvbltcInNlbGxfYW1vdW50XCJdO1xyXG4gICAgaWYgKF9zZWxsQW1vdW50KSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX3NlbGxBbW91bnQpO1xyXG4gICAgICBtc2cuc2VsbEFtb3VudCA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfYnV5QW1vdW50ID0ganNvbltcImJ1eUFtb3VudFwiXSA/PyBqc29uW1wiYnV5X2Ftb3VudFwiXTtcclxuICAgIGlmIChfYnV5QW1vdW50KSB7XHJcbiAgICAgIGNvbnN0IG0gPSBCaWdOdW1iZXJKcy5pbml0aWFsaXplKCk7XHJcbiAgICAgIEJpZ051bWJlckpzSlNPTi5fcmVhZE1lc3NhZ2UobSwgX2J1eUFtb3VudCk7XHJcbiAgICAgIG1zZy5idXlBbW91bnQgPSBtO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX2NoYWluSWQgPSBqc29uW1wiY2hhaW5JZFwiXSA/PyBqc29uW1wiY2hhaW5faWRcIl07XHJcbiAgICBpZiAoX2NoYWluSWQpIHtcclxuICAgICAgbXNnLmNoYWluSWQgPSBfY2hhaW5JZDtcclxuICAgIH1cclxuICAgIGNvbnN0IF90YWtlckFkZHJlc3MgPSBqc29uW1widGFrZXJBZGRyZXNzXCJdID8/IGpzb25bXCJ0YWtlcl9hZGRyZXNzXCJdO1xyXG4gICAgaWYgKF90YWtlckFkZHJlc3MpIHtcclxuICAgICAgbXNnLnRha2VyQWRkcmVzcyA9IF90YWtlckFkZHJlc3M7XHJcbiAgICB9XHJcbiAgICBjb25zdCBfaW50ZWdyYXRvcklkID0ganNvbltcImludGVncmF0b3JJZFwiXSA/PyBqc29uW1wiaW50ZWdyYXRvcl9pZFwiXTtcclxuICAgIGlmIChfaW50ZWdyYXRvcklkKSB7XHJcbiAgICAgIG1zZy5pbnRlZ3JhdG9ySWQgPSBfaW50ZWdyYXRvcklkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX2FmZmlsaWF0ZUFkZHJlc3MgPVxyXG4gICAgICBqc29uW1wiYWZmaWxpYXRlQWRkcmVzc1wiXSA/PyBqc29uW1wiYWZmaWxpYXRlX2FkZHJlc3NcIl07XHJcbiAgICBpZiAoX2FmZmlsaWF0ZUFkZHJlc3MpIHtcclxuICAgICAgbXNnLmFmZmlsaWF0ZUFkZHJlc3MgPSBfYWZmaWxpYXRlQWRkcmVzcztcclxuICAgIH1cclxuICAgIGNvbnN0IF9zbGlwcGFnZVBlcmNlbnRhZ2UgPVxyXG4gICAgICBqc29uW1wic2xpcHBhZ2VQZXJjZW50YWdlXCJdID8/IGpzb25bXCJzbGlwcGFnZV9wZXJjZW50YWdlXCJdO1xyXG4gICAgaWYgKF9zbGlwcGFnZVBlcmNlbnRhZ2UpIHtcclxuICAgICAgY29uc3QgbSA9IEJpZ051bWJlckpzLmluaXRpYWxpemUoKTtcclxuICAgICAgQmlnTnVtYmVySnNKU09OLl9yZWFkTWVzc2FnZShtLCBfc2xpcHBhZ2VQZXJjZW50YWdlKTtcclxuICAgICAgbXNnLnNsaXBwYWdlUGVyY2VudGFnZSA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfcXVvdGVVbmlxdWVJZCA9IGpzb25bXCJxdW90ZVVuaXF1ZUlkXCJdID8/IGpzb25bXCJxdW90ZV91bmlxdWVfaWRcIl07XHJcbiAgICBpZiAoX3F1b3RlVW5pcXVlSWQpIHtcclxuICAgICAgbXNnLnF1b3RlVW5pcXVlSWQgPSBfcXVvdGVVbmlxdWVJZDtcclxuICAgIH1cclxuICAgIHJldHVybiBtc2c7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBHZXRRdW90ZVJlc3BvbnNlSlNPTiA9IHtcclxuICAvKipcclxuICAgKiBTZXJpYWxpemVzIEdldFF1b3RlUmVzcG9uc2UgdG8gSlNPTi5cclxuICAgKi9cclxuICBlbmNvZGU6IGZ1bmN0aW9uIChtc2c6IFBhcnRpYWw8R2V0UXVvdGVSZXNwb25zZT4pOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEdldFF1b3RlUmVzcG9uc2VKU09OLl93cml0ZU1lc3NhZ2UobXNnKSk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRGVzZXJpYWxpemVzIEdldFF1b3RlUmVzcG9uc2UgZnJvbSBKU09OLlxyXG4gICAqL1xyXG4gIGRlY29kZTogZnVuY3Rpb24gKGpzb246IHN0cmluZyk6IEdldFF1b3RlUmVzcG9uc2Uge1xyXG4gICAgcmV0dXJuIEdldFF1b3RlUmVzcG9uc2VKU09OLl9yZWFkTWVzc2FnZShcclxuICAgICAgR2V0UXVvdGVSZXNwb25zZUpTT04uaW5pdGlhbGl6ZSgpLFxyXG4gICAgICBKU09OLnBhcnNlKGpzb24pXHJcbiAgICApO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIEdldFF1b3RlUmVzcG9uc2Ugd2l0aCBhbGwgZmllbGRzIHNldCB0byB0aGVpciBkZWZhdWx0IHZhbHVlLlxyXG4gICAqL1xyXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpOiBHZXRRdW90ZVJlc3BvbnNlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHF1b3RlOiBRdW90ZS5pbml0aWFsaXplKCksXHJcbiAgICAgIG1ldGFUcmFuc2FjdGlvbjogTWV0YVRyYW5zYWN0aW9uLmluaXRpYWxpemUoKSxcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfd3JpdGVNZXNzYWdlOiBmdW5jdGlvbiAoXHJcbiAgICBtc2c6IFBhcnRpYWw8R2V0UXVvdGVSZXNwb25zZT5cclxuICApOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XHJcbiAgICBjb25zdCBqc29uOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xyXG4gICAgaWYgKG1zZy5xdW90ZSkge1xyXG4gICAgICBjb25zdCBxdW90ZSA9IFF1b3RlSlNPTi5fd3JpdGVNZXNzYWdlKG1zZy5xdW90ZSk7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyhxdW90ZSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGpzb25bXCJxdW90ZVwiXSA9IHF1b3RlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobXNnLm1ldGFUcmFuc2FjdGlvbikge1xyXG4gICAgICBjb25zdCBtZXRhVHJhbnNhY3Rpb24gPSBNZXRhVHJhbnNhY3Rpb25KU09OLl93cml0ZU1lc3NhZ2UoXHJcbiAgICAgICAgbXNnLm1ldGFUcmFuc2FjdGlvblxyXG4gICAgICApO1xyXG4gICAgICBpZiAoT2JqZWN0LmtleXMobWV0YVRyYW5zYWN0aW9uKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAganNvbltcIm1ldGFUcmFuc2FjdGlvblwiXSA9IG1ldGFUcmFuc2FjdGlvbjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGpzb247XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfcmVhZE1lc3NhZ2U6IGZ1bmN0aW9uIChtc2c6IEdldFF1b3RlUmVzcG9uc2UsIGpzb246IGFueSk6IEdldFF1b3RlUmVzcG9uc2Uge1xyXG4gICAgY29uc3QgX3F1b3RlID0ganNvbltcInF1b3RlXCJdO1xyXG4gICAgaWYgKF9xdW90ZSkge1xyXG4gICAgICBjb25zdCBtID0gUXVvdGUuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICBRdW90ZUpTT04uX3JlYWRNZXNzYWdlKG0sIF9xdW90ZSk7XHJcbiAgICAgIG1zZy5xdW90ZSA9IG07XHJcbiAgICB9XHJcbiAgICBjb25zdCBfbWV0YVRyYW5zYWN0aW9uID1cclxuICAgICAganNvbltcIm1ldGFUcmFuc2FjdGlvblwiXSA/PyBqc29uW1wibWV0YV90cmFuc2FjdGlvblwiXTtcclxuICAgIGlmIChfbWV0YVRyYW5zYWN0aW9uKSB7XHJcbiAgICAgIGNvbnN0IG0gPSBNZXRhVHJhbnNhY3Rpb24uaW5pdGlhbGl6ZSgpO1xyXG4gICAgICBNZXRhVHJhbnNhY3Rpb25KU09OLl9yZWFkTWVzc2FnZShtLCBfbWV0YVRyYW5zYWN0aW9uKTtcclxuICAgICAgbXNnLm1ldGFUcmFuc2FjdGlvbiA9IG07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbXNnO1xyXG4gIH0sXHJcbn07XHJcbiJdLCJ2ZXJzaW9uIjozfQ==