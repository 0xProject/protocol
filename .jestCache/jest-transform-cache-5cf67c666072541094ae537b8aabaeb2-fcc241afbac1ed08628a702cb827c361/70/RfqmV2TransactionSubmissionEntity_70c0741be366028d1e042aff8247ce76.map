{"file":"/Users/davidwalsh/code-local/0x-rfq-api/src/entities/RfqmV2TransactionSubmissionEntity.ts","mappings":"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","names":[],"sources":["/Users/davidwalsh/code-local/0x-rfq-api/src/entities/RfqmV2TransactionSubmissionEntity.ts"],"sourcesContent":["import { BigNumber } from '@0x/utils';\nimport { Column, Entity, Index, PrimaryColumn, UpdateDateColumn } from 'typeorm';\n\nimport { BigIntTransformer, BigNumberTransformer } from './transformers';\nimport { RfqmTransactionSubmissionStatus, RfqmTransactionSubmissionType } from './types';\n\nexport type RfqmV2TransactionSubmissionEntityConstructorOpts = Pick<\n    RfqmV2TransactionSubmissionEntity,\n    'from' | 'nonce' | 'orderHash' | 'to' | 'transactionHash' | 'type'\n> &\n    Partial<RfqmV2TransactionSubmissionEntity>;\n\n@Entity({ name: 'rfqm_v2_transaction_submissions' })\nexport class RfqmV2TransactionSubmissionEntity {\n    public kind: 'rfqm_v2_transaction_submission';\n\n    @PrimaryColumn({ name: 'transaction_hash', type: 'varchar' })\n    public transactionHash: string;\n\n    // specified as a foreign key to rfqm jobs in migration, but not in the typeorm\n    // definition to preserve its being read as a string\n    @Index()\n    @Column({ name: 'order_hash', type: 'varchar' })\n    public orderHash: string;\n\n    @Index()\n    @Column({ name: 'created_at', type: 'timestamptz', default: () => 'now()' })\n    public createdAt!: Date;\n\n    @UpdateDateColumn({ name: 'updated_at', type: 'timestamptz', nullable: true })\n    public updatedAt: Date | null;\n\n    @Column({ name: 'from', type: 'varchar' })\n    public from: string;\n\n    @Column({ name: 'to', type: 'varchar' })\n    public to: string;\n\n    @Column({ name: 'nonce', type: 'bigint', transformer: BigIntTransformer })\n    public nonce: number;\n\n    // The gas price in wei. Set at transaction submission time in non-EIP1559 transactions. In EIP1559 transactions, this is set once we have the transaction receipt.\n    @Column({ name: 'gas_price', type: 'numeric', nullable: true, transformer: BigNumberTransformer })\n    public gasPrice: BigNumber | null;\n\n    // Max fee per gas in wei. Present in type 2 \"EIP1559\" transactions.\n    @Column({ name: 'max_fee_per_gas', type: 'numeric', nullable: true, transformer: BigNumberTransformer })\n    public maxFeePerGas: BigNumber | null;\n\n    // Max priority fee per gas in wei. Present in type 2 \"EIP1559\" transactions.\n    @Column({ name: 'max_priority_fee_per_gas', type: 'numeric', nullable: true, transformer: BigNumberTransformer })\n    public maxPriorityFeePerGas: BigNumber | null;\n\n    @Column({ name: 'gas_used', type: 'numeric', nullable: true, transformer: BigNumberTransformer })\n    public gasUsed: BigNumber | null;\n\n    @Column({ name: 'block_mined', type: 'numeric', nullable: true, transformer: BigNumberTransformer })\n    public blockMined: BigNumber | null;\n\n    @Index()\n    @Column({ name: 'status', type: 'varchar' })\n    public status: RfqmTransactionSubmissionStatus;\n\n    @Column({ name: 'type', type: 'varchar' })\n    public type: RfqmTransactionSubmissionType;\n\n    constructor(\n        // tslint:disable-next-line no-object-literal-type-assertion\n        opts: RfqmV2TransactionSubmissionEntityConstructorOpts = {} as RfqmV2TransactionSubmissionEntityConstructorOpts,\n    ) {\n        this.kind = 'rfqm_v2_transaction_submission';\n\n        // allow createdAt overrides for testing\n        if (opts.createdAt) {\n            this.createdAt = opts.createdAt;\n        }\n\n        this.blockMined = opts.blockMined ?? null;\n        this.from = opts.from;\n        this.gasPrice = opts.gasPrice ?? null;\n        this.gasUsed = opts.gasUsed ?? null;\n        this.maxFeePerGas = opts.maxFeePerGas ?? null;\n        this.maxPriorityFeePerGas = opts.maxPriorityFeePerGas ?? null;\n        this.nonce = opts.nonce;\n        this.orderHash = opts.orderHash;\n        this.status = opts.status ?? RfqmTransactionSubmissionStatus.Submitted;\n        this.to = opts.to;\n        this.transactionHash = opts.transactionHash;\n        this.type = opts.type;\n        this.updatedAt = opts.updatedAt ?? null;\n    }\n}\n"],"version":3}